<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>六大类常用的专业搜索工具</title>
      <link href="/2018/10/18/%E5%85%AD%E5%A4%A7%E7%B1%BB%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%93%E4%B8%9A%E6%90%9C%E7%B4%A2%E5%B7%A5%E5%85%B7/"/>
      <url>/2018/10/18/%E5%85%AD%E5%A4%A7%E7%B1%BB%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%93%E4%B8%9A%E6%90%9C%E7%B4%A2%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<h1 id="六大类常用的专业搜索工具"><a href="#六大类常用的专业搜索工具" class="headerlink" title="六大类常用的专业搜索工具"></a>六大类常用的专业搜索工具</h1><blockquote><p><strong>一、电子书检索</strong></p></blockquote><p>1、<a href="https://www.jiumodiary.com" target="_blank" rel="noopener">鸠摩搜书</a></p><hr><p><img src="https:////upload-images.jianshu.io/upload_images/624788-f63a5abc45c71f04.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>鸠摩搜书是一款非常棒的电子书搜索引擎。有了它，你可以轻易发现其他站点上的电子书资源。这样可以省去很多时间。</p><p>比如搜索弗诺·文奇老爷子的代表作《深渊上的火》，可以看到电子书的资源点在哪个网站，还可选择文件格式。</p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-641313790b146d12.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>2、<a href="http://bookzz.org/" target="_blank" rel="noopener">BOOKZZ</a>/<a href="http://sur.ly/o/gen.lib.rus.ec/AA000014" target="_blank" rel="noopener">Library Genesis</a></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-a29234457a84d0d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-a4b2fb34daa429f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p><em>对于英语每次都考99，放过1分留待刷记录的学霸大神来说，</em></p><p><em>英语原版电子书才是星辰大海啊。</em></p><p>这种等级的生物，常用的资源站已经不能满足你们的需求了。</p><p>那么来BOOKZZ和Library Genesis试试？</p><p>这两款可以说是英文教材资源站的神器了。</p><p>基本上，你想要的，它俩都能给你。</p><p>如果它俩都没有你的资源，要么此书没有电子版，要么作者还没有写。</p><p>就是这么大写的牛逼！</p><p>值得一提的是，两个网站都可以不用翻墙，</p><p>所以墙里的同学，也可以享受到来自世界的福利。</p><p><strong>其他的电子书资源站点收录如下（含国内和国外）：</strong></p><p>1、<a href="http://www.zaoshu.so" target="_blank" rel="noopener">枣书：www.zaoshu.so</a></p><p>2、<a href="http://www.nap.edu" target="_blank" rel="noopener">The National Academies Press</a></p><p>3、<a href="http://www.gutenberg.org" target="_blank" rel="noopener">Gutenberg：www.gutenberg.org</a></p><p>4、<a href="http://www.feedbooks.com" target="_blank" rel="noopener">Feedbooks：www.feedbooks.com</a></p><p>5、<a href="http://www.hathitrust.org" target="_blank" rel="noopener">HathiTrust ：www.hathitrust.org</a></p><p>6、<a href="http://www.kindlefere.com" target="_blank" rel="noopener">Kindle伴侣：www.kindlefere.com</a></p><p>7、<a href="http://www.readcolor.com" target="_blank" rel="noopener">读远：www.readcolor.com</a></p><p>8、<a href="http://www.manybooks.net" target="_blank" rel="noopener">Free eBooks For Your Kindle or Other eReader</a></p><p><em>9、QumranShop</em></p><p>10、<a href="http://www.oxingtui.com/other/resource.htm" target="_blank" rel="noopener">www.oxingtui.com/other/resource.htm</a></p><p>注：第十个是电子书资源汇总终极站，资源丰富的丧心病狂！</p><blockquote><p><strong>二、图片检索</strong></p></blockquote><p><strong>1、Google识图：</strong></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-843b962a33ae99b9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/800/format/webp" alt="img"></p><p>google家族永远不缺乏伟大的作品，而google识图就赫然在列。</p><p>相比于google识图，百度识图的精确度与其隔着两个世界的差距。</p><p>比如上图，借用两款工具，来检索我的头像。</p><p>右侧的百度同学明显就是一个吃货，看到图像是羊头，居然给出的检索结果是一个外卖。</p><p>反倒是google君很轻易发现了图片的来源。</p><p><strong>2、tineye：以图搜图</strong></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-309f99443d66e325.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>tineye是一款优秀的反向图像搜索引擎。</p><p>与Google识图一样，支持本地图片上传以及图片地址输入。</p><p>tineye搜索的准确度也是蛮高的，可以有效链接到图片来源及相关信息。</p><p>其高达158亿规模的图片库，可以充分保证你的图片检索质量。</p><p>而这一数据，每天都在不断上升。</p><p>值得一提的是，tineye 还有一个神奇的功能，就是其<a href="http://labs.tineye.com/multicolr/#colors=bf8bb2,9d5990,f18828,638fc3,214e77;weights=20,20,20,20,20;" target="_blank" rel="noopener">TinEye Labs</a>，可以根据你选定的颜色寻找与之同色的图片，非常有意思。</p><p>作为图片检索引擎领域的老字号，tineye值得每个人拥有。</p><p><strong>其他的图片检索站点收录如下：</strong></p><p>1、<a href="http://www.duososo.com" target="_blank" rel="noopener">多搜搜：</a><a href="http://www.duososo.com/" target="_blank" rel="noopener">www.duososo.com</a></p><p>2、<a href="http://gensun.org/" target="_blank" rel="noopener">原寸画像检索：gensun.org</a></p><p>3、<a href="http://www.incogna.com" target="_blank" rel="noopener">incogna：www.incogna.com</a></p><p>4、<a href="http://www.tiltomo.com" target="_blank" rel="noopener">tiltomo：www.tiltomo.com</a></p><p>5、<a href="http://www.wicsy.com" target="_blank" rel="noopener">wicsy：www.wicsy.com</a></p><p>6、<a href="http://www.flickr.com" target="_blank" rel="noopener">www.flickr.com</a></p><p>7、<a href="http://www.dashmote.com" target="_blank" rel="noopener">www.dashmote.com</a></p><p>8、<a href="http://www.terragalleria.com" target="_blank" rel="noopener">www.terragalleria.com</a></p><p>9、<a href="http://image.baidu.com/?fr=shitu" target="_blank" rel="noopener">百度识图</a>  支持一下百度同学，毕竟国产</p><blockquote><p><strong>三、网盘资源检索：</strong></p></blockquote><p><strong>1、胖次搜索</strong></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-74004249a43ad48f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>胖次搜索是一个很有意思的网盘资源搜索引擎。</p><p>相信第一次听到这个名字，会感觉这个网站是一个二次元的动漫展。</p><p>然而人家是提供百度网盘资源检索的。</p><p>胖次的网盘解析是一个利民工程，可以解析被吞的百度云分享链接。</p><p>虽然解析能力还有待提升，但是值得一试</p><p>资源的失效识别功能也很棒，可以有效减少我们的无谓操作。</p><p>作为一款漂亮的网盘搜索工具，虽然产品还有很大提升空间，但是可以作为资源挖掘的一项选择。</p><p><strong>2、百度网盘搜索</strong></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-da31ea560bb11402.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>百度网盘是比百度本身更靠谱的搜索工具。</p><p>通过关键词，我们可以检索到大量的文件资源。</p><p>虽然信息的甄选是一个耗时的过程，但是丰富的资源也是一个不错的选择。</p><p><strong>其他的网盘搜索引擎收录如下：</strong></p><p>1、盘搜：<a href="http://www.pansou.com/" target="_blank" rel="noopener">www.pansou.com</a></p><p>2、西林街：<a href="http://www.xilinjie.com/" target="_blank" rel="noopener">www.xilinjie.com</a></p><p>3、盘易搜：<a href="http://panyisou.com/" target="_blank" rel="noopener">panyisou.com</a></p><p>4、麦库搜索：<a href="http://www.baidu10.net/" target="_blank" rel="noopener">www.baidu10.net</a></p><p>5、云搜：<a href="http://www.daysou.com/" target="_blank" rel="noopener">www.daysou.com</a></p><p>6、找文件：<a href="http://www.zhaofile.com/" target="_blank" rel="noopener">www.zhaofile.com</a></p><p>7、360搜网盘<a href="http://www.360swp.com/" target="_blank" rel="noopener">www.360swp.com</a></p><p>8、尝鲜搜索：<a href="http://search.likebeta.com/" target="_blank" rel="noopener">search.likebeta.com</a></p><p>9、吸盘：<a href="http://so.xpan.me/index.html" target="_blank" rel="noopener">so.xpan.me/index.html</a></p><p>10、去转盘：<a href="http://www.quzhuanpan.com/" target="_blank" rel="noopener">www.quzhuanpan.com</a></p><blockquote><p><strong>四、音乐检索</strong></p></blockquote><p>作为网易云的忠实拥簇，一般来说，刷刷评论区，随机听一听FM，再收一收网易的推荐，</p><p>基本上我的音乐边界就可以触到了。</p><p>然而，对于那些视音乐为生命的乐迷来说，世界上的好音乐总是不嫌多的。</p><p>有什么办法可以找到更丰富的音乐资源，享受更极致的音乐体验呢？</p><p>下面的音乐检索工具，相信你一定不会错过。</p><p><strong>1、Listen 1 音乐播放器</strong></p><p>Listen 1是一款搜索与播放来自网易云音乐，虾米，QQ音乐三个主流音乐网站的曲库软件。</p><p>这款软件的作用不言而喻，可以帮你减少在不同音乐站点搜索资源的时间花费。</p><p>软件本身支持windows、linux、MAC以及chrome和firefox的插件。</p><p>对多平台的支持，大大提高了普适性。</p><p>2、<a href="http://www.themefinder.org" target="_blank" rel="noopener">Themefinder</a></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-0f7fda5922e82627.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>themefinder是一款为专业音乐人士准备的网站。</p><p>不似midomi是需要哼唱来识别歌曲，</p><p>themefinder的门槛在外行人看来，就是一堵高墙。</p><p>因为使用它的前提是你需要了解一些乐理知识。</p><p>但是因为其丰富的资源和准确的匹配，甚至使用的门槛，</p><p>对很多音乐达人来说，这是一个不错的去处。</p><p><strong>其他的音乐搜索工具收录如下：</strong></p><p>1、<a href="http://www.last.fm/zh/" target="_blank" rel="noopener">Last.fm - 通过网上最大的音乐库收听免费音乐、观赏精彩视频</a></p><p>2、<a href="https://www.musikki.com" target="_blank" rel="noopener">Musikki</a></p><p>3、<a href="http://www.midomi.com" target="_blank" rel="noopener">www.midomi.com</a></p><p>4、<a href="http://www.bored.com/" target="_blank" rel="noopener">www.bored.com</a></p><p>5、<a href="http://www.yamelo.com/" target="_blank" rel="noopener">Yamelo music videos new</a></p><p>6、<a href="http://www.sogua.com" target="_blank" rel="noopener">www.sogua.com</a></p><p>7、<a href="http://www.musicsearch.com" target="_blank" rel="noopener">www.musicsearch.com</a></p><p>8、<a href="http://www.teoria.com" target="_blank" rel="noopener">www.teoria.com</a></p><p>9、<a href="http://www.musipedia.com/" target="_blank" rel="noopener">www.musipedia.com</a></p><blockquote><p><strong>五、职位搜索引擎</strong></p></blockquote><p>按理说，职位搜索引擎是一个鸡肋般的存在。</p><p>因为国内的一些主流的招聘网站，基本上能够满足我们的需求。</p><p>智联、前程自不必说，拉勾、脉脉、boss直聘、猎聘、领英等，基本上就可以搞定我们的95%网络求职的需求。</p><p>一些垂着的，比如topys、站酷、秒聘，甚至水木社区招聘、itpub、豆瓣招聘小组等，都可以获得丰富的招聘机会。</p><p>因此机会从来不缺，但是我们缺一个获取机会的最快捷径。</p><p>这时候，一款合适的搜索引擎工具，就显得尤为重要了。</p><p>下面来分享几款较好的搜索引擎工具。</p><p>1、<a href="http://zhaopin.baidu.com/" target="_blank" rel="noopener">百度招聘</a></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-e8ad9b6a7b3f27bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>作为一款搜索引擎，百度的作用绝不仅仅是你的提问接收器。</p><p>实际上，人家不仅仅发发小广告，招聘引擎工具也是蛮不错的。</p><p>通过职位关键词，你可以找到大量的国内主流招聘网站发布的求职机会。</p><p>比如，前程、智联、拉勾、boss直聘等。</p><p>这样做的好处是明显的，不用疲于奔命，可以有效降低时间成本。</p><p>2、<a href="http://www.careerjet.cn" target="_blank" rel="noopener">careerjet</a></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-c6cee6369264ab92.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>Careerjet是一款世界级的职位搜索引擎，支持全球62个国家的职位搜索。</p><p>Careerjet中国在2013年进驻中国，对于一款搜索引擎来说，在中国立足，总是显得有限水土不服。</p><p>虽然同样是抓取网络的职位信息，与百度不同，Careerjet似乎对主流招聘网站的职位搜索支持不够。</p><p>但是，Careerjet可以抓取到一些不易察觉的职位，比如发布在腾讯、网易、华为官网上的招聘信息。</p><p>而且对海外支持，可以让你对外面世界束手无措的时候，找到一丝方向。</p><p>总体来说，可以试试。</p><p><strong>其他的职位检索工具收录如下：</strong></p><p>1、<a href="http://cn.indeed.com" target="_blank" rel="noopener">Indeed 中国</a> 大名鼎鼎的indeed，但是对国内职位的支持不够。</p><p>2、<a href="http://cn.neuvoo.com" target="_blank" rel="noopener">neuvoo：cn.neuvoo.com</a></p><p>3、<a href="http://www.cn.jooble.org" target="_blank" rel="noopener">Jooble：www.cn.jooble.org</a></p><p>4、<a href="http://www.boryi.com" target="_blank" rel="noopener">伯益 ：www.boryi.com</a></p><p>5、<a href="http://www.simplyhired.cn" target="_blank" rel="noopener">simplyhired：www.simplyhired.cn</a></p><blockquote><p><strong>六、价格检索</strong></p></blockquote><p>现在市场上的产品信息实在是太多太杂。</p><p>因为缺乏一个共同的标准，所以我们在购物的时候，总是满怀感叹：为什么同一件商品会有不同的价格。</p><p>这里面除了促销、进货成本的因素，平台本身也是一个很大的影响因子。</p><p>为了消除价格信息不对称引起的无效浪费，</p><p>我们需要一些有用的比价工具。</p><p>下面就是一些有效的比价网站。</p><p>1、<a href="http://www.b1bj.com/" target="_blank" rel="noopener">比一比价</a></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-77726509eb27b8bd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>比一比价网是一款非常不错的购物价格搜索引擎。</p><p>主要检索各个购物网站同类商品的价格。比如京东、天猫、1号店、亚马逊、当当等。</p><p>网站主要支持关键词搜索，可以横向对比商品在各渠道的价格分布。</p><p>图书比价功能也很不错，堪比枣书。</p><p>2、<a href="http://www.xitie.com/" target="_blank" rel="noopener">历史价格检索</a></p><p><img src="https:////upload-images.jianshu.io/upload_images/624788-4183a257bfb2f55c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>西贴真是一个神奇的网站。</p><p>作为一个商品历史价格查询器，西贴可以监控到某个商品的历史价格分布。</p><p>细心观察网站提供的价格变化曲线，我们可以发现一些不为察觉的价格猫腻。</p><p>若是放在双十一前后，大家是不是会忍住剁手的欲望？</p><p><strong>其他的价格检索收录如下：</strong></p><p>1、<a href="http://www.tangou.cn/" target="_blank" rel="noopener">Tangou：www.tangou.cn</a></p><p>2、<a href="http://go.xungou.com" target="_blank" rel="noopener">寻购网：go.xungou.com</a></p><p>3、<a href="http://www.huihui.cn/" target="_blank" rel="noopener">惠惠网 ：www.huihui.cn</a></p><p>4、<a href="http://www.etao.com/" target="_blank" rel="noopener">一淘网：www.etao.com</a> </p><p>5、<a href="http://www.smarter.com.cn/" target="_blank" rel="noopener">聪明点：www.smarter.com.cn</a></p><p>6、<a href="http://www.b5m.com/" target="_blank" rel="noopener">帮5买：www.b5m.com</a></p><p>7、<a href="http://priceonomics.com/" target="_blank" rel="noopener">Priceonomics：www.priceonomics.com</a></p><p>8、<a href="https://www.3dprintler.com/" target="_blank" rel="noopener">3Dprintler：www.3dprintler.com</a></p><p>9、<a href="http://kakaku.com/" target="_blank" rel="noopener">価格.com</a>日本的价格搜索引擎</p><p>10、<a href="http://www.bizrate.com/" target="_blank" rel="noopener">Bizrate</a> 美国人的神器</p><p><strong>- 写在最后 -</strong></p><p>信息检索是一个话题延伸非常广的课题。一个好的工具，往往可以大幅提升我们的搜索能力。</p><p>但是工具不在多，一两款顺手即可解决我们的日常需求。</p><p>所以贪多嚼不烂，收藏无益，使用才有价值。</p><hr><p>这里有几篇类似文章，在我的【凌晨技能get】里面，也许你会喜欢。</p><p><a href="https://www.jianshu.com/p/9fbe2a0fd3c7" target="_blank" rel="noopener">不会配图？看看简书达人在哪找的图片 </a></p><p><a href="https://www.jianshu.com/p/a68d76a20d6c" target="_blank" rel="noopener">六款堪称神器的网站</a></p><p><a href="https://www.jianshu.com/p/d2e75c576c65" target="_blank" rel="noopener">六大上网更高效的工具及方法论。</a></p><p><a href="https://www.jianshu.com/p/645de34cd0b3" target="_blank" rel="noopener">六款不容错过的软件神器</a></p><p><a href="https://www.jianshu.com/p/43e9a99d57d0" target="_blank" rel="noopener">六款不容错过的超级网址导航</a></p><p><a href="https://www.jianshu.com/p/64201ccc2664" target="_blank" rel="noopener">六个易被忽视的网络技巧</a></p><p>作者：凌晨四点半</p><p>原文链接：<a href="https://www.jianshu.com/p/ae7c8513bb00" target="_blank" rel="noopener">https://www.jianshu.com/p/ae7c8513bb00</a></p><p>來源：简书</p><p>简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 日常 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>中文版unittest官方文档</title>
      <link href="/2018/10/17/%E4%B8%AD%E6%96%87%E7%89%88unittest%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3/"/>
      <url>/2018/10/17/%E4%B8%AD%E6%96%87%E7%89%88unittest%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<p><strong>pyunit中文版</strong></p><p>——基于python3.6.6rc1</p><h2 id="1-unittest框架"><a href="#1-unittest框架" class="headerlink" title="1. unittest框架"></a><strong>1. unittest框架</strong></h2><p>unittest的设计灵感最初来源于Junit以及其他语言中具有共同特征的单元框架。它支持自动化测试，在测试中使用setup（初始化）和shutdown（关闭销毁）操作，组织测试用例为套件（批量运行），以及把测试和报告独立开来。</p><p>为了实现这些，unittest以一种面向对象的方式产生了一些很重要的概念：</p><ul><li>test fixture</li></ul><p>fixture表示tests运行前需要做的准备工作以及结束后的清理工作。比如，创建临时/代理数据库、目录或启动一个服务器进程。</p><ul><li>test case</li></ul><p>test case是单元测试中的最小个体。它检查特定输入的响应信息。unittest提供了一个基础类：TestCase，用来创建test case。</p><ul><li>test suite</li></ul><p>test suite是test case的合集，通常用test suite将test case汇总然后一起执行。</p><ul><li>test runner</li></ul><p>test runner是一个执行器，它可以执行case并提供结果给用户。它可以提供图形界面、文本界面或者返回一个值表示测试结果。</p><h2 id="1-1-示例"><a href="#1-1-示例" class="headerlink" title="1.1. 示例"></a>1.1. <strong>示例</strong></h2><p>unittest模块提供了丰富的工具，用于组织和运行tests。本节演示了其中一小部分功能，但足以满足大多数用户的需要。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestStringMethods</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_upper</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertEqual(<span class="string">'foo'</span>.upper(), <span class="string">'FOO'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_isupper</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertTrue(<span class="string">'FOO'</span>.isupper())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertFalse(<span class="string">'Foo'</span>.isupper())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_split</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        s = <span class="string">'hello world'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertEqual(s.split(), [<span class="string">'hello'</span>, <span class="string">'world'</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># check that s.split fails when the separator is not a string</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> self.assertRaises(TypeError):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            s.split(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><p>使用unittest.TestCase的子类创建了一个case。其中有三个test开头的测试方法，这种命名方式可以告诉执行器（test runner）哪些方法可以被执行。也就是说test开头的测试方法才会被执行。</p><p>这些测试方法中都使用了assertEqual()来判断预期值，使用assertTrue()和assertFalse()来验证条件，或使用assertRaises()来验证某个具体的被抛出的异常。这些断言方法经常被用来替代assert，这样执行完成后，所有的测试结果都会被记录并写进报告。</p><p>setUp()和tearDown()方法可以实现在测试运行前后做一些其他工作，具体使用情况下面提出。</p><p>最后这部分展示了一个最简单的执行测试的方式。unittest.main()提供了一个命令行接口，当使用命令行运行测试完成后，大致会打印如下信息：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Ran <span class="number">3</span> tests <span class="keyword">in</span> <span class="number">0.000</span>s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">OK</span><br></pre></td></tr></table></figure><p>使用-v参数将可以显示更多信息。如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">test_isupper (__main__.TestStringMethods) ... ok</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_split (__main__.TestStringMethods) ... ok</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_upper (__main__.TestStringMethods) ... ok</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Ran <span class="number">3</span> tests <span class="keyword">in</span> <span class="number">0.001</span>s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">OK</span><br></pre></td></tr></table></figure><p>上面的例子展示了unittest中最常用的功能特征，这些足以应付平时的需要。文档的剩余部分将从头开始讲解所有unittest的内容。</p><h2 id="1-2-命令行"><a href="#1-2-命令行" class="headerlink" title="1.2. 命令行"></a>1.2. <strong>命令行</strong></h2><p>unittest模块支持从命令行运行模块中的测试、类，甚至是单独的测试方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python -m unittest test_module1 test_module2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">python -m unittest test_module.TestClass</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">python -m unittest test_module.TestClass.test_method</span><br></pre></td></tr></table></figure><p>可以将模块名和有效的类或方法名组合在一起运行。</p><p>模块也可以是带路径的方式：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m unittest tests/test_something.py</span><br></pre></td></tr></table></figure><p>你也可以使用文件名代替测试模块名。指定的文件必须是可导入的。路径就是去掉“.py”后的文件名，文件名和模块名之间使用“.”连接。如果你要执行的测试文件不能被作为模块导入，也可以直接执行该文件。</p><p>通过传入-v选项，你可以查看更多的执行细节：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m unittest -v test_module</span><br></pre></td></tr></table></figure><p>当命令行中不传入任何执行目标时，默认执行Test Discovery中的测试：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m unittest</span><br></pre></td></tr></table></figure><p>查看所有命令参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m unittest -h</span><br></pre></td></tr></table></figure><p>该功是能在3.2版本中新增的。早期的版本只能运行单独的测试方法，不能运行模块和测试类。</p><h3 id="1-2-1-命令行选项"><a href="#1-2-1-命令行选项" class="headerlink" title="1.2.1. 命令行选项"></a>1.2.1. <strong>命令行选项</strong></h3><p>unittest支持以下命令行选项：</p><p><strong>-b，–buffer</strong></p><p>当测试在运行时，输出的错误信息被缓存在内存中，如果测试运行通过，则释放缓存，如果测试失败，信息就会被打印出来。</p><p><strong>-c，–catch</strong></p><p>在测试执行时按下Control-C将会等待当前测试完成并输入所有测试报告。第二次按下Control-C就会触发<a href="https://blog.csdn.net/ljl6158999/article/details/80994979#KeyboardInterrupt" target="_blank" rel="noopener">KeyboardInterrupt</a>异常。</p><p><strong>-f，–failfast</strong></p><p>测试一旦出现错误或失败就停止运行。</p><p><strong>–locals</strong></p><p>在异常回溯中打印本地变量信息。</p><p>命令行选项-b、-c和-f在3.2版本中新增。</p><p>命令行选项–locals在3.5版本中新增。</p><p>命令行选项也可以在Test Discovery中使用，所有项目中的测试都可以使用。</p><h2 id="1-3-Test-Discovery"><a href="#1-3-Test-Discovery" class="headerlink" title="1.3. Test Discovery"></a>1.3. <strong>Test Discovery</strong></h2><p>3.2版本中新增。</p><p>unittest支持简单的测试发现功能。为了兼容test discovery，所有的测试文件必须是能从项目的顶层目录导入的模块或包（包括命名空间包），意思就是文件名必须是有效的标识符。</p><p>Test Discovery在TestLoader.discover()中实现，但是仍能用于命令行模式。基本使用方法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd project_directory</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">python -m unittest discover</span><br></pre></td></tr></table></figure><p>注意：python -m unittest虽然作用和python -m unittest discovery一样。但是如果要传递参数给discover的话还是要写完整的命令。</p><p>选项：</p><p><strong>-v，–verbose</strong></p><p>详细的输出</p><p><strong>-s，–start-directory 目录</strong></p><p>Discovery寻找的其实目录（默认.）</p><p><strong>-p，–pattern 模式</strong></p><p>匹配的测试文件的格式（默认test*.py）</p><p><strong>-t，–top-level-directory    目录</strong></p><p>项目的顶级目录（directory的默认起始目录）</p><p>-s，-p和-t选项可以作为位置参数，以下两个命令是等效的：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python -m unittest discover -s project_directory -p <span class="string">"*_test.py"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">python -m unittest discover project_directory <span class="string">"*_test.py"</span></span><br></pre></td></tr></table></figure><p>可以使用传递一个包名路径，比如 myproject.subpackage.test作为初始目录。这样的话，这个包就会被导入，包的路径就会被当做初始目录。</p><p>注意：Discovery通过导入的方式来加载测试。一旦test discovery从你提供的初始目录中发现了所有的测试文件，它就会将路径转换成包名导入，比如foo/bar/baz.py会被当做foo.bar.baz进行导入。</p><p>如果你有一个在公共的包并且使用test discovery去加载该包的另一个不同副本，那么就会引发异常，导致discovery退出。</p><p>如果你提供了一个起始目录作为包名称而不是提供一个路径作为目录，那么discovery就会认为所有位置的文件都是你需要导入的（包括中间路径），这样就不会报错。</p><p>测试模块和包通过load_tests协议以指定的方式加载测试和运行discover。</p><p>3.4版本中修改：Test discovery支持命名空间包。</p><h2 id="1-4-组织测试代码"><a href="#1-4-组织测试代码" class="headerlink" title="1.4. 组织测试代码"></a>1.4. <strong>组织测试代码</strong></h2><p>单元测试中最基本的组成是test cases——单一的测试逻辑场景以及正确性校验。在unittest中，test cases被unittest.TestCae的实例替代。要编写你自己的测试用例就必须写一个TestCase的子类或者使用FunctionTestCase。</p><p>一个TestCase实例的测试代码必须是完整且自包含的，这样它就可以单独执行或者和其他用例组合执行。</p><p>最简单的TestCase子类只需实现一个测试方法（名字以test开头）就可以实现对特定测试代码的执行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DefaultWidgetSizeTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_default_widget_size</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        widget = Widget(<span class="string">'The widget'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertEqual(widget.size(), (<span class="number">50</span>, <span class="number">50</span>))</span><br></pre></td></tr></table></figure><p>注意，为了测试我们使用了TestCase基类里面的assert*()的方法。如果测试失败，就会抛出一个异常并且显示具体信息，unittest就认为该测试失败。任何的异常都被视为错误。</p><p>当测试比较多的时候，测试的初始化就显得重复冗余。我们可以将这部分单独拿出来，然后通过实现一个setUp()方法，测试框架会自动的在每个测试执行前执行该方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WidgetTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.widget = Widget(<span class="string">'The widget'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_default_widget_size</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertEqual(self.widget.size(), (<span class="number">50</span>,<span class="number">50</span>),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                         <span class="string">'incorrect default size'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_widget_resize</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.widget.resize(<span class="number">100</span>,<span class="number">150</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertEqual(self.widget.size(), (<span class="number">100</span>,<span class="number">150</span>),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                         <span class="string">'wrong size after resize'</span>)</span><br></pre></td></tr></table></figure><p>注意：这种方式运行时，各测试方法的执行顺序是根据方法名字符串形式进行排序的。</p><p>当测试进行时，如果setUp()方法引发异常，框架会认为该测试遇到了错误，测试方法就不会被执行。</p><p>同样的，我们可以提供一个tearDown()方法，在测试执行完成后执行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WidgetTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.widget = Widget(<span class="string">'The widget'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.widget.dispose()</span><br></pre></td></tr></table></figure><p>只要setUp()执行成功了，那么不管测试方法是否成功，tearDown()方法都会执行。</p><p>对于测试代码来讲，这样的工作机制成为Test Fixture。一个新的TestCase实例被当做Test Fixture创建，用于执行每个测试方法。也就是说，TestCase.setUp、TestCase.tearDown和TestCase.<strong>init</strong>会在每个用例执行前运行一次。</p><p>建议使用TestCase去根据测试的特性对其进行分组。对此，unittest提供了一个机制：测试套件（test suit），由unittest的TestSuit类实现。如果测试很多的话，调用unittest.main()方法就可以收集模块中所有的测试方法并执行。</p><p>如果你想要自定义测试套件的内容，你可以这么做：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    suite = unittest.TestSuite()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    suite.addTest(WidgetTestCase(<span class="string">'test_default_widget_size'</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    suite.addTest(WidgetTestCase(<span class="string">'test_widget_resize'</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> suite</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    runner = unittest.TextTestRunner()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    runner.run(suite())</span><br></pre></td></tr></table></figure><p>你可以将测试用例或者测试套件写在被测试的代码中，但是并不建议这么做。应该将测试部分单独写在一个文件，这么做有以下好处：</p><ul><li>测试模块可以单独在命令行运行</li><li>测试代码部分可以更容易的单独拿出来</li><li>不会为了迎合被测试的代码而随意修改测试代码</li><li>测试代码会更少的修改</li><li>被测试代码重构更容易</li><li>用C写的模块测试的代码必须是单独的模块，那么为什么不保持一直呢？</li><li>如果测试策略改变了，不需要去修改源码</li></ul><h2 id="1-5-使用旧的测试代码"><a href="#1-5-使用旧的测试代码" class="headerlink" title="1.5. 使用旧的测试代码"></a>1.5. <strong>使用旧的测试代码</strong></h2><p>一些使用者会发现现存的一些旧的测试代码并不是TestCase的子类，但是仍需要执行。</p><p>基于此，unittest提供了FunctionTestCase类。TestCase的子类可以直接包含这些旧的测试类，并且同样可以实现用例的setUp()初始化和tearDown()销毁操作。</p><p>例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testSomething</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    something = makeSomething()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">assert</span> something.name <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ...</span></span><br></pre></td></tr></table></figure><p>此时可以创建一个等效的测试用例如下，包含set-up和tear-down方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">testcase = unittest.FunctionTestCase(testSomething,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                                     setUp=makeSomethingDB,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                                     tearDown=deleteSomethingDB)</span><br></pre></td></tr></table></figure><p>注意：虽然FunctionTestCase可以很快的将普通测试方法转换成单元测试，但一般不建议这么做。尽量花时间去构造TestCase的子类作为测试将会使的以后的代码重构变得容易。</p><p>有时候，已有的测试是使用doctest写的。如果这样的话，doctest提供了一个DocTestSuites类，可以自动的将该测试转换成unittest.TestSuite实例。</p><h2 id="1-6-跳过失败的测试"><a href="#1-6-跳过失败的测试" class="headerlink" title="1.6. 跳过失败的测试"></a>1.6. <strong>跳过失败的测试</strong></h2><p>版本3.1中新增。</p><p>Unittest支持跳过单个测试以及整个测试类。此外，还支持将一个测试标记为“预计失败”，表示该测试有问题，但是这个失败不会在TestResult中记录。</p><p>跳过一个测试很简单，只需使用skip()或者附带一些条件判断的skip()。</p><p>一般的跳过是这样的：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skip("demonstrating skipping")</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_nothing</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.fail(<span class="string">"shouldn't happen"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skipIf(mylib.__version__ &lt; (1, 3),</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                     <span class="string">"not supported in this library version"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_format</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Tests that work for only a certain version of the library.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skipUnless(sys.platform.startswith("win"), "requires Windows")</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_windows_support</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># windows specific testing code</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>以下是运行的结果输出：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">test_format (__main__.MyTestCase) ... skipped <span class="string">'not supported in this library version'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_nothing (__main__.MyTestCase) ... skipped <span class="string">'demonstrating skipping'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_windows_support (__main__.MyTestCase) ... skipped <span class="string">'requires Windows'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Ran <span class="number">3</span> tests <span class="keyword">in</span> <span class="number">0.005</span>s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">OK (skipped=<span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>类的跳过和方法一样：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@unittest.skip("showing class skipping")</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySkippedTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_not_run</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>TestCase.setUp()也可以设置跳过测试，这在将一些资源设置为不可用时非常实用。</p><p>对于预期的失败使用exceptedFailture()装饰器：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExpectedFailureTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.expectedFailure</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_fail</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.assertEqual(<span class="number">1</span>, <span class="number">0</span>, <span class="string">"broken"</span>)</span><br></pre></td></tr></table></figure><p>你也可以自定义一个跳过装饰器，通过在测试上设置一个skip()的装饰器。这个装饰器会直接跳过该测试，除非其有某个特殊属性。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">skipUnlessHasattr</span><span class="params">(obj, attr)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> hasattr(obj, attr):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">lambda</span> func: func</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> unittest.skip(<span class="string">"&#123;!r&#125; doesn't have &#123;!r&#125;"</span>.format(obj, attr))</span><br></pre></td></tr></table></figure><p>以下这些装饰器实现了跳过测试以及预期失败的功能：</p><p><a href="mailto:**@unittest.skip" target="_blank" rel="noopener">**@unittest.skip</a>(reason)**</p><p>直接跳过被装饰的测试，reason是描述跳过的原因。</p><p><a href="mailto:**@unittest.skipIf" target="_blank" rel="noopener">**@unittest.skipIf</a>(condition, reason)**</p><p>如果if的条件成立则跳过测试。</p><p><a href="mailto:**@unittest.skipUnless" target="_blank" rel="noopener">**@unittest.skipUnless</a>(condition, reason)**</p><p>除非条件为真，否则跳过测试。</p><p><a href="mailto:**@unittest.expectedFailure" target="_blank" rel="noopener">**@unittest.expectedFailure</a>**</p><p>标记测试为失败，如果在运行时失败，则不会在结果中统计。</p><p><strong>exception unittest.SkipTest(reason)</strong></p><p>跳过测试抛出的异常。</p><p>通常你可以使用TestCase.skipTest()或者上述装饰器中的某一个来替代这种抛异常的做法。如果测试被跳过，则不会执行setUp()和tearDown()方法；如果类被跳过，则不会执行setUpClass()和tearDownClass()方法；如果模块被跳过，则不会执行setUpModule()和tearDownModule()方法。</p><h2 id="1-7-使用subTest"><a href="#1-7-使用subTest" class="headerlink" title="1.7. 使用subTest()"></a>1.7. <strong>使用subTest()</strong></h2><p>版本3.4中新增。</p><p>当部分测试只有细微的差别时，比如参数，unittest支持直接在测试方法内部使用subTest()上下文管理器来实现：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumbersTest</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_even</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Test that numbers between 0 and 5 are all even.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">6</span>):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> self.subTest(i=i):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                self.assertEqual(i % <span class="number">2</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>输出为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">======================================================================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FAIL: test_even (__main__.NumbersTest) (i=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  File <span class="string">"subtests.py"</span>, line <span class="number">32</span>, <span class="keyword">in</span> test_even</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    self.assertEqual(i % <span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AssertionError: <span class="number">1</span> != <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">======================================================================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FAIL: test_even (__main__.NumbersTest) (i=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  File <span class="string">"subtests.py"</span>, line <span class="number">32</span>, <span class="keyword">in</span> test_even</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    self.assertEqual(i % <span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AssertionError: <span class="number">1</span> != <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">======================================================================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FAIL: test_even (__main__.NumbersTest) (i=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  File <span class="string">"subtests.py"</span>, line <span class="number">32</span>, <span class="keyword">in</span> test_even</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    self.assertEqual(i % <span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AssertionError: <span class="number">1</span> != <span class="number">0</span></span><br></pre></td></tr></table></figure><p>但是如果不使用subTest()的话，测试会在第一次失败时就退出，并且错误信息不是很明白，比如该例中的i就无法识别：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">======================================================================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FAIL: test_even (__main__.NumbersTest)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  File <span class="string">"subtests.py"</span>, line <span class="number">32</span>, <span class="keyword">in</span> test_even</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    self.assertEqual(i % <span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AssertionError: <span class="number">1</span> != <span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="1-8-类和方法"><a href="#1-8-类和方法" class="headerlink" title="1.8. 类和方法"></a>1.8. <strong>类和方法</strong></h2><p>这个章节将深度讲解unittest的API部分。</p><h3 id="1-8-1-Test-Cases"><a href="#1-8-1-Test-Cases" class="headerlink" title="1.8.1. Test Cases"></a>1.8.1. <strong>Test Cases</strong></h3><p>unittest.TestCase(methodName=’runTest’)类</p><p>在unittest系统中，TestCase的实例就是逻辑测试单元。该类作为一个基类，其特性和功能通过创建子类类得以实现。类内部实现了一些接口，可以让test runner驱动测试，以及测试中可以使用一些方法来断言和报告各种失败情况。</p><p>每一个TestCase的实例运行时都是运行一个方法：该方法名就是methodName。在大多数情况下，你都不需要修改methodName，也不需要重新实现runTest()方法。</p><p>版本3.2中修改内容：TestCase可以不需要methodName就进行实例化，这使得TestCase在交互式平台上更容易使用。</p><p>TestCase的实例的方法可以分为3种：一种是用来执行测试的；一种是用来实现条件断言和失败报告的；还有一部分是用来收集测试本身的一些信息。</p><p>第一种方法大致有：</p><p><strong>setUp()</strong></p><p>该方法负责Test Fixture中的准备工作，一般在测试执行前调用；除了AssertionError和SkipTest以外，该方法触发的其他异常均被是做错误处理而不是测试失败，该方法默认没有操作。</p><p><strong>tearDown()</strong></p><p>该方法在测试方法被执行并且结果记录后立即被调用。如果测试方法出现异常，子类实现的功能就需要特别的检查。任何异常，除了AssertionError和SkipTest，只要是该方法抛出的异常都会被视为其他错误而不是测试失败（会在报告中统计）。该方法只有在setUp()执行成功时才会调用，而跟测试的结果无关。默认该方法没有操作。</p><p><strong>setUpClass()</strong></p><p>当类中的测试方法被执行前会被调用的一个类方法。该方法只会在类方法前调用，也就是带有calssmethod装饰器并且没有其他参数的方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setUpClass</span><span class="params">(cls)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><p>版本3.2中新增。</p><p><strong>tearDownClass()</strong></p><p>当类测试方法被执行完后会被调用的一个类方法。该方法只会在一个类的所有方法执行完成后调用，该方法被调用时，必须有calssmethod装饰器并且除了类以外没有其他参数的方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tearDownClass</span><span class="params">(cls)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><p>版本3.2中新增。</p><p><strong>run(result=None)</strong></p><p>执行测试，并收集信息作为结果传递给TestResult对象。如果结果为空，一个临时的报告文件就会被调用的defaultTestResult()方法创建并使用。然后将结果对象返回。</p><p>通过简单的调用TestCase实例可以达到相同的效果。</p><p>版本3.3中修改：早期的run版本中不会返回测试结果，也不会调用实例。</p><p><strong>SkipTest(reason)</strong></p><p>当需要跳过一个测试方法时，可以在测试方法或setUp()中调用该方法。</p><p>版本3.1中新增。</p><p><strong>subTest(msg=None,\</strong>params)**</p><p>把一个封闭的代码块当做subTest执行并返回上下文管理器。msg和params是可选的，主要用来显示信息，以方便测试执行异常时定位问题。</p><p>一个测试中可以包含任意个subTest，并且可以多层嵌套。</p><p>版本3.4中新增。</p><p><strong>debug()</strong></p><p>运行测试但不生成报告。这样运行测试时会直接抛出异常，可以在调试模式下使用。</p><p>TestCase提供了很多断言方法，以下是常用的：</p><p> <img src="https://img-blog.csdn.net/20180711093432724?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xqbDYxNTg5OTk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p>所有的断言方法都接收一个msg的参数，用来在测试失败时显示。注意，msg关键字参数只有在<a href="https://blog.csdn.net/ljl6158999/article/details/80994979#unittest.TestCase.assertRaises" target="_blank" rel="noopener">assertRaises()</a>,<a href="https://blog.csdn.net/ljl6158999/article/details/80994979#unittest.TestCase.assertRaisesRegex" target="_blank" rel="noopener">assertRaisesRegex()</a>, <a href="https://blog.csdn.net/ljl6158999/article/details/80994979#unittest.TestCase.assertWarns" target="_blank" rel="noopener">assertWarns()</a>, <a href="https://blog.csdn.net/ljl6158999/article/details/80994979#unittest.TestCase.assertWarnsRegex" target="_blank" rel="noopener">assertWar</a></p><p>nsRegex()方法被当做上下文管理器使用时才能被其使用。</p><p><strong>assertEqual(first,second,msg=None)</strong></p><p>测试第一个参数和第二个参数是否相等。如果比较不一致，则测试失败。</p><p>此外，如果两个参数都是同一种类型，且都是某种列表类型的话， <a href="https://blog.csdn.net/ljl6158999/article/details/80994979#unittest.TestCase.addTypeEqualityFunc" target="_blank" rel="noopener">addTypeEqualityFunc()</a>会被调用用以显示更多的错误信息。</p><p>版本3.1修改：新增自动调用特定对比方法。</p><p>版本3.2修改：新增<a href="https://blog.csdn.net/ljl6158999/article/details/80994979#unittest.TestCase.assertMultiLineEqual" target="_blank" rel="noopener">assertMultiLineEqual()</a>方法作为比较字符串时调用的特定类型方法。</p><p><strong>assertNotEqual(first,second,msg=None)</strong><br>判断两个参数不相等。如果相等的话，则测试失败。</p><p><strong>assertTrue(expr,msg=None)</strong></p><p><strong>assertFalse(expr,msg=None)</strong></p><p>测试expr是否为真（或假）。</p><p>注意：上述方法等同于<em>bool(expr) is True</em>，但不等同于expr is True（或者使用assertIs(expr,True)）。当有更多具体的方法可用时应当避免使用上述方法（比如，使用assertEqual(a,b)而不是assertTrue(a==b)），因为这些具体的方法会提供更多的错误失败信息。</p><p><strong>assertIs(first,second,msg=None)</strong></p><p><strong>assertIsNot(first,second,msg=None)</strong></p><p>测试第一个参数和第二个参数是否同一个对象。</p><p>版本3.1中新增。</p><p><strong>assertIsNone(expr,msg=None)</strong></p><p><strong>assertIsNotNone(expr,msg=None)</strong></p><p>测试expr是否为None。</p><p>版本3.1中新增。</p><p><strong>assertIn(first,second,msg=None)</strong></p><p><strong>assertNotIn(first,second,msg=None)</strong></p><p>测试参数一是否包含在参数二中。</p><p>版本3.1中新增。</p><p><strong>assertIsInstance(obj,cls,msg=None)</strong></p><p><strong>assertNotIsInstance(obj,cls,msg=None)</strong></p><p>测试obj是否为cls的实例（cls可以是一个类或者类组成的元组），检查具体的对象类型使用assertIs(type(obj),cls)。</p><p>版本3.2中新增。</p><p>还可以使用如下方法检查异常、警告和日志信息：</p><p> <img src="https://img-blog.csdn.net/20180711093452522?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xqbDYxNTg5OTk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p><strong>assertRaises(exception,callable,*args,</strong>kwds)**</p><p><strong>assertRaises(exception,msg=None)</strong></p><p>测试callable传入某些参数并调用时引发的异常。如果exception异常被抛出，表示测试通过。如果抛出的是另一种异常或无异常则表示测试失败。如果需要捕捉一组异常时，exception也可以是一个异常类型组成的元组。</p><p>如果参数只传递了exception参数，或者也有msg，这样就可以在with上下文管理器中测试代码块而不需要在方法中：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> self.assertRaises(SomeException):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    do_something()</span><br></pre></td></tr></table></figure><p>当使用上下文管理器时，assertRaises()接收一个额外的参数msg。</p><p>上下文管理可以将捕捉到的异常存储在exception属性中，这样当异常发生时，可以做进一步检查：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> self.assertRaises(SomeException) <span class="keyword">as</span> cm:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    do_something()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">the_exception = cm.exception</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">self.assertEqual(the_exception.error_code, <span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>版本3.1修改：新增assertRaises()可以作为上下文管理器使用。</p><p>版本3.2修改：新增exception属性。</p><p>版本3.3修改：当作为上下文管理器使用时新增msg参数。</p><p><strong>assertRaisesRegex(exception,regex,callable,*args,</strong>kwds)**</p><p><strong>aseertRaisesRegex(exception,regex,msg=None)</strong></p><p>类似于assertRaises()，不过这里需要匹配regex和捕捉异常的信息是否匹配。regex可以是普通的正则表达式，或是一个包含正则表达式的字符串。例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.assertRaisesRegex(ValueError, <span class="string">"invalid literal for.*XYZ'$"</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                       int, <span class="string">'XYZ'</span>)</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> self.assertRaisesRegex(ValueError, <span class="string">'literal'</span>):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   int(<span class="string">'XYZ'</span>)</span><br></pre></td></tr></table></figure><p>版本3.1新增：asserRaisesRegexp。</p><p>版本3.2修改：重命名为assertRaiseRegex()。</p><p>版本3.3修改：当作为上下文管理器使用时新增msg参数。</p><p><strong>assertWarns(warning,callable,*args,</strong>kwds)**</p><p><strong>assertWarns(warning,mag=None)</strong></p><p>当callable被传入参数调用时，测试其触发的警告。如果触发异常则表示测试成功，否则失败。如果想要测试一组警告，可以在warning出传入包含警告类的元组。</p><p>如果有了warning参数，甚至msg参数，那么此时可以直接在with代码块下测试代码，而不需要在方法中使用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> self.assertWarns(SomeWarning):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    do_something()</span><br></pre></td></tr></table></figure><p>上下文管理器会把捕捉的警告信息存储在warning属性中，触发警告的源代码行存储在filename和lineno属性中。这些信息在触发警告后检查时很有用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> self.assertWarns(SomeWarning) <span class="keyword">as</span> cm:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    do_something()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">self.assertIn(<span class="string">'myfile.py'</span>, cm.filename)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">self.assertEqual(<span class="number">320</span>, cm.lineno)</span><br></pre></td></tr></table></figure><p>该方法被调用时就会执行，无论警告过滤器是否就位。</p><p>版本3.2中新增。</p><p>版本3.3修改：当作为上下文管理器使用时新增msg参数。</p><p><strong>assertWarnsRegex(warning,regex,callable,*args,</strong>kwds)**</p><p><strong>assertWarnsRegex(warning,regex,msg=None)</strong></p><p>类似于assertWarns()，不过这里还需要测试regex是否匹配警告信息。regex可以是正则表达式也可以是一个包含正则表达式的字符串：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">self.assertWarnsRegex(DeprecationWarning,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                      <span class="string">r'legacy_function\(\) is deprecated'</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                      legacy_function, <span class="string">'XYZ'</span>)</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> self.assertWarnsRegex(RuntimeWarning, <span class="string">'unsafe frobnicating'</span>):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    frobnicate(<span class="string">'/etc/passwd'</span>)</span><br></pre></td></tr></table></figure><p>版本3.2中新增。</p><p>版本3.3中修改：作为上下文管理器使用时新增msg参数。</p><p><strong>assertLogs(logger=None,level=None)</strong></p><p>在上下文管理器中使用，测试至少有一条信息被记录在logger中，且最低级别是level。</p><p>如果参数logger被给定，logger将是一个logging.Logger对象，或者logger的名字。默认是root记录器，会记录所有信息。</p><p>如果给定的话，level可以是数字，表示日志记录级别，也可以是字符串格式（比如“error”和logging.ERROR）。默认是logging.INFO。</p><p>在with代码块中，只要有一条信息和logger和level匹配则表示测试成功，否则失败。</p><p>上下文管理器返回的对象是一个记录器，记录了匹配的日志信息记录。包含两个属性：</p><p><em>records</em></p><p>一个匹配日志信息的logging.LogRecord对象列表。</p><p><em>output</em></p><p>匹配到的信息的格式化输出。</p><p>例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> self.assertLogs(<span class="string">'foo'</span>, level=<span class="string">'INFO'</span>) <span class="keyword">as</span> cm:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   logging.getLogger(<span class="string">'foo'</span>).info(<span class="string">'first message'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   logging.getLogger(<span class="string">'foo.bar'</span>).error(<span class="string">'second message'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">self.assertEqual(cm.output, [<span class="string">'INFO:foo:first message'</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                             <span class="string">'ERROR:foo.bar:second message'</span>])</span><br></pre></td></tr></table></figure><p>版本3.4中新增。</p><p>还有其他执行具体断言的方法：</p><p><img src="https://img-blog.csdn.net/20180711094232311?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xqbDYxNTg5OTk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p><strong>assertAlmostEqual(first,second,places=7,msg=None,delta=None)</strong></p><p><strong>assertNotAlmostEqual(first,second,places=7,msg=None,delta=None)</strong></p><p>测试参数1和参数2是否约等。小数点保留位数为places（默认7）。</p><p>如果delta被提供（替代places），表示参数1和参数2之间的差异必须小于delta。</p><p>如果places和delta同时存在时触发TypeError。</p><p>版本3.2修改：assertAlmostEqual()自动识别相似的对象进行比较。如果对象比较一致则assertAlmostEqual()自动失败。新增delta参数。</p><p><strong>assertGreater(first,second,msg=None)</strong></p><p><strong>assertGreaterEqual(first,second,msg=None)</strong></p><p><strong>assertLess(first,second,msg=None)</strong></p><p><strong>assertLessEqual(first,second,msg=None)</strong></p><p>正如方法名含义，比较参数1和参数2之间是否存在&gt;、&gt;=、&lt;或者&lt;=关系。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>self.assertGreaterEqual(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AssertionError: <span class="string">"3"</span> unexpectedly <span class="keyword">not</span> greater than <span class="keyword">or</span> equal to <span class="string">"4"</span></span><br></pre></td></tr></table></figure><p>版本3.1新增。</p><p><strong>assertRegex(text,regex,msg=None)</strong></p><p><strong>assertNotRegex(text,regex,msg=None)</strong></p><p>测试regex是否匹配text。如果匹配失败，错误信息会包含匹配模式和text（或者部分匹配不成功的text）。regex为一般的正则表达式或者可以被re.search()识别的其他字符串格式。</p><p>版本3.1新增：命名为assertRegexpMatches。</p><p>版本3.2修改：重命名为assertRegex()。</p><p>版本3.2新增：assertNotRegex()。</p><p>版本3.5新增：assertNotRegexpMatches被弃用。</p><p><strong>assertCountEqual(first,second,msg=None)</strong></p><p>测试序列first中的元素是否和second中的一致，不考虑排序。如果不同，会生成详细的错误清单。</p><p>在比较时，重复的元素不会被忽略。等效于：assertEqual(Counter(list(first)),Counter(list(second)))，只适用于序列。</p><p>版本3.2新增。</p><p>assertEqual()方法为同类型对象的比较提供了多种具体的比较方法。这些方法大多数都已经在内置方法实现，但是你仍可以使用addTypeEqualityFunction()方法新注册一个方法：</p><p><strong>addTypeEqualityFunc(typeobj,function)</strong></p><p>注册一个被assertEqual()调用的特定类型的方法，用以判断两个相同类型的对象（不是子类）是否相等。function必须有2个形参，还有一个msg=None参数，和assertEqual()中使用方法一样。当2个参数比较第一次出现不相等时就引发self.failureException(msg)异常，这可能会提供一些有用的信息，并在错误信息中解释哪里不同。</p><p>版本3.1新增。</p><p>assertEqual()方法会自动的调用下面列表中的方法。但是通常没有必要直接调用这些方法：</p><p><img src="https://img-blog.csdn.net/20180711094308800?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xqbDYxNTg5OTk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><p><strong>assertMultiLineEqual(first,second,msg=None)</strong></p><p>测试多行字符串first是否等同于字符串second。当不相同时，不一致的地方会在错误信息中高亮显示。使用assertEqual()方法比较字符串时，这个方法会被默认调用。</p><p>版本3.1新增。</p><p><strong>assertSequenceEqual(first,second,msg=None,seq_type=None)</strong></p><p>测试两个序列是否相等。如果seq_type被提供，参数1和参数2都必须是seq_type的实例，否则引发异常。如果两个序列不等，会在错误信息中显示不同。</p><p>版本3.1新增。</p><p><strong>assertListEqual(first,second,msg=None)</strong></p><p><strong>assertTupleEqual(first,second,msg=None)</strong></p><p>测试列表或者元组是否相等。如果不同，会打印错误信息并显示不同之处。当参数类型错误时仍会报错。这些方法通常是在比较列表和元组时被assertEqual()默认调用。</p><p><strong>assertSetEqual(first,second,msg=None)</strong></p><p>测试集合是否相等。如果不同，会打印错误信息并显示不同之处。该方法通常是在比较集合和frozensets时被assertEqual()默认调用。</p><p>版本3.1新增。</p><p><strong>assertDictEqual(first,second,msg=None)</strong></p><p>测试字典是否相等。如果不同，会打印错误信息并显示不同之处。该方法通常是在比较字典时被assertEqual()默认调用。</p><p>版本3.1新增。</p><p>最后，TestCase提供了一下方法和属性：</p><p><strong>fail(msg=None)</strong></p><p>当某个测试失败时，可以将msg提供给错误信息。</p><p><strong>failureException</strong></p><p>该类属性提供了测试方法抛出的异常。如果测试框架需要一个特定的异常，比如携带更多的信息，就必须在子类中实现该异常。该属性的初始值为AssertionError。</p><p><strong>longMessage</strong></p><p>这个类属性决定了当一个自定义失败信息被当做msg参数传递给assertXYY等方法时该做什么。默认值是True。这种情况下，自定义的信息被添加到标准失败信息后面。当值为False时，自定义信息会覆盖标准信息。</p><p>在每个测试方法中，可以重写该属性：调用assert方法之前，分配实例属性self.longMessage的值为True或False。</p><p>每次测试运行前该设置都会被重置。</p><p>版本3.1新增。</p><p><strong>maxDiff</strong></p><p>该属性决定了assert方法结果中差异信息的显示长度。默认有80*8个字符。受此影响的方法有assertSequenceEqual()（包括所有序列的比较方法），assertDictEqual()和assertmultiLineEqual()。</p><p>如果maxDiff设置为None时，表示没有最大长度。</p><p>版本3.2新增。</p><p>测试框架可以使用如下方法在测试中收集信息：</p><p><strong>countTestCases()</strong></p><p>通过测试对象返回测试的数量。对于TestCase的实例来说，这个值是1.</p><p><strong>defaultTestResult()</strong></p><p>返回一个测试报告类的实例，用于test case类（如果没有提供其他报告实例给run()方法）。</p><p><strong>id()</strong></p><p>返回用例的id。通常是测试方法的全名，包括模块名和类名。</p><p><strong>shortDescription()</strong></p><p>返回测试的描述信息，如果没有则返回None。该方法默认会返回方法docstring信息的第一行，如果不可用则返回None。</p><p>版本3.1修改：在3.1中添加了测试的名称在描述中。这个特性与unittest的扩展存在冲突，于是在python3.2中增加测试名称被转移到了TextTestResult。</p><p><strong>addCleanup(function,*args,</strong>kwargs)**</p><p>在tearDown()方法之后新增调用function方法去清理测试时使用的资源。方法会根据添加的反序进行调用（LIFO）。当他们被调用时，可以接收任何传递给addCleanUp()的参数。</p><p>如果setUp()失败，那么tearDown()就不会执行。但是cleanup方法仍会被执行。</p><p>版本3.1新增。</p><p><strong>doCleanups()</strong></p><p>该方法会在tearDown()之后被调用，或者当setUp()失败时。</p><p>该方法负责调用所有添加在addCleanup()中的清理方法。如果你需要清理在tearDown()中被调用的方法，那么你需要手动调用doCleanup()方法。</p><p>doCleanup()将方法从清理方法栈中取出，所以它可以在任何时间调用。</p><p>版本3.1新增。</p><p>class unittest.<strong>FunctionTestCase</strong>(testFunc,setUp=None,tearDown=None,description=None)</p><p>该类实现了TestCase接口即允许test runner操纵测试，但是没有提供测试代码检查和报告错误的方法。这通常被用来将剩余的测试代码创建为测试用例，并且可以集成到unittest测试框架中。</p><h3 id="1-8-2-弃用的方法"><a href="#1-8-2-弃用的方法" class="headerlink" title="1.8.2. 弃用的方法"></a>1.8.2. <strong>弃用的方法</strong></h3><p>由于一些历史的原因，一些TestCase的方法别名被弃用。以下列表是这些方法的正确名字和被弃用的名字：</p><p><img src="https://img-blog.csdn.net/20180711094355887?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xqbDYxNTg5OTk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p><h2 id="1-9-组织用例"><a href="#1-9-组织用例" class="headerlink" title="1.9. 组织用例"></a>1.9. <strong>组织用例</strong></h2><p>class unittest.<strong>TestSuite</strong>(tests=())</p><p>这个类代表一个测试用例或测试套件的集合。该类描述了一个可以被test runner执行的接口，通过它可以执行任何测试。运行一个TestSuite就相当于将测试套件迭代，然后执行每一个测试。</p><p>如果tests被给与，那么它必须是一个可迭代对象，用来创建套件。稍后会介绍一些添加测试或测试套件到测试集合中的一些方法。</p><p>TestSuite对象和TestCase对象比较类似，除了不会执行测试以外。相反，TestSuite经常用来吧测试用例组织在一起，使测试可以一起执行。一些方法可以用来将测试添加到TestSuite中去：</p><p><strong>addTest(test)</strong></p><p>添加一个TestCase或TestSuite到套件中。</p><p><strong>addTests(tests)</strong></p><p>把TestCase和TestSuite中给的所有的测试实例添加到套件中。</p><p>等价于迭代所有的测试，然后使用addTest()逐个添加。</p><p>TestSuite和TestCase都有如下方法：</p><p><strong>run(result)</strong></p><p>运行测试套件，并收集结果信息传递给测试报告对象。注意不同于TestCase.run()，TestSuite.run()需要传递result对象。</p><p><strong>debug()</strong></p><p>运行测试套件但不收集测试结果。允许异常抛出并传递给上层调用者。经常用在调试模式下。</p><p><strong>countTestCases()</strong></p><p>返回测试数量，包括所有的单独测试和部分测试套件。</p><p><strong><strong>iter</strong>()</strong></p><p>用例通常通过TestSuite的迭代访问。子类可以通过重写<strong>iter</strong>()来提供用例。注意这个方法可能会在一个套件被调用好多次（比如计数或者比较），所以在TestSuite.run()之前每次迭代返回的用例都是一样的。在TestSuite.run()之后，调用者就不再依赖该方法返回的用例，除非调用者使用子类重写了TestSuite._removeTestAtIndex()以保存用例的引用。</p><h3 id="1-9-1-加载和执行用例"><a href="#1-9-1-加载和执行用例" class="headerlink" title="1.9.1. 加载和执行用例"></a>1.9.1. <strong>加载和执行用例</strong></h3><p>class unittest.<strong>TestLoader</strong></p><p>TestLoader经常用来从类和模块中提取创建测试套件。一般情况下TestLoader不需要实例化，unittest内部提供了一个实例可以当做unittest.defaultTestLoader使用。无论使用子类还是实例，都允许自定义一些配置属性。</p><p>TestLoader对象具有以下属性：</p><p><em>errors</em></p><p>加载用例时遇到的非致命错误信息列表。不会被重置。致命的错误会被相关方法直接抛异常给调用者。非致命错误也会在综合测试运行时的原始错误中被抛出。</p><p>版本3.5新增。</p><p>TestLoader对象具有以下方法：</p><p><strong>loadTestsFromTestCase(testCaseClass)</strong></p><p>从TestCase派生类testCaseClass中加载所有测试用例并返回测试套件。</p><p>getTestCaseNames()会从每一个方法中创建Test Case实例，这些方法默认都是test开头命名。如果getTestCaseNames()没有返回任何方法，但是runTest()方法被实现了，那么一个test case就会被创建以替代该方法。</p><p><strong>loadTestsFromModule(module,pattern=None)</strong></p><p>从模块中加载所有测试用例，返回一个测试套件。该方法会从module中查找TestCase的派生类并为这些类里面的测试方法创建实例。</p><p>注意：当使用TestCase派生类时可以共享test fixtures和一些辅助方法。该方法不支持基类中的测试方法。但是这么做是有好处的，比如当子类的fixtures不一样时。</p><p>如果一个模块提供了load_tests方法，它会在加载测试时被调用。这样可以自定义模块的测试加载方式。这就是load_tests协议。pattern作为第三个参数被传递给load_tests。</p><p><strong>loadTestsFromName(name,module=None)</strong></p><p>从一个字符串中加载测试并返回测试套件。</p><p>字符串说明符name是一个虚名（测试方法名的字符串格式），可以适用于模块、测试类、test case类中的测试方法、TestSuite实例或者一个返回TestCase或TestSuite的可调用的对象。并且这样的话，在一个测试用例类中的方法会被当做‘测试用例类中给的测试方法’而不是‘可调用对象’。</p><p>比如，你有一个SampleTests模块，里面有一个TestCase的派生类SampleTestCase，类中有3个方法（test_one()，test_two()，test_three()），使用说明符“SampleTests.SampleTestCase”就会返回一个测试套件，里面包含所有3个测试方法。如果使用“SampleTests.SampleTestCase.test_two”就会返回一个测试套件，里面只包含test_two()测试方法。如果说明符中包含的模块或包没有事先导入，那么在使用时会被顺带导入。</p><p><strong>loadTestsFromNames(names,module=None)</strong></p><p>使用方法和loadTestsFromName(name,module=None)一样，不同的是它可以接收一个说明符列表而不是一个，返回一个测试套件，包含所有说明符中的所有测试用例。</p><p><strong>getTestCaseName(testCaseClass)</strong></p><p>返回一个有序的包含在TestCaseClass中的方法名列表。可以看做TestCase的子类。</p><p><strong>discover(start_dir,pattern=’test*.py’,top_level_dir=None)</strong></p><p>从指定的start_dir（起始目录）递归查找所有子目录下的测试模块，并返回一个TestSuite对象。只有符合pattern模式匹配的测试文件才会被加载。模块名称必须有效才能被加载。</p><p>顶级项目中的所有模块必须是可导入的。如果start_dir不是顶级路径，那么顶级路径必须单独指出。</p><p>如果导入一个模块失败，比如由于语法错误，会被记录为一个单独的错误，然后discovery会继续。如果导入失败是由于设置了SkipTest，那么就会被记录为忽略测试。</p><p>当一个包（包含<strong>init</strong>.py文件的目录）被发现时，这个包会被load_tests方法检查。通过package.load_tests(loader,tests,pattern)方式调用。Test Discovery始终确保包在调用时只进行一次测试检查，即使load_tests方法自己调用了loader.discover。</p><p>如果load_tests方法存在，那么discovery就不再递归，load_tests会确保加载完所有的当前包下的测试。</p><p>pattern没有被特意存储为loader的属性，这样包就可以自行查找。top_level_dir被存储，所以load_tests就不需要再传参给loader.discover()。</p><p>start_dir可以是一个模块名，也可以是一个目录。</p><p>以下这些TestLoader的属性可以在子类和实例中配置：</p><p><strong>testMethodPrefix</strong></p><p>一种字符串，放在方法的名字前面时，该方法会被当做测试方法。默认一般是‘test’。</p><p>在getTestCaseNames()和所有的loadTestsFrom*()方法中都有效。</p><p><strong>sortTestMethodUsing</strong></p><p>在getTestCaseNames()和所有的loadTestFrom*()方法中对测试方法进行排序时对测试方法名进行比较的函数。</p><p><strong>suiteClass</strong></p><p>从一个测试序列中构造出一个测试套件的可调用对象。生成的对象没有方法。默认值是TestSuite类。</p><p>对所有的loadTestsFrom*()方法有效。</p><p>class unittest.<strong>TestResult</strong></p><p>该类被用来整理测试报告。</p><p>一个TestResult对象保存了一系列测试的结果。TestCase和TestSuite类确保了结果会被正确的记录。测试人员不需要担心测试的输出问题。</p><p>基于unittest的测试框架通过运行一系列测试生成的TestResult对象来实现测试报告的目的。TestRunner.run()方法会返回一个TestResult对象来达到这个目的。</p><p>TestResult对象具有以下属性，在检查测试结果时很有用：</p><p><strong>errors</strong></p><p>一个错误列表，包含了TestCase实例和异常回溯的二元组。每个元组都表示测试中出现的异常。</p><p><strong>failures</strong></p><p>一个列表，包含了TestCase实例和异常回溯的二元组。每个元组都表示那些使用TestCase.assert*()导致失败的测试。</p><p><strong>skipped</strong></p><p>一个列表，包含了TestCase实例和忽略测试原因的二元组。</p><p><strong>expectedFailures</strong></p><p>一个列表，包含了TestCase实例和异常回溯的二元组。每个元组都代表一个预期的异常。</p><p><strong>unexpectedSuccesses</strong></p><p>一个列表，包含了被标记为预期失败的TestCase实例，但是却成功了。</p><p><strong>shouldStop</strong></p><p>当一个测试执行应该通过stop()终止时，值设置为True。</p><p><strong>testsRun</strong></p><p>到目前为止的总运行次数。</p><p><strong>buffer</strong></p><p>设置为True时，sys.stdout和sys.stderr会在startTest()和stopTest()方法调用之间被缓存。如果测试失败或错误，那么输出的内容就是真实的sys.stdout或者sys.stderr。其他输出的内容会追加在失败/错误信息的后面。</p><p><strong>failfast</strong></p><p>一旦设置为 True，测试在第一次出现失败或错误时就会调用stop()方法终止。</p><p><strong>tb_locals</strong></p><p>如果设置为True，本地变量信息会打印在异常回溯信息中。</p><p><strong>wasSuccessful()</strong></p><p>如果所有的测试都运行通过，则返回True，否则返回False。</p><p><strong>stop()</strong></p><p>该方法被调用时通过设置shouldStop属性为True，从而终止运行测试。TestRunner对象一旦遇到该方法就不会继续执行测试而直接返回。</p><p>比如，这个功能可以被TextTestRunner类用来终止测试框架，当用户在键盘输入中断信号时。在交互式环境下TestRunner可以使用类似的操作。</p><p>以下这些TestResult类的方法主要用来维护内部数据结构。也可以被子类扩展用以支持额外的报告需要。在构建工具时非常有用，可以支持交互式报告，当测试在执行时：</p><p><strong>startTest(test)</strong></p><p>但测试用例执行时调用。</p><p><strong>stopTest(test)</strong></p><p>当测试执行完成后调用，不管结果如何。</p><p><strong>startTestRun()</strong></p><p>在任何测试执行前调用一次。</p><p><strong>stopTestRun()</strong></p><p>在所有测试执行完成后调用一次。</p><p><strong>addError(test,err)</strong></p><p>当测试抛出异常时被调用。err是一个被sys.exc_info()返回的元组：(type,value,traceback)。</p><p>默认的会给实例的errors属性添加一个元组(test,formatted_err)，其中formatted_err的格式化信息来自err。</p><p><strong>addFailure(test,err)</strong></p><p>当测试失败时调用。err是sys.exc_info()返回的一个元组：(type,value,traceback)。</p><p>默认的会给实例的failures属性添加一个元组(test,formatted_err)，其中formatted_err的格式化信息来自err。</p><p><strong>addSuccess(test)</strong></p><p>当测试通过时调用。默认无实现。</p><p><strong>addSkip(test,reason)</strong></p><p>当测试test被跳过时调用。reason是测试跳过的原因。</p><p>默认实现是给实例的skipped属性添加了元组(test,reason)。</p><p><strong>addExpectedFailure(test,err)</strong></p><p>当测试失败时调用，但是是被expectedFailure()装饰器装饰的测试。</p><p>默认的实现是给实例的expectedFailures属性添加一个元组(test,formatted_err)，其中formatted_err的格式化信息来自err。</p><p><strong>addUnexpectedSuccess(test)</strong></p><p>在被expectedFailure()装饰的测试test执行成功时调用。默认实现是给实例的unexpectedSuccess属性添加test。</p><p><strong>addSubTest(test,subtest,outcome)</strong></p><p>当subtest结束时调用。test是测试方法对应的测试用例。subtest是一个自定义的TestCase实例。</p><p>如果outcome为None，subtest成功。否则，测试失败并抛出异常，outcome为sys.exc_info返回的元组：(tyep,calue,traceback)。</p><p>默认的实现是，如果测试成功则不做任何操作，如果失败则记录subtest失败为正常的失败。</p><p>class unittest.<strong>TextTestResult</strong>(stream,descriptions,verbosity)</p><p>一个TestResult实现的功能，被TextTestRunner使用。</p><p>unittest.<strong>defaultTestLoader</strong></p><p>TestLoader类的实例，主要为了共享。如果不需要自定义的TestLoader，这个实例就会被使用，而不会重新创建实例。</p><p>class unittest.<strong>TextTestRunner</strong>(stream=None,description=True,verbosity=1,failfast=False,buffer=False,resultclass=None,warning=None,*,tb_locals=False)</p><p>一个基础的测试执行器，实现了将结果输出为流的功能。如果stream为None，默认的，sys.stderr会被作为输出流。这个类有一些可配置参数，但非常简单。运行测试套件的图形程序应该提供一些功能，这些功能可以接收**kwargs参数作为修改runners的接口，当在unittest中使用时。</p><p>默认情况下该执行器会显示 <a href="https://blog.csdn.net/ljl6158999/article/details/80994979#DeprecationWarning" target="_blank" rel="noopener">DeprecationWarning</a>, <a href="https://blog.csdn.net/ljl6158999/article/details/80994979#PendingDeprecationWarning" target="_blank" rel="noopener">PendingDeprecationWarnin</a></p><p>g, <a href="https://blog.csdn.net/ljl6158999/article/details/80994979#ResourceWarning" target="_blank" rel="noopener">ResourceWarning</a>和<a href="https://blog.csdn.net/ljl6158999/article/details/80994979#ImportWarning" target="_blank" rel="noopener">ImportWarning</a>，即使他们默认是忽略的。弃用警告被deprecated unittest方法引发，如果警告的过滤器是‘default’或者‘always’时，该警告只会在每个模块中出现一次，为了避免出现太多的警告信息。可以通过python的 -Wd或-Wa选项重新设置（查看Warning控制）。</p><p><strong>_makeResult()</strong></p><p>该方法返回一个TestResult的实例，通过run()方法。它不能被直接调用，但是可以通过在子类中重写类实现自定义TestResult。</p><p>_makeResult()实例化类或者可调用的传递给TextTestRunner构造函数的参数resultclass。如果没有提供resultclass的话，默认值是TextTestResult。resultclass通过以下参数实例化：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stream, descriptions, verbosity</span><br></pre></td></tr></table></figure><p><strong>run(test)</strong></p><p>该方法是TextTestRunner主要的公共接口。该方法需要一个TestSuite或者TestCase实例作为参数。当调用_makeResult()时，TestResult对象被创建，，测试会被执行并且结果报告输出到stdout流中。</p><p>unittest.<strong>main</strong>(module=’<strong>main</strong>’,defaultTest=None,argv=None,testRunner=None,testLoader=unittest.defaultTestLoader,exit=True,verbosity=1,failfast=None,catchbreak=None,buffer=None,warnings=None)</p><p>一种命令行模式下，加载和执行测试用例，这样做的主要作用是可以很简便的执行测试模块。该方法最简单的使用方式是在脚本的最后添加如下语句：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><p>通过传入verbosity参数运行测试，可以得到更多的详细信息：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    unittest.main(verbosity=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>参数defaultTest    是一个待执行的单独测试的名或者一序列的测试名（可迭代对象），如果没有通过argv参数传入指定的测试的话。如果defaultTest没有指定值或者值为None，并且参数argv没有传入值，那么所有在模块中发现的测试都会被执行。</p><p>参数argv可以传递一系列选项给程序，第一个参数默认是程序名。如果没有指定值或者值为None，那么默认会使用sys.argv的值。</p><p>参数testRunner可以是一个test runner类，也可以是一个已经创建好的test runner类的实例。通常情况下，main函数在测试执行成功或失败时调用sys.exit()作为退出。</p><p>testLoader参数必须是TestLoader的实例，默认值为defaultTestLoader。</p><p>main方法支持在交互式环境下使用，通过传入参数exit=False。以下显示没有调用sys.exit()方法的标准结果输出：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> unittest <span class="keyword">import</span> main</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>main(module=<span class="string">'test_module'</span>, exit=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure><p>failfast，catchbreak和buffer参数在命令行模式下，传入同样的选项的效果是一样。</p><p>warnings参数是一个等级过滤器，在测试执行时会用到。如果没有指定值，且命令行中传递了一个-w选项，那么该值会被锁定为None，否则该值会被设置为‘default’。</p><p>调用main方法实际上返回了一个TestProgram类的实例。保存了测试执行的结果，作为result的属性。</p><h3 id="1-9-2-load-tests协议"><a href="#1-9-2-load-tests协议" class="headerlink" title="1.9.2. load_tests协议"></a>1.9.2. <strong>load_tests协议</strong></h3><p>版本3.2新增。</p><p>在正常执行测试时或者使用test discovery（通过实现load_tests方法），可以自定义从模块和包中加载测试用例的方式。</p><p>如果一个模块定义了load_tests方法，它会通过使用以下参数被TestLoader.loadTestsFromModule()调用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">load_tests(loader, standard_tests, pattern)</span><br></pre></td></tr></table></figure><p>pattern参数直接从loadTestFromModule传来，默认是None。</p><p>该方法会返回一个TestSuite对象。</p><p>loader是TestLoader的实例，用来加载实例的。standard_tests是默认要从模块中加载的测试。从模块中只加载少数测试或者从测试集中去除部分测试是很常见的。第三个参数pattern就是用来加载部分测试用例的。</p><p>一个典型的load_tests方法从指定的TestCase类集合中加载测试用例的方式大概如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">test_cases = (TestCase1, TestCase2, TestCase3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_tests</span><span class="params">(loader, tests, pattern)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    suite = TestSuite()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> test_class <span class="keyword">in</span> test_cases:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        tests = loader.loadTestsFromTestCase(test_class)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        suite.addTests(tests)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> suite</span><br></pre></td></tr></table></figure><p>如果discovery启动的目录下有其他包，那么该包的<strong>init</strong>.py会被检查，通过命令行或是调用TestLoader.discover()。如果该方法不存在，那么discovery就会遍历这个包目录。否则，discovery就会被load_tests方法代替，通过以下参数调用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">load_tests(loader, standard_tests, pattern)</span><br></pre></td></tr></table></figure><p>该方法会返回一个包含该包下所有测试的测试套件。standard_tests只包含从<strong>init</strong>.py中找到的测试。</p><p>由于传入了pattern参数给load_tests，包就会自由的查找测试。一个‘不做任何事’的load_tests方法看起来像是这样：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_tests</span><span class="params">(loader, standard_tests, pattern)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># top level directory cached on loader instance</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    this_dir = os.path.dirname(__file__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    package_tests = loader.discover(start_dir=this_dir, pattern=pattern)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    standard_tests.addTests(package_tests)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> standard_tests</span><br></pre></td></tr></table></figure><h2 id="2-0-类和模块的Fixtures"><a href="#2-0-类和模块的Fixtures" class="headerlink" title="2.0.类和模块的Fixtures"></a><strong>2.0.类和模块的Fixtures</strong></h2><p>类和模块级别的Fixtures已经在TestSuite中被实现。当一个新的类中发现有测试时，前面的类的tearDownClass()就会被执行，然后新类的setUpClass()就会被执行。</p><p>同样的当一个模块中的测试执行完后就会执行tearDownModule()方法，而在新的模块中执行测试前会执行setUpModule()。</p><p>在所有的类或模块中的所有测试执行完成后，就会执行tearDownClass或者tearDownModule。</p><p>注意，fixtures和一些‘有潜力’的特性（比如测试并行）一起使用的话不是很好。因为它会打破测试之间的隔离。需要小心的使用。</p><p>unittest的test loader创建了默认的测试执行顺序，用以组织相同模块或类下的所有测试用例。这样的话，在每个类/模块之前都会调用一次setUpClass/setUpModule。如果你把不同模块和类的测试混在了一起，那么在执行测试时，fixture方法就可能被调用多次。</p><p>fixtures并不是为了和无序的测试套件一起工作。事实上框架中就有一个BaseTestSuite并不支持fixtures。</p><p>当fixture方法抛出异常时，当前执行的测试也会被记录为错误。因为没有对应的测试实例_ErrorHolder对象（和TestCase相同的接口）创建给对应的错误。如果你只是使用unittest的test runner功能，那么这个细节无关紧要，但如果你是一个框架设计者的话，那这个就有关系了。</p><h3 id="2-0-1-setUpClass和tearDownClass"><a href="#2-0-1-setUpClass和tearDownClass" class="headerlink" title="2.0.1.setUpClass和tearDownClass"></a><strong>2.0.1.setUpClass和tearDownClass</strong></h3><p>这两个方法必须是作为类方法使用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUpClass</span><span class="params">(cls)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        cls._connection = createExpensiveConnectionObject()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDownClass</span><span class="params">(cls)</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        cls._connection.destroy()</span><br></pre></td></tr></table></figure><p>如果你想要在基类中使用setUpClass和tearDownClass，那么需要你自己去实现调用。TestCase中的实现是空的。</p><p>如果setUpClass报异常的话，那么该类的测试用例和tearDownClass都不会执行。被设置跳过的类也不会执行setUpClass和tearDownClass。如果异常是一个SkipTest异常的话，那么该类会被记录为跳过测试而不是错误。</p><h3 id="2-0-2-setUpModule和tearDownModule"><a href="#2-0-2-setUpModule和tearDownModule" class="headerlink" title="2.0.2.setUpModule和tearDownModule"></a><strong>2.0.2.setUpModule和tearDownModule</strong></h3><p>这可以被当做方法实现：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setUpModule</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    createConnection()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tearDownModule</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    closeConnection()</span><br></pre></td></tr></table></figure><p>如果setUpModule报异常的话，那么该模块的测试用例和tearDownModule都不会执行。被设置跳过的类也不会执行setUpModule和tearDownModule。如果异常是一个SkipTest异常的话，那么该模块会被记录为跳过测试而不是错误。</p><h2 id="2-1-信号处理"><a href="#2-1-信号处理" class="headerlink" title="2.1.信号处理"></a><strong>2.1.信号处理</strong></h2><p>对unittest来说-c/–catch命令行选项，或者catchbreak参数对于unittest.main()，提供了更多的友好的处理control-C的方法，在测试执行时。当捕捉到control-C中断操作时，仍然允许当前测试执行完毕，并且很快执行结束并报告所有结果。捕捉到第二次control-C操作时，通常会抛出一个KeyboardInterrupt异常。</p><p>control-C操作表示处理程序尝试和代码或测试保持兼容以便于安装自己的signal.SIGINT处理程序。如果unittest的处理程序被调用，但不是已安装的signal.SIGINT处理程序的话（即在测试时它会被系统替换），那么他会调用默认的处理程序。通常情况下代码的这种行为是正常的，替换已安装的处理程序。对于单独的测试来说就需要unittest control-C操作处理被禁用的removeHandler()装饰器。</p><p>以下这些方法对框架设计者来说是实用的，去实现框架的内置control-C处理功能：</p><p>unittest.<strong>installHandler</strong>()</p><p>安装control-C处理程序。当接收到signal.SIGINT信号时（通常是用户按下control-C键）所有的已记录的结果调用stop()方法。</p><p>unittest.<strong>registerResult</strong>(result)</p><p>记录一个TestResult对象给control-C处理程序。记录的result存储了一个弱引用，所以它不会阻止结果被回收成垃圾。</p><p>记录一个TestResult对象任何副作用，如果control-C处理程序没有启用的话，那么测试框架就会无条件的记录所有的他们创建的结果，而不管处理程序是否弃用。</p><p>unittest.<strong>removeResult</strong>(result)</p><p>移除记录的结果。一旦结果被移除，那么stop()就不会在result对象上调用作为control-C的响应。</p><p>unittest.<strong>removeHandler</strong>(function=None)</p><p>当无参数调用时，该方法会移除control-C处理程序，如果它已经被安装。该方法还可以作为一个测试装饰器，当测试执行时暂时的去除处理程序。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setUpModule</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    createConnection()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tearDownModule</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    closeConnection()</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/ljl6158999/article/details/80994979" target="_blank" rel="noopener">原文地址</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 单元测试 </tag>
            
            <tag> unittest </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hexo博客Yilia主题修改记录 </title>
      <link href="/2018/10/13/Hexo%E5%8D%9A%E5%AE%A2Yilia%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9%E8%AE%B0%E5%BD%95/"/>
      <url>/2018/10/13/Hexo%E5%8D%9A%E5%AE%A2Yilia%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p><img src="https://wx3.sinaimg.cn/mw690/0068Se8Tly1fnt0tk8f7ag30fa03m0sm.gif" alt="zhuyetu"></p><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ul><li>在搭建完自己的博客以后，自然就想着丰富里面的功能，于是这篇文章就记录一下我的博客修改的内容： </li></ul><blockquote><ul><li>文章下面添加livere评论</li><li>添加顶部加载条</li><li>实现点击出现桃心效果</li><li>添加修改相册</li><li>在右上角或者左上角实现fork me on github</li><li>在每篇文章末尾统一添加“本文结束”标记</li><li>在网站底部加上访问量</li></ul></blockquote><hr><a id="more"></a><h2 id="一-文章下面添加livere评论"><a href="#一-文章下面添加livere评论" class="headerlink" title="一.文章下面添加livere评论"></a>一.文章下面添加livere评论</h2><h3 id="1-关于"><a href="#1-关于" class="headerlink" title="1.关于"></a>1.关于</h3><ul><li>因为liyia主题里面只提供的评论有：1、多说；2、网易云跟帖；3、畅言；4、Disqus；5、Gitment；且里面的一些评论已经停止服务，所以我在参考了next主题所使用的评论插件livere以后，插到了liyia主题里面</li><li>效果图：<br><img src="https://wx1.sinaimg.cn/mw690/0068Se8Tly1fnt28e9aaqj30yb0dnglt.jpg" alt="liever"></li></ul><h3 id="2-实现"><a href="#2-实现" class="headerlink" title="2.实现"></a>2.实现</h3><ul><li><p>首先去<a href="https://livere.com/" target="_blank" rel="noopener">来必力官网</a>注册账号，现在国内很多都要实名制认证了，这个不用，很方便，唯一的遗憾这个是韩网，可能会遇到墙的问题</p></li><li><p>打开<code>yourblog\themes\yilia\layout\_partial</code>文件夹，并编辑<code>article.ejs</code>文件。</p></li><li><p>并在这段代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;/article&gt;</span><br><span class="line">&lt;% if (!index)&#123; %&gt;</span><br><span class="line">  &lt;%- partial(&apos;post/nav&apos;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;%- partial(&apos;_partial/aside&apos;) %&gt;</span><br></pre></td></tr></table></figure></li><li><p>下面添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 来必力City版安装代码 --&gt;</span><br><span class="line">&lt;div id=&quot;lv-container&quot; data-id=&quot;city&quot; data-uid=&quot;####################&quot;&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">   (function(d, s) &#123;</span><br><span class="line">       var j, e = d.getElementsByTagName(s)[0];</span><br><span class="line"></span><br><span class="line">       if (typeof LivereTower === &apos;function&apos;) &#123; return; &#125;</span><br><span class="line"></span><br><span class="line">       j = d.createElement(s);</span><br><span class="line">       j.src = &apos;https://cdn-city.livere.com/js/embed.dist.js&apos;;</span><br><span class="line">       j.async = true;</span><br><span class="line"></span><br><span class="line">       e.parentNode.insertBefore(j, e);</span><br><span class="line">   &#125;)(document, &apos;script&apos;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;noscript&gt;为正常使用来必力评论功能请激活JavaScript&lt;/noscript&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- City版安装代码已完成 --&gt;</span><br></pre></td></tr></table></figure></li><li><p>其中“##…##”是代码的uid，这段代码可以在来必力官网的控制台直接复制，最后执行<code>hexo clean</code> <code>hexo g</code> <code>hexo d</code>三条命令即可。 </p></li></ul><h2 id="二-添加顶部加载条"><a href="#二-添加顶部加载条" class="headerlink" title="二.添加顶部加载条"></a>二.添加顶部加载条</h2><h3 id="1-关于-1"><a href="#1-关于-1" class="headerlink" title="1.关于"></a>1.关于</h3><ul><li><p>参考资料：<a href="https://www.jianshu.com/p/f054333ac9e6" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a></p></li><li><p>效果图：</p><h1 id=""><a href="#" class="headerlink" title=""></a><img src="https://wx1.sinaimg.cn/mw690/0068Se8Tly1fnt1dh1apzj316o049glx.jpg" alt="加载条"></h1></li></ul><h3 id="2-实现-1"><a href="#2-实现-1" class="headerlink" title="2.实现"></a>2.实现</h3><ul><li><p>打开<code>yourblog\themes\yilia\layout\_partial</code>文件夹，并编辑<code>head.ejs</code>文件。</p></li><li><p>并在这段代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;renderer&quot; content=&quot;webkit&quot;&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; &gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;&lt;%= config.url %&gt;&quot;&gt;</span><br><span class="line">&lt;title&gt;&lt;% if (title)&#123; %&gt;&lt;%= title %&gt; | &lt;% &#125; %&gt;&lt;%= config.title %&gt;&lt;/title&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1&quot;&gt;</span><br></pre></td></tr></table></figure></li><li><p>下面添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;//cdn.bootcss.com/pace/1.0.2/pace.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;link href=&quot;//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">    .pace .pace-progress &#123;</span><br><span class="line">        background: #6d6d6d; /*进度条颜色*/</span><br><span class="line">        height: 2px;</span><br><span class="line">    &#125;</span><br><span class="line">    .pace .pace-progress-inner &#123;</span><br><span class="line">         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #6d6d6d; /*阴影颜色*/</span><br><span class="line">    &#125;</span><br><span class="line">    .pace .pace-activity &#123;</span><br><span class="line">        border-top-color: #6d6d6d;    /*上边框颜色*/</span><br><span class="line">        border-left-color: #6d6d6d;    /*左边框颜色*/</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br></pre></td></tr></table></figure></li><li><p>最后执行<code>hexo clean</code> <code>hexo g</code> <code>hexo d</code>三条命令即可。 </p></li></ul><h2 id="三-实现点击出现桃心效果"><a href="#三-实现点击出现桃心效果" class="headerlink" title="三.实现点击出现桃心效果"></a>三.实现点击出现桃心效果</h2><h3 id="1-关于-2"><a href="#1-关于-2" class="headerlink" title="1.关于"></a>1.关于</h3><ul><li><p>参考资料：<a href="https://www.jianshu.com/p/f054333ac9e6" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a></p></li><li><p>效果图：</p><h1 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://wx4.sinaimg.cn/mw690/0068Se8Tly1fnt1fezdnej30lz06jt91.jpg" alt="桃心"></h1></li></ul><h3 id="2-实现-2"><a href="#2-实现-2" class="headerlink" title="2.实现"></a>2.实现</h3><ul><li><p>打开<code>yourblog\themes\yilia\source\js\src</code>文件夹，如果找不到，就新建对应的文件夹。在里面新建一个文本文档，并命名为<code>love.js</code>文件。打开并编辑，添加以下代码，并保存。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">! function(e, t, a) &#123;</span><br><span class="line">  function n() &#123;</span><br><span class="line">    c(&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &apos;&apos;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;), o(), r()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function r() &#123;</span><br><span class="line">    for (var e = 0; e &lt; d.length; e++) d[e].alpha &lt;= 0 ? (t.body.removeChild(d[e].el), d.splice(e, 1)) : (d[e].y--, d[e].scale += .004, d[e].alpha -= .013, d[e].el.style.cssText = &quot;left:&quot; + d[e].x + &quot;px;top:&quot; + d[e].y + &quot;px;opacity:&quot; + d[e].alpha + &quot;;transform:scale(&quot; + d[e].scale + &quot;,&quot; + d[e].scale + &quot;) rotate(45deg);background:&quot; + d[e].color + &quot;;z-index:99999&quot;);</span><br><span class="line">    requestAnimationFrame(r)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function o() &#123;</span><br><span class="line">    var t = &quot;function&quot; == typeof e.onclick &amp;&amp; e.onclick;</span><br><span class="line">    e.onclick = function(e) &#123;</span><br><span class="line">      t &amp;&amp; t(), i(e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function i(e) &#123;</span><br><span class="line">    var a = t.createElement(&quot;div&quot;);</span><br><span class="line">    a.className = &quot;heart&quot;, d.push(&#123;</span><br><span class="line">      el: a,</span><br><span class="line">      x: e.clientX - 5,</span><br><span class="line">      y: e.clientY - 5,</span><br><span class="line">      scale: 1,</span><br><span class="line">      alpha: 1,</span><br><span class="line">      color: s()</span><br><span class="line">    &#125;), t.body.appendChild(a)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function c(e) &#123;</span><br><span class="line">    var a = t.createElement(&quot;style&quot;);</span><br><span class="line">    a.type = &quot;text/css&quot;;</span><br><span class="line">    try &#123;</span><br><span class="line">      a.appendChild(t.createTextNode(e))</span><br><span class="line">    &#125; catch (t) &#123;</span><br><span class="line">      a.styleSheet.cssText = e</span><br><span class="line">    &#125;</span><br><span class="line">    t.getElementsByTagName(&quot;head&quot;)[0].appendChild(a)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function s() &#123;</span><br><span class="line">    return &quot;rgb(&quot; + ~~(255 * Math.random()) + &quot;,&quot; + ~~(255 * Math.random()) + &quot;,&quot; + ~~(255 * Math.random()) + &quot;)&quot;</span><br><span class="line">  &#125;</span><br><span class="line">  var d = [];</span><br><span class="line">  e.requestAnimationFrame = function() &#123;</span><br><span class="line">    return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function(e) &#123;</span><br><span class="line">      setTimeout(e, 1e3 / 60)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;(), n()</span><br><span class="line">&#125;(window, document);</span><br></pre></td></tr></table></figure></li><li><p>打开<code>yourblog\themes\yilia\layout</code>文件夹，并编辑<code>layout.ejs</code>文件,最末尾添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/love.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>最后执行<code>hexo clean</code> <code>hexo g</code> <code>hexo d</code>三条命令即可。 </p></li></ul><h2 id="四-添加修改相册"><a href="#四-添加修改相册" class="headerlink" title="四.添加修改相册"></a>四.添加修改相册</h2><h3 id="1-关于-3"><a href="#1-关于-3" class="headerlink" title="1.关于"></a>1.关于</h3><ul><li><p>参考资料：<a href="https://maker997.com/2017/07/01/hexo-Yilia-%E4%B8%BB%E9%A2%98%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%86%8C%E5%8A%9F%E8%83%BD/#more" target="_blank" rel="noopener">hexo Yilia 主题如何添加相册功能</a>、<a href="https://lawlite.me/2017/04/13/Hexo-Github%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%86%8C%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">Hexo+Github实现相册功能</a></p></li><li><p>效果图：</p><h1 id="-2"><a href="#-2" class="headerlink" title=""></a><img src="https://wx3.sinaimg.cn/small/0068Se8Tly1fnt1ip9skaj30wh0idqk0.jpg" alt="相册"></h1></li></ul><h3 id="2-Github新建相册同步项目"><a href="#2-Github新建相册同步项目" class="headerlink" title="2.Github新建相册同步项目"></a>2.Github新建相册同步项目</h3><ul><li><p>在Github上面新建一个项目，我这里新建的是一个名为<code>Blog-Back-Up</code>的项目</p><h1 id="-3"><a href="#-3" class="headerlink" title=""></a><img src="https://wx3.sinaimg.cn/mw690/0068Se8Tly1fnt1lga4e5j30mu05874b.jpg" alt="Blog-Back-Up"></h1></li><li><p>然后打开你的blog，你要将你的blog跟新建这个项目git，如果你这里不完成，后面使用脚本操作就会报错或者出现同步不上Github等问题，但是你如果对这些并不是很了解，可以先不git，接着操作<code>2.博客添加相册布局及样式</code>，后面脚本出现报错，我会在<code>5.执行脚本出现的错误</code>里面细说怎么Git和解决报错问题 </p></li></ul><h3 id="3-博客添加相册布局及样式"><a href="#3-博客添加相册布局及样式" class="headerlink" title="3.博客添加相册布局及样式"></a>3.博客添加相册布局及样式</h3><ul><li><p>打开<code>yourblog\source</code>文件夹，里面新建一个<code>photos</code>文件夹，打开<a href="https://github.com/lb948174033/Blog-Back-Up/tree/master/source/photos" target="_blank" rel="noopener">Blog-Back-Up/source/photos/</a>网站，将里面的五个样式文件下载并复制到你刚刚新建的文件夹内。</p></li><li><p>打开并编辑五个样式文件里面的<code>ins.js</code>文件，找到<code>render</code>函数：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var render = function render(res) &#123;</span><br><span class="line">  var ulTmpl = &quot;&quot;;</span><br><span class="line">  for (var j = 0, len2 = res.list.length; j &lt; len2; j++) &#123;</span><br><span class="line">    var data = res.list[j].arr;</span><br><span class="line">    var liTmpl = &quot;&quot;;</span><br><span class="line">    for (var i = 0, len = data.link.length; i &lt; len; i++) &#123;</span><br><span class="line">      var minSrc = &apos;https://raw.githubusercontent.com/lb948174033/blog-back-up/master/min_photos/&apos; + data.link[i];</span><br><span class="line">      var src = &apos;https://raw.githubusercontent.com/lb948174033/blog-back-up/master/photos/&apos; + data.link[i];</span><br><span class="line">      var type = data.type[i];</span><br><span class="line">      var target = src + (type === &apos;video&apos; ? &apos;.mp4&apos; : &apos;.jpg&apos;);</span><br><span class="line">      src += &apos;&apos;;</span><br><span class="line"></span><br><span class="line">      liTmpl += &apos;&lt;figure class=&quot;thumb&quot; itemprop=&quot;associatedMedia&quot; itemscope=&quot;&quot; itemtype=&quot;https://schema.org/ImageObject&quot;&gt;\</span><br><span class="line">            &lt;a href=&quot;&apos; + src + &apos;&quot; itemprop=&quot;contentUrl&quot; data-size=&quot;1080x1080&quot; data-type=&quot;&apos; + type + &apos;&quot; data-target=&quot;&apos; + src + &apos;&quot;&gt;\</span><br><span class="line">              &lt;img class=&quot;reward-img&quot; data-type=&quot;&apos; + type + &apos;&quot; data-src=&quot;&apos; + minSrc + &apos;&quot; src=&quot;/assets/img/empty.png&quot; itemprop=&quot;thumbnail&quot; onload=&quot;lzld(this)&quot;&gt;\</span><br><span class="line">            &lt;/a&gt;\</span><br><span class="line">            &lt;figcaption style=&quot;display:none&quot; itemprop=&quot;caption description&quot;&gt;&apos; + data.text[i] + &apos;&lt;/figcaption&gt;\</span><br><span class="line">        &lt;/figure&gt;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    ulTmpl = ulTmpl + &apos;&lt;section class=&quot;archives album&quot;&gt;&lt;h1 class=&quot;year&quot;&gt;&apos; + data.year + &apos;年&lt;em&gt;&apos; + data.month + &apos;月&lt;/em&gt;&lt;/h1&gt;\</span><br><span class="line">    &lt;ul class=&quot;img-box-ul&quot;&gt;&apos; + liTmpl + &apos;&lt;/ul&gt;\</span><br><span class="line">    &lt;/section&gt;&apos;;</span><br><span class="line">  &#125;</span><br><span class="line">  document.querySelector(&apos;.instagram&apos;).innerHTML = &apos;&lt;div class=&quot;photos&quot; itemscope=&quot;&quot; itemtype=&quot;https://schema.org/ImageGallery&quot;&gt;&apos; + ulTmpl + &apos;&lt;/div&gt;&apos;;</span><br><span class="line">  createVideoIncon();</span><br><span class="line">  _view2.default.init();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>其中<code>minSrc =</code>和<code>src =</code>后面的url链接就是对应你相册照片地址了，<code>raw.githubusercontent.com</code>是个解析网站的意思，其实你就把<code>/lb948174033/blog-back-up/</code>给修改一下就行了，<code>lb948174033</code>是我的Github用户名，<code>blog-back-up</code>是你前面在Github上面创建的项目名称 </p></li></ul><h3 id="4-脚本对图片进行处理和同步"><a href="#4-脚本对图片进行处理和同步" class="headerlink" title="4.脚本对图片进行处理和同步"></a>4.脚本对图片进行处理和同步</h3><ul><li><p>打开<code>yourblog</code>文件夹，里面再新建一个<code>photos</code>文件夹和<code>min_photos</code>文件夹，打开<a href="https://github.com/lb948174033/Blog-Back-Up" target="_blank" rel="noopener">lb948174033/Blog-Back-Up</a>网站，将里面的<code>ImageProcess.py</code>、<code>ImageProcess.pyc</code>、<code>tool.py</code>脚本下载并复制到<code>yourblog</code>文件夹内，每次要上传博客相册的图片也放在<code>yourblog\photos</code>文件夹。</p><h1 id="-4"><a href="#-4" class="headerlink" title=""></a><img src="https://wx4.sinaimg.cn/mw690/0068Se8Tly1fnt1o5468yj30xv0aemyk.jpg" alt="Blog"></h1></li><li><p>在<code>yourblog</code>文件夹内执行<code>python tool.py</code>命令就会执行脚本，最后再执行<code>hexo clean</code> <code>hexo g</code> <code>hexo d</code>三条命令即可。 </p></li></ul><h3 id="5-执行脚本可能会出现的错误"><a href="#5-执行脚本可能会出现的错误" class="headerlink" title="5.执行脚本可能会出现的错误"></a>5.执行脚本可能会出现的错误</h3><ul><li>如果出现<code>no module named PIL</code>报错，出现这错误的原因是: PIL 模块找不到,PIL 模块已经过时了，解决方案: 输入<code>pip install pillow</code>即可</li><li>如果出现执行完脚本，你的Github上面并没有同步项目，那就是说明你的blog文件夹并没有push到github上面，这个时候你可以输入这些指令：<code>git int</code>、<code>git add --all</code>、<code>git commit -m &quot;add photos&quot;</code>、<code>git push origin master</code>，详细可以百度查git资料 </li></ul><h2 id="五-博客边角实现fork-me-on-github"><a href="#五-博客边角实现fork-me-on-github" class="headerlink" title="五.博客边角实现fork me on github"></a>五.博客边角实现fork me on github</h2><h3 id="1-关于-4"><a href="#1-关于-4" class="headerlink" title="1.关于"></a>1.关于</h3><ul><li>参考资料：<a href="https://www.jianshu.com/p/f054333ac9e6" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a></li><li>效果图：<br><img src="https://wx2.sinaimg.cn/small/0068Se8Tly1fnt1aqv7jvj30aq0aiwet.jpg" alt="fork me on github"></li></ul><h3 id="2-实现-3"><a href="#2-实现-3" class="headerlink" title="2.实现"></a>2.实现</h3><ul><li><p>打开<a href="https://tholman.com/github-corners/" target="_blank" rel="noopener">GitHub Corners</a>或<a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="noopener">GitHub Ribbons</a>网站，从里面选择一个你喜欢的样式，并复制其代码<br><img src="https://wx3.sinaimg.cn/mw690/0068Se8Tly1fnt1hf4bqdj30gq05f3z3.jpg" alt="1"></p></li><li><p>打开<code>yourblog\themes\yilia\layout</code>文件夹，并编辑<code>layout.ejs</code>文件。</p></li><li><p>并在这段代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&apos;_partial/head&apos;) %&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;container&quot; q-class=&quot;show:isCtnShow&quot;&gt;</span><br><span class="line">    &lt;canvas id=&quot;anm-canvas&quot; class=&quot;anm-canvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;div class=&quot;left-col&quot; q-class=&quot;show:isShow&quot;&gt;</span><br><span class="line">      &lt;%- partial(&apos;_partial/left-col&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</span><br></pre></td></tr></table></figure></li><li><p>下面添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;https://github.com/lb948174033&quot;&gt;&lt;img style=&quot;position: absolute; top: 0; left: 0; border: 0;&quot; src=&quot;https://camo.githubusercontent.com/c6625ac1f3ee0a12250227cf83ce904423abf351/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f677261795f3664366436642e706e67&quot; alt=&quot;Fork me on GitHub&quot; data-canonical-src=&quot;https://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure></li><li><p>其中<code>href=</code>后面的链接是你Github主页对应的链接，<code>style</code>是风格，也就是位置和颜色这些款式，alt是显示的文字.最后执行<code>hexo clean</code> <code>hexo g</code> <code>hexo d</code>三条命令即可。 </p></li></ul><h2 id="六-在每篇文章末尾统一添加“本文结束”标记"><a href="#六-在每篇文章末尾统一添加“本文结束”标记" class="headerlink" title="六.在每篇文章末尾统一添加“本文结束”标记"></a>六.在每篇文章末尾统一添加“本文结束”标记</h2><h3 id="1-关于-5"><a href="#1-关于-5" class="headerlink" title="1.关于"></a>1.关于</h3><ul><li><p>效果图：</p><h1 id="-5"><a href="#-5" class="headerlink" title=""></a><img src="https://wx1.sinaimg.cn/mw690/0068Se8Tly1fnt19h99c7j30gq01ka9v.jpg" alt="文本结束"></h1></li></ul><h3 id="2-实现-4"><a href="#2-实现-4" class="headerlink" title="2.实现"></a>2.实现</h3><ul><li><p>打开<code>yourblog\themes\yilia\layout\_partial</code>文件夹，并编辑<code>article.ejs</code>文件。</p></li><li><p>并在这段代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  &lt;% if (!index &amp;&amp; theme.share_jia)&#123; %&gt;</span><br><span class="line">    &lt;%- partial(&apos;post/share&apos;) %&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">  &lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li><li><p>下面添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div&gt;</span><br><span class="line">     &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;</span><br><span class="line">     -------------本文结束&lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt;感谢您的阅读-------------</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li><li><p>最后执行<code>hexo clean</code> <code>hexo g</code> <code>hexo d</code>三条命令即可。 </p></li></ul><h2 id="七-在网站底部加上访问量"><a href="#七-在网站底部加上访问量" class="headerlink" title="七.在网站底部加上访问量"></a>七.在网站底部加上访问量</h2><h3 id="1-关于-6"><a href="#1-关于-6" class="headerlink" title="1.关于"></a>1.关于</h3><ul><li><p>参考资料：<a href="https://www.jianshu.com/p/f054333ac9e6" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a></p></li><li><p>效果图：</p><h1 id="-6"><a href="#-6" class="headerlink" title=""></a><img src="https://wx2.sinaimg.cn/mw690/0068Se8Tly1fnt1qb7rh9j307602jwe9.jpg" alt="访问量"></h1></li></ul><h3 id="2-实现-5"><a href="#2-实现-5" class="headerlink" title="2.实现"></a>2.实现</h3><ul><li><p>打开<code>yourblog\themes\yilia\layout\_partial</code>文件夹，并编辑<code>footer.ejs</code>文件。</p></li><li><p>并在这段代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;footer-left&quot;&gt;</span><br><span class="line">&amp;copy; &lt;%= date(new Date(), &apos;YYYY&apos;) %&gt; &lt;%= config.author || config.title %&gt;</span><br><span class="line">   &lt;script async src=&quot;https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>下面添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;powered-by&quot;&gt;</span><br><span class="line">  &lt;i class=&quot;fa fa-user-md&quot;&gt; &lt;/i&gt;</span><br><span class="line">  &lt;span id=&quot;busuanzi_container_site_uv&quot;&gt;</span><br><span class="line">    本站访客数:&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt; &lt;/span&gt;</span><br><span class="line">  &lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li><li><p>其实具体在页脚哪里添加，哪怕不添加在页脚也行，看个人喜好了。最后执行<code>hexo clean</code> <code>hexo g</code> <code>hexo d</code>三条命令即可。</p></li></ul><p><a href="https://gzx97.com/posts/20223/#%E4%B8%89-%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E6%A1%83%E5%BF%83%E6%95%88%E6%9E%9C" target="_blank" rel="noopener">原文地址</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> Yilia </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>excel交互</title>
      <link href="/2018/10/11/excel%E4%BA%A4%E4%BA%92/"/>
      <url>/2018/10/11/excel%E4%BA%A4%E4%BA%92/</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.caozhengbo.xyz//2018/10/11/selenium与excel交互/" target="_blank" rel="noopener">上节作业答案参考</a></p><p><strong>利用xlrd、xlwt、xlutils这三个库组合操作</strong></p><ul><li><strong>xlrd</strong>：用来读excel文件，但是只读，不能写</li><li><strong>xlwt</strong>：用来写excel文件，但是只写，不能更改已存在的excel中的数据</li><li><strong>xlutils</strong>：是将xlrd读入的excel文件copy一份，成为xlwt的对象，这样copy的那一份就可以写入了，直接write已经存在的单元格，就是修改，修改完成后保存为和原来的一样的文件名，就会覆盖原excel文件，这样就完成了excel文件的修改</li></ul><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">import xlrd</span><br><span class="line">import xlwt</span><br><span class="line">from xlutils.copy import copy</span><br><span class="line"></span><br><span class="line"># 新建excel文件</span><br><span class="line">def new_tables():</span><br><span class="line">    workbook = xlwt.Workbook()</span><br><span class="line">    # 创建三个表</span><br><span class="line">    sheet = workbook.add_sheet(&apos;Sheet1&apos;)</span><br><span class="line">    sheet = workbook.add_sheet(&apos;Sheet2&apos;)</span><br><span class="line">    sheet = workbook.add_sheet(&apos;Sheet3&apos;)</span><br><span class="line">    # 保存到caozhengbo.xls</span><br><span class="line">    workbook.save(&quot;test.xls&quot;)</span><br><span class="line">def modification():</span><br><span class="line">    # xlutils用于复制excel</span><br><span class="line">    # 本脚本对已经存在的excel表格进行修改</span><br><span class="line">    workbook = xlrd.open_workbook(&quot;test.xls&quot;, formatting_info=True)  # formatting_info复制单元格格式</span><br><span class="line">    # wb = copy(workbook)</span><br><span class="line">    # 获取所有sheet</span><br><span class="line">    print(workbook.sheet_names())</span><br><span class="line">    wb = copy(workbook)</span><br><span class="line">    # i=1</span><br><span class="line">    for i in range(0,6):</span><br><span class="line">        for x in range(0,3):</span><br><span class="line">            # 插入数据</span><br><span class="line">            wb.get_sheet(x).write(0,i, &quot;张三%d&quot;%i)</span><br><span class="line">            wb.get_sheet(x).write(1,i, &quot;李四%d&quot;%i)</span><br><span class="line">            wb.get_sheet(x).write(2,i, &quot;王五%d&quot;%i)</span><br><span class="line">    wb.save(&quot;test.xls&quot;)  # 同名存盘</span><br><span class="line"># 读取excel文件内容并且输出</span><br><span class="line">def read():</span><br><span class="line">    workbook = xlrd.open_workbook(&apos;test.xls&apos;)</span><br><span class="line">    # 获取表数据的行、列数</span><br><span class="line">    for i in range(0,3):</span><br><span class="line">        table = workbook.sheet_by_index(i)</span><br><span class="line">        h = table.nrows</span><br><span class="line">        l = table.ncols</span><br><span class="line">        print(u&quot;表%s数据的行数为%s,列数为%s&quot;% (i+1,h, l))</span><br><span class="line">        # 循环读取数据</span><br><span class="line">        for i in range(0, h):</span><br><span class="line">            rowValues = table.row_values(i)  # 按行读取数据</span><br><span class="line">            # 输出读取的数据</span><br><span class="line">            for data in rowValues:</span><br><span class="line">                print(data,end=&apos;  &apos;)</span><br><span class="line">            print()</span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    new_tables()</span><br><span class="line">    modification()</span><br><span class="line">    read()</span><br></pre></td></tr></table></figure><p>不足之处，还请评论批评</p>]]></content>
      
      
      
        <tags>
            
            <tag> execel </tag>
            
            <tag> code </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>selenium与excel交互</title>
      <link href="/2018/10/11/selenium%E4%B8%8Eexcel%E4%BA%A4%E4%BA%92/"/>
      <url>/2018/10/11/selenium%E4%B8%8Eexcel%E4%BA%A4%E4%BA%92/</url>
      
        <content type="html"><![CDATA[<h4 id="我们在测试时，需要读取测试数据：数据通常放在excel中，所以Selenium需要与excel做交互，如何交互？包括以下两种方式：1、读取excel中的数据，2、往excel中添加数据。"><a href="#我们在测试时，需要读取测试数据：数据通常放在excel中，所以Selenium需要与excel做交互，如何交互？包括以下两种方式：1、读取excel中的数据，2、往excel中添加数据。" class="headerlink" title="我们在测试时，需要读取测试数据：数据通常放在excel中，所以Selenium需要与excel做交互，如何交互？包括以下两种方式：1、读取excel中的数据，2、往excel中添加数据。"></a>我们在测试时，需要读取测试数据：数据通常放在excel中，所以Selenium需要与excel做交互，如何交互？包括以下两种方式：1、读取excel中的数据，2、往excel中添加数据。</h4><h5 id="安装："><a href="#安装：" class="headerlink" title="安装："></a>安装：</h5><p><strong>安装Selenium：</strong></p><a id="more"></a><p>pip install selenium==2.48.0</p><p><strong>安装驱动与excel交互的驱动：</strong></p><p>pip install xlrd</p><p>pip install xlwt</p><p>pip install xlutils</p><p>1、<strong>读取excel文件内容</strong></p><p>在当前文件夹中建立一个excel文件：lx.xls。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import xlrd   #读模块</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">workbook = xlrd.open_workbook(&apos;lx.xls&apos;)</span><br><span class="line"></span><br><span class="line">#两种方法定位到数据表</span><br><span class="line"></span><br><span class="line">sheet1 = workbook.sheet_by_index(0)</span><br><span class="line"></span><br><span class="line">sheet2 = workbook.sheet_by_name(&quot;Sheet2&quot;)</span><br><span class="line"></span><br><span class="line">#定位到某行</span><br><span class="line">rows = sheet1.row_values(0)</span><br><span class="line">#定位到某个单元格</span><br><span class="line"></span><br><span class="line">cell=sheet1.cell(0,0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(rows)</span><br><span class="line"></span><br><span class="line">print(cell)</span><br></pre></td></tr></table></figure><p>2、<strong>新建excel文件并写入内容</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import xlwt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">workbook = xlwt.Workbook()</span><br><span class="line"></span><br><span class="line">sheet=workbook.add_sheet(&apos;mysheet1&apos;)</span><br><span class="line"></span><br><span class="line">sheet.write(0,1,&quot;zhangsan&quot;)</span><br><span class="line"></span><br><span class="line">sheet.write(0,2,&quot;lisi&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">workbook.save(&quot;myex.xls&quot;)</span><br></pre></td></tr></table></figure><p>3、<strong>修改excel文件内容</strong></p><p>python不能对已有的excel表格直接修改，但是可以通过xlutils复制一份excel，再修改内容，保存与原来excel表格相同的名字，会覆盖以前的文件，相当于修改了文件。</p><p>#xlutils用于复制excel</p><p>#本脚本对已经存在的excel表格进行修改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import xlrd</span><br><span class="line"></span><br><span class="line">import xlwt</span><br><span class="line"></span><br><span class="line">from xlutils.copy import copy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">workbook=xlrd.open_workbook(&quot;lx.xls&quot;)</span><br><span class="line"></span><br><span class="line">wb=copy(workbook)</span><br><span class="line"></span><br><span class="line">#修改第一个sheet的内容</span><br><span class="line"></span><br><span class="line">wb.get_sheet(0).write(0,0,&quot;xxxx&quot;)</span><br><span class="line"></span><br><span class="line">wb.save(&quot;lx.xls&quot;)  #同名存盘</span><br></pre></td></tr></table></figure><p><strong>作业：</strong></p><p><strong>按照此方法，编写脚本，实现一下功能：建立一个包含有三个数据表的excel文件。每个数据表中至少有三行六列的数据（数据内容任意），建立后将数据再读出，并输出。</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> selenium </tag>
            
            <tag> excel </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>多台电脑操作hexo</title>
      <link href="/2018/10/10/%E5%A4%9A%E5%8F%B0%E7%94%B5%E8%84%91%E6%93%8D%E4%BD%9Chexo/"/>
      <url>/2018/10/10/%E5%A4%9A%E5%8F%B0%E7%94%B5%E8%84%91%E6%93%8D%E4%BD%9Chexo/</url>
      
        <content type="html"><![CDATA[<h1 id="多台电脑操作hexo个人网站"><a href="#多台电脑操作hexo个人网站" class="headerlink" title="多台电脑操作hexo个人网站"></a>多台电脑操作hexo个人网站</h1><h2 id="旧电脑上的操作"><a href="#旧电脑上的操作" class="headerlink" title="旧电脑上的操作"></a>旧电脑上的操作</h2><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>首先确保自己已经使用hexo在github搭建好了自己的个人博客，github仓库中如下图显示：<a href="https://upload-images.jianshu.io/upload_images/2859254-e60e6b7e367b36fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" target="_blank" rel="noopener"><img src="https://upload-images.jianshu.io/upload_images/2859254-e60e6b7e367b36fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="image"></a></p><a id="more"></a><h3 id="对username-github-io仓库新建hexo分支，并克隆"><a href="#对username-github-io仓库新建hexo分支，并克隆" class="headerlink" title="对username.github.io仓库新建hexo分支，并克隆"></a>对username.github.io仓库新建hexo分支，并克隆</h3><p>在Github的username.github.io（就是hexo网站的仓库）仓库上新建一个xxx（自己取名，我取名为hexo）分支，并切换到该分支，并在该仓库-&gt;Settings-&gt;Branches-&gt;Default branch中将默认分支设为xxx，save保存。</p><p>新建分支，并选中新建的分支，如下图：</p><p><a href="https://upload-images.jianshu.io/upload_images/2859254-01cb597e80e5005b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" target="_blank" rel="noopener"><img src="https://upload-images.jianshu.io/upload_images/2859254-01cb597e80e5005b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="image"></a></p><p>设置新建的xxx分支为默认分支，如下图：</p><p><a href="https://upload-images.jianshu.io/upload_images/2859254-67ed8c22531dd66d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" target="_blank" rel="noopener"><img src="https://upload-images.jianshu.io/upload_images/2859254-67ed8c22531dd66d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="image"></a></p><p>然后将该仓库克隆到本地，进入到本地的username.github.io文件目录。<br>进入本地的username.github.io后，在当前目录使用git bash执行git branch命令查看当前所在分支，应为新建的分支xxx。</p><h3 id="将本地博客的部署文件拷贝进username-github-io文件目录"><a href="#将本地博客的部署文件拷贝进username-github-io文件目录" class="headerlink" title="将本地博客的部署文件拷贝进username.github.io文件目录"></a>将本地博客的部署文件拷贝进username.github.io文件目录</h3><p>先将本地博客的部署文件（就是之前存放hexo项目的目录下的全部文件）全部拷贝进username.github.io文件目录中去。</p><p>接下来，进入username.github.io文件目录下，依次执行：</p><ol><li><strong>git add .</strong></li><li><strong>git commit -m ‘新电脑部署’</strong>（引号内容可改）</li><li><strong>git push</strong></li></ol><p>即可将博客的hexo部署环境提交到GitHub个人仓库的xxx分支。</p><p>此时部署到github的步骤就已经完成了。master分支和xxx分支各自保存着一个版本，master分支用于保存博客静态资源，提供博客页面供人访问；xxx分支用于备份博客部署文件，供自己修改和更新，两者在一个GitHub仓库内互不冲突，完美！</p><h2 id="新电脑上的操作"><a href="#新电脑上的操作" class="headerlink" title="新电脑上的操作"></a>新电脑上的操作</h2><p>到这一步，你的博客已经可以在其他电脑上进行同步的维护和更新了，方法很简单：</p><ol><li><p>将新电脑生成的ssh key添加到GitHub账户上（生成并添加ssh key的方法自行百度，本文不做详细说明）。</p></li><li><p>在新电脑上克隆username.github.io仓库的xxx分支到本地，此时本地git仓库处于xxx分支.可以使用git branch查看当前分支。</p></li><li><p>切换到username.github.io目录，执行npm install(由于仓库有一个.gitignore文件，里面默认是忽略掉node_modules文件夹的，也就是说仓库的hexo分支并没有存储该目录，所以需要install下)</p></li><li><p>在新电脑上安装hexo命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li></ol><h2 id="新旧电脑更新网站的方法"><a href="#新旧电脑更新网站的方法" class="headerlink" title="新旧电脑更新网站的方法"></a>新旧电脑更新网站的方法</h2><p>首先注意一点：每次换电脑进行博客更新时，不管上次在其他电脑有没有更新，最好先git pull，防止冲突，这是一个好习惯。<br>然后，依次执行以下步骤：</p><ol><li>编辑、撰写文章或其他博客更新改动，就是你要对博客进行的修改，或新增文章。</li><li>依次执行git add .、git commit -m ‘在新电脑上提交新文章’（引号内容可改）、git push指令，保证xxx分支版本为最新版本。</li><li>依次执行hexo g,hexo d指令（执行之后，过几分钟如果网站上的内容没有更新，在hexo g之前，可能需要执行hexo clean），完成后就会发现，最新改动已经更新到master分支了，两个分支互不干扰！</li></ol><p>到此，就可以在多台电脑上更新个人网站啦！如有疑问，欢迎留言！</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 个人博客 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>清晨</title>
      <link href="/2018/10/10/wangyiyun/"/>
      <url>/2018/10/10/wangyiyun/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2451441844&auto=1&height=90"></iframe>]]></content>
      
      
      
        <tags>
            
            <tag> 网易云 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>清晨</title>
      <link href="/2018/10/09/picture-zao/"/>
      <url>/2018/10/09/picture-zao/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=4190506700,4104140473&amp;fm=27&amp;gp=0.jpg" alt="picture1"></p><a id="more"></a><p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAFNAfQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwCuFp4WnBakC16NzlGBaeFp4WnBaLgMC08LTwtPC0rgRhacFqQLTglFwGBacFp4WnBaLjIwtOC1IFpwWlcZGFpwSpAtOC0rgR7KXZUgWnbaVwI9tLt9qk20u2i4yPbRtqXbS7aLgRbaXbUu2l2UXCxDto21NspdlFwIdtG2ptlGyi4EO2jbU22jZRcViDZRsqbbRto5gINlGypttG2ncCDZSbKn20m2i4EO2k281NtoxTuBBto21NtpNtFxEBWmlKsFaaVppiK5Wm7asFaaVqrkkBWmlanKU0rTuIgK00rU5WmlaaYiArTStTlaaVp3AgK00rU5WmladxEBWmFasFaYVp3EQFaaVqcrTStO4iArTCKnK00rRcCErTCtTFaaRRcCErTStTEU0incCArTStTkUwrSAh20VJtoouI2AKeBSgVIFrludI0LTwtOC08LSuA0LTwtKFp4WlcLDQKcFp4WnBaLjGBacEqQLShaVx2GhaULTwtOC+1K4WGBacFp4WnhKOYdiILTgtSbKcFFLmHYiC0oWpQKULRcLEe2l21JtpdvtRcLEe2jbUu2l2mlcdiLZRtqbbRtouFiLbx0o21LtpcUXEQ7aTbU+32o2j0ouFiDbSbanwPSjaKOYLEG2k21PtFIUp3FYh20m32qbZRt9qLisQ7aaUqcr7U3bTuFiHZTdtT7aTFO4rEG2kxU5WmFKdxEJWkK1MVNNK07isQlaaVqYikK00xWICtNK1OVppWncTRXK00rVgrTCtVcViArTStTlaaVp3FYgK0wrU5WmladxEBWmlamK00rTuKxAVppWpiKaVp3FYgK0wrVgrTCtO4EBWmEVOVphWi4EJFMIqcimFaLgQ4op5FFAWNsLTwtOC08LXFc6rCBaeFpwWnhRS5h2GhacFp4FOApcwWGhacFpwFPAouOw0LTguKcBTgtK47DQOKcBTgtPC0rjsMC0u2pAtOCUXCxGFpQtShKXbRzDsRhacFqQLShaVx2I9tLtqXbS7aXMFiLbS7alC0u2jmCxFto21Nto20cwWIdtG2p9tG2jmCxBto21PtpNtHMFiDbSbKsbKTbT5hWINtJtqfbSFKLhYhxSYqYrSbadxWIdtJtFS7aQrTuKxCUpNtTYpCKLisQbaTbU5WmlarmFYgK0hWpitNK07isQlc0wpU+KaRTuKxAVppFWCtMK07iICtNK1OVppWncViArTStTEU0rTuKxCVphWpytNK01ImxXK00rVgrUZWquKxAVphWrBWmEU7iICtMIqcrTCtO4WISKYRU5WmFaLisVyKaRU5WoyvtRcCEiipCtFO47G6BTwKVVp4WuC52WEAp4WlAp4FLmCwgWnBacBTgKXMOwgWnBacBTgKXMOwgWnBacBTgtHMFhoWnhacBTgtLmHYaFpwWnhacFpcw7DAtOC1IFpwWlzBYjC0u2pQtOC0uYdiILS7al2il2ijmHYiC0u2pNvtS7falzBYj20bal20uKOYOUh20bam20baOYLEW2k21NtFG0UcwWIdtJtqbbRtp8wrEBWkK1OVppWnzCsQlaTbUxWk2+1PmFYh200pU5Wm7afMKxCUppSp9tIVp8wrFcrTStWCtNK1XMKxXK0hWpytMK07isQlKYVqcimkU7isQlaaVNTFaaVp8wrEJWmlanK00qKfMKxAVppWpytMKmnzCsQFaaVqYimkU+YViAimlamK00rT5hWICtMK1YK00pTUhcpWK0wrVkrTCtPmJsVitNK1YK1GVp8wWICtMK1ORTCKOYLEBWipSDRS5gNsCngUAU8CuHmO2wAU8LShaeFpOQ7CAU4ClC08LS5h2GhaeFpwWngUuYLDQtPC0oWngUuYdhoWnhacFNPC0cw7DQtOC08JTgtLmCwwCnBaeFpwWlzFWGBTTgtPC04LS5gsMCCnbBTwtOC0uYdiPZS7ak20u2lzDsRbaXbUu2l20uYLEO32o21Nto20+YLEO32pNtTbaTbT5hWISlG2pttJtp8wrEOPak21MVppWnzCsRbaaVqYrSYp8wrEJWm4qcrTStPmFYhxTStTFaaVp3FYhIppWpitNIp8wrEJFMK1ORTCBT5hWISKaRUxWk2VXMKxARTStWPLo2CjnFylUrSbaslR2phWnzi5SuVppWrBWoytPnFYgIppFTlaYQKrmFYhIppWpiBTSKdybEBWmFamIphFO4rERFMIqUimkUXCxCyioytTEUwinzCsQEUwipyKjIp8wWISKKk20UcwWNsLTwtKBTwK8/mO2wAU8CgCngUuYrlALTwtAWnhaXMHKIFp4WlCmngUuYfKIBTgtOAp4WlzjsNAp4WnBRTgKXMOwgWnAU4LTwtLmCw0LTgKcFp4WjmHyjAtOC08LTwtTzj5SMLTttSBacFpcw7EYWl21IFp22lzBYi20u2pdtG32NHMFiLZRsqXbRijmDlIdtG2pttJtp8wuUhKUhSpttIVp8wrEBWmlasFabtp8wWICtNK1OVpCtPmFYgIppFTlaYVquYViLFNK1KVpCKrmJ5SAimkVORTSKfMKxCRTSoqUimkU+YViIgUmKkIppHvRzCsRmm/hTyDTSKfMKw0n2phI9KkNMIFO4rEZNRmpSKYRVJiaIiKjIqcioyKrmFYiNNNSkUwijmJ5SI5phFSkUwiq5hWIzTDUhBphFHMKxGRUZFSkGmEU+cXKREUwipCKYafMFhlFBoo5hWN8AU8CkAqRRXmc56PKAFSAUAU8Ck5j5QAp4FAFSAUucfKIBTgKUCngUucOUAtOC0oFPApc41EQLTwtKBTwKXOPlEC08LSgU4Clzj5RAtPC+9KBTwvtS5x8ogWnBR6U4LTwKXOHKMC+1PC+1KBTgKLsLIbtPpS7afilxTuGg3bRtp+KXbQK5Hto21JtoxTC5Hik2j0qTbRii4XREVpCtS4pMUXCxEVppWpSKTbT5hcpCVppWpiDTCKOcOUiK00ipiKYRVc5PKREUwipitMK1SkLlIiKYVqYrTSKfMLlISDTSKmIppFPmFYhIFNIqUimkU+YnlIitMIqY00inzhykJFNIqUimkU+cXKQkU0ipiKYR7U+cXKQkU0gVKRTCKfOLlISBTCKmIphFPnFykRFRkVMRTCKfOLlISKYRUxFRkU+cXKREVGwqYimEU+cXKQkVGRUxFMIo5w5SHFFSYFFPmFY6ARn0pwQ+laDPCTjFKtuJPuEV4qr9z1fZlILTwKsPbOhwcfnTRHVe1TFyDAKkAoEdSCM+lHtEHKIBTwKURmnAAd6XtEHKIBUgFIBTwKXOHKAFOApQKeBS5yuUAKeFoFOGKOcOUUCngCminUJ3FYdSj6U0U8VoiWOFLigU4CnclsAKdigU4CquQ2JilAp2KKom40igCn0UBcbtppFPpCKAuMIppFSU0ilcpMYRTSKeRTTSuUmMxSECnGmn8KlsoaRTStPpCKXNYdiIrTSKlIphFNTFykRFIRUhFNIp84uUiIppFSmmGnzi5SMimlakIppFPnFyEZWoyKmIphFP2guQiK0wipTTT9aftBchERTCKlIHrTSBT9oHIQkUw1KQKYR70+cXKRGmEVKRUZx7/lT5xcpER7U009sUw0e0FyEZphFSGmmnzhyEZFRkVIaYaOcXIRMKYRUpA70wiqUw5CIiin4op+0FyHSxzHHQg/SplmOQCAPcVErfSnq4z/DXz3tD2OQtr8yfN8w7VG3ydx9DTVl/wBkUo2MclQPxoVSwnAQSsf/AK1OBJ9acqR5/wDr1KGCj5Rir9qTykQB9DTwPal3Z7ClBPtT9oHKKPpTh9KaKcDinzisSCnA0wSEU8OapMTHZpQaZvxRv9qpSJsSg08VCGp4arUiWiUU8VEGp6tVqRDRKKeKjBp4NWpGbHinCminCrTIYtLRS1aZIlFLRTuAlNNOppqWxoSkNKaaTUNlCE0w0pNNJpcxSENMNKTTCalyLQuaQmkzTS1S5FJCk0hNNLU3dUcxSQ4000m6k3VPOPlA/SmGlLe9NJFHtA5RDTTSk00mn7QOQaRTTTiaYTT9oLkGkU0ilLUwtVe0DkEIphxSlqjY0/aByCNio2IpWNRsafOLkEJphagmoy1NTFyATTCaQmmE0+cOQUmoyaRmqMt71XML2Y4tTC1NLCmFxT5g5BxNMJppcU0tVKQuQfmiotwop3FyHSq2Owp4I9P1qisjepp6vn1rwLM9axdULnv+dTKVA71RD/WniSpdxcpeVlHc08SL61QEtOElF2S4GgHXvS7l7fzqiJKf5tVzMlwLgkxTt+apCVu1PEjY5pqZLgWwfenDB6tVQSH1p4lHrVKoS4ss/L/epeB3quJR7Uvmj1FWqhPKywGp4aqwl96kEw9TVqoJxLKtUgaqqyqfX86kWRfSrVQyaLIapFNVhItSLIKtVDNxLQNPBqBZB61IrirVQyaJRS0wMKeCK2VRGbFpKXNNJp+0QCE0hNIWpjOKylVKSFJphamNIKiaQVDqmiiSlqYWqEyj1pjSj1qXUNVEmLUwvUDTD1qMzVLqGigWC9NL1WMvvTTLS9oUoFkvTS9VzLTTL71POUoFneKTzBVUy0hlpc5XIWfMFJ5i981VMnvTTJ70cw+QtmRPemmRPeqhl96aZKNR8haMie9RmRfeq5kppk96eocpOZB70xpB2FQGSmGSrSYcpOZajMnvUDS1GZferUWKxO0lRtJ71A0tRtJVqDFyomaT3qNpahaSomkq1BisTNKfWo2kqFnqNnrRQE0TGSoy9Qlz60wvVqmSyYyUwyVCWpparVMlkpek31Duo3VSpk3Jd1FRbqKfs2K6N8OPWnh/eqIeniQ15LoM9TmReEnvTw/vVESU8SVDoMLouh6eHqmslOElQ6AaFwSU4Se9VA9KHqXQFYueb70ok96qB6XfS9iwsW/MpRJVXfSh6XsmLlLYkpRJVTeaXeaXIw5S4JacJapBzS7zS5WTyF8Te9SCf3rODml8w09SXTRqLcVKtyPWsgSGniU0XZLomytyPWp0uB61hLORUyXBo52YyoG8kwNWEO4gDvWJFdD1FXorpccmqVa25y1KTRoyoY8Z71XeQLUTXySAkSbscdelUprsf3hV1K0XJ8mxFOlJ7ll7jHeq73PvVGS6561XacnvUc7Z2QoGg1z71Ebg+tUTNnvTTJ707s2VJFwz+9MM/vVXePWm7x607MtU0WjNTTKar7xnrSbqpQY+VE5k96TzPeoC31o3VSphZE3mUm/3qHdRu9qpUguiXfSb6i3H0pjSMJVTZ95Sc56Yx/jVqiLmROXppeost6UhLf3atURcxIXppeoyx9KYWPpVqkLnJC9NMlRFj6U0sfStFSRPOSF6aXNMJPpTST6VapIlzFLU0tSHPpTST6VoqRLqCE0wmnHPpTDu9BVqmiXUGmozTzu9qYQ3tVqmiHUI2pjGnkNTCrH/APVVqmiHUIyaYakKt6/pTCretWoIl1CM0hp5Q+tMK4/iP51agiHUG0maZMCNhDkfOM++eP60u3/a/Wq5CecUsaKaQP7360U+RC9oPPiDThjE27PoppT4i09f+Wrf98mvHhduRjBI9CeKT7RKB6Z7AVh9Xpl/XZHsI8U6ZvKiYkj0HWlPimwA43n8B/jXjy3Td0apPtZU5wy+hNT9Wph9cmetf8JbaBsAFvbgEfqacfFtoysvltyMA7hXki3mRlmP41YW+RiMHA+lJ4an2GsZM9WXxZbKgLxMD9Ril/4S6DjEOcn+/wBq8rN6rHAf8TURulVjh84/Wl9Wp9i/rkj1seL7ZRl4iox2YVB/wnFqoBZOD6Hn+VeWNesxzkfnSNdE4CkD3qfq1PsV9bkz1P8A4TyzyP3LY9c//WoHj21J/wBU4H868tE8meGBp/2hwOMZ9euah4en2GsWz1VfGtq6ZVV/Fj/LFRR+NYQoUtGSO53fzry43Mu3gtj3WkFzKnJHHYkVP1aHYv60z1ZvG0A5Bix6ZNR/8JzCQSJIhjttavLWut2N27J9On6VIJwY/lBwRR9Wh2GsU2ekHx8q84yP9zr+tRr8QQQeCMk9VHH615qzgHLP+BpVulB6k81P1WHYtYnuemS+N3MamOTJPOFT/GmHx1cc4U/gBXnsc20cPgH8KmFw+MEZrN4aPY6oVovc7weOrlnBKbQOwwc/pUw8bS7wQZMZ/urXAidsdamjkJGSfzGKxlhYPodlKVN6M9Dj8ZyOMmQp6fIOakPjaQdJpSfRUFefLJ7iphLlep/OsHg4HZClh5dEdz/wmspJXzZQrckgAEGopfGk68JLI4A67R/UVxm84zngd6ja4xwpH5ULCQLdHDrojqZPFVw2HV5S3vJjFRr4tuzJ++kkT0IfNcoZhyRk4647VEZFPPzE/Sto4aC6HJVnTWiOrn8ZXqLtgnlJ/vNUB8YX7ogeSUsDyRIVH6Vy7TgDrx+lRvPIOMBQK3jRiuh59StFbHVHxbeKdyyTbsc5mNRyeMdQJ+SaVSB/FIa5NrkDJZ+P9kUz7Skkm2LzHPuK1VLyOWVc6weMNT2sJLiRm7HzCKaPGOpo2FnbHpvbP8659lUKA9yq+ypk1A8ZyAku5eucgfpQoxMJYg6SXxdqkibY7iRM9SXJoTxXqgRS1zkoMZ3EE/rXMyLIv8YOPRqjAmkXG4AZ6KwrRRRk67OlfxlqoXb9qdcjHU/1NNg8W62qFU1JsZ781zOGRSWjdhnrgnmk+0KE5RQOgJ5xWqiuiMnXk+p0cvi/WcktezYPoTioU8T6osyu19M+BjazHGPwrBW7GArsDzzgAcVK8MjoGtwHA6qGUn9MVpGDfQzdaXc1P+Em1Npt73c0g/uM3y4ofxHqTFCbpgVbcACf8axQHDEFGUjsRimbZMkBWP0GatRJ9o+51Nt4x1KHP76Qnthz/XND+OtcY5+1Ko9BGOa5sRyx4Zti9/mOP509YiU3naUPI+cf401FdUDqy7nSwePdXU/vJEdT0yoBFXF8c37Jk4B7DAriGkgJAXJx7Un2sBwuGz9KTUeiF7WXc65/HOqsSI5Meh2A1TuvFeo3SYeV/NHAdWK4/AVzktyp6gH6cVD9s2rlQvHGTzVK3YXPJ9Tb/tm+xtad+WyWz8x9s1YfxDfhQhnZlxjYScflXMm/cN1B47inRai6uPMwV77Rg1ZDk0dLD4j1KGJlWZlJ4BBINPHiXWQuft0px64qjYRwahDvSUhh95cZIq2dKHHzsfwrZUpNXSMnV1tckg8T6luIluXkU9icY/Kpn8S3yONjLkjGcsf61mrFbmIt5qqA+0lsDn86FtoXjEiThlP8QYf5FJRd9hupbqW5/EepSFGW5ddvOFxj8fX8aR/FeqMGAmRc9CEHH6VQmWOMMBMgx1LHNQLZyXD5imjkOM4DU0m3ZIXtOrZtf8JTdmPmT5unAX/Cq7eItQI2pKQexHJ/WqA0u6Q5MYP/AAIU77DcnpCv/fQq1CX8pLqLuXR4i1FVw0u4+uB/hVdvEOqA4afPttH9KgFldKceWAf94Gg2NxjBjY/UinyyXQSqeY9ddvwh3XDuxIIz0GOaiOuamZM/bJAT24x+VH2OfacwqPQnpSSWjpyyxL/wID+lRKXLoylNMtf8JDdgDdIxP+yeKKyXC7iPOi/7+UVPP5iuU47bfAZjIAoOBmlFuikefKFz0wcn9KQvCE2qpI+uKrsy5BBJNZG5oW3kspCyyIR1HFW45RGm0OWHq6g/lWKtwFH3BzTxdkENkj6VPKwNozREYCJ0xnaKqiyjZv8AXtj6VT+2uABk7e/HNSHUC6+WBgH0p2HcuxWdvCyuZCxHbAIP4Uk0JlkwSkSAcZPX3xVERTPzH0+v9akS0VV3TS49lqShzWkaK5W4V2X+EcZqAGUHCxkfhVlIoCSSGP41OjxRj5Y9vbd1pO5UWiWwDJGSyncx/hFXTJjG7bx0zg1REuW+8oUDncOTS5DOCWB96iybK5i21wBwFLevb+QqtNcRyjy3fYO4VqZPGzQ4RyW6gDis42tyeTtz6ZGaqy6ApNmrFd2tnHiFGfknO/vVeXVbh2YIAoPGAM4H1qqlhcdWK4A9f0qFoJyxwh+mKXKuo7smWRixYtjP+0KsKWflVQnpziqItbh8DYcdMnirUVnOki/Op5B+91pSihpu5uWzQrCpntlLDjaAPzJpZJLVhj7OAcYGDkj39KzJrqSI7fKAPfPNReczKNzED06Vk1odEaljQMcTEjzZPyHFM328UoDvKV7kY/xrPZ2f5ATz70zy5BwWAHoTSUO7NlXfQ3G1Gw2kJA2RnDM39BUcTyzDKMG5x1xn86yPlX7zj8OtXIL6OGJUIww5yB1pOmuhtDFNaNlx5rhAR5bDHHrUDXN0pxhh25FSJqH2qUjYAcdsU6S7ETAM6k+xzUqNnsXLE3V7jHlunYqylwDjIzioZJpk/hKY+v55p76gn90cjjk81Xe/O0r93PHBpqHkYTrJ9QieaaZVTexY9q2xZxRn5FJBHLl/8OKxUv2UgDDYGB61caYgfMdrEDrVOPkYc5Pcaa0hDMvtwwqD7BIFxHkemBx+NWtLt/7QvDA03lxohkkkA3BVA6449u9EgCW0syQXL7FLZYgDIGf8801G+iFJ6XZU+xSIoZSrMTyCcEfUVWulMW0TSKrdQCazrS6lj1KNnfLM2G8zkHPHIrrbO1a8srqeG6kMtugZYbeFIt698Ernj/D1rX2SWrZl8WkUc6geU/u45pvZELflVgwXigE2ksY/6aER4/PFXnlmefZJGf4Tma6c8euAxH4Ypsdq/wC8f/RIh2kSEE/nwTVyp04/EzBtspJBczEDdARnGBKHP5Lmro09c/v503njGwZP/fWKUL58ZRr3zGXPVxhvTsT+FNnCwhGeORkHJ2ncvTpgnH6UR9j3M2xJLexiV/M2qq9QxA/oaFe1EcTeSqhslS4/rkD9Kw9RkZ52eMHy24A27ePoKjNw8Nv9mO0dSSce3cZ9K1i0tkJ6m42o26cKFXPXCqfwBxWVqFxcyyqRMSAMhM/d45rPZ5M/MwznpQrMTgEt7YobbQkiX94jjLZXPJ61GZMZGOv5gU9HkkwqA8VaSMSLkqGxxz61N+jGUVnZeAPzqYSvIOeF96neC3UkFDu9jVOfAI2BgMc5NFkw0LRltivz+YznrjABpwWybIUSg46FhWbk04buOtHLYVi2pgGcRg4PVnpwkQ4ChYz67c1RyQTxUkYZgWVCRnHHahxFZmhF9rXDocEdDmrSXGoNIpNw4Yn7xbBWqK3pgiCIA2FwSR0NRyX1y/BBwenFNabE2uas+n20R82TUNzNzhUJyaRYbQA+VfAZHIK4PI6dKxpDJgblC98YqPewGc1S1Cxf+wyPKVhlilOcABsZ/Ormm2l1b3iSvGQgB5Xnd+VZMYllP3d34V0UETrEghlzgc7eg9q1p3vfsRPaxfN0mOjf98mszUry5jKtCHCbTuIU/rT33o2JJVz9Kp3d1GjFSA/HfitqlabVtjONOKZS/tK63A+a+R05pv8AaE+GVpXw3JyetI8kJOREv50Rm3ZvmRsfXiseZs0cUhx1C4ZNnnSEHgAseatNYMYy5O7AycN0qxHZW7r8kik9cAgfzpk8CCKSJHf8P607dWJeRls+w4z+VFAs93Pmx/iwFFQXZFcIxbnP40142UZIxV8AIgbkAnr6UskUbZVTu4rPXc1Mw0mfWrpsmYnZjmoxYy7uQePWjmQyvnIxTkHIHrVxLJc4Lj3p7JFHkbfxpOSQWBZG2gLkDtz0oBPU9aBKmBhcHvzT1YMSNuPSp5gGljxgnmj5h3INO2DJbNOLAc9PoKd0NCKrYGTz609dwP3uKaMO2Mk4o2gHqCfrUuSHYeJccdRS78jO7j2qIAkntTsewp3QCl/Tn6UvmydM8U2N1YHAO4dQKlCDOSOKm40IHLD5s08Kr8+YxYe1V2uUQFGwOcdOMVAkqLuILZ2Ebj/Kp16DUrGkblEcLIM574JxzUS3anezhFHcAZOPTFZ5lVQzYySehqIup6Ag/Wj2d9yudmo8sW4hJeB2xVTezxbiBnPHNV2ICHGD71bs7lFHlSRI6t2IHH49aOXlV0JTI/MdTjGT9f1p6BmyBjA6kCp5ZLZIS8SIucjAOc+3rVWGdg5G3PFJXaukXzli3WQuu04zxzxirD2EzNw64PYg5qCO6KbWJXcT1z2rQjuBMoYkrUO6dzRSVip/ZxQDdNgnnjvTxYoRgyt9SKsNdKuc84/WqT6g0gKgCMA5yO/tTu2TzE8dnEkn+syw5FXTCJo/IRCXYgKFGST/AJ9Kb4dsZdavljXzFA5mlA4VP8TXS6nc22hSLp2k2gN1MAHbJYnPqep6dBgd+lK0m7IuKVuaWw20so9CsI7UuDfXZEkvcRoOin8SAf8AePpWbBYo8eD8+TnMrlj+lJO8sE5WeQTXDHExByF+UhVHbgFyfwq1CSVBCkfjXXRprW5nVqXskYtvoO3XQ8sqGEu7qFzkYwR/MflXUafMlnclgzlMfPuyTjp78DqfoKoDzPP3gKBz39QP8KUSskwyuQx2kZzuHp+OMfjTq0702go1EqiZj+LrO6sNTEYieO0b/VOVAVs88Huf8K54yKTnzM4GcEd69L07URFLDous7LzT7kA21wwyHU8AH3/kfzrlPF/hmHRb0SWyuLSbOMnPlOOq57jGCM9vpXHRquo2pL59zTE4dQ96L0/IwUvJEbCMefXnNTPczu5UxqO/I4xUMQWHC9Se4p7GViMHKgY2nt+FaNK+xw2DA3lS5Y4zihoomUkozFTzjimmU4BWLBAz0qAySqMDIU+tNJiuyd1hCASYUH25H400TxRoRCuCvOc9apsSzc5J96VAD9zJPcVfJpqBP9oO8HHygfTNTzX0spb5Dubox+8KoMGU7Qc/UU4uQu08GnyLcVi0byRo8cZPHHWhUFzIAScgHjGBVZgAgwct7VNbymPIUZJ60mrLQWw42TK+SRs7kHpVqGUNGY2QhlPG7nAqmZ25ZSf8KPNYckAj0pNSe4XZYkZN6nYFBGSCOvvUazRiQEqq4H3QBiovtBIyTg+gHSoiykY28nnPU0KHcC2t2TIxCgReg70r3sfykpuPpmqysVABHI9e1RM258nnmjkQFpriJwxK/N2+UVHGiSsFUHJ7DnmkitpJ32ov/wBar8Nm1sxPV/atIxsJixWkqEKVIXvgVOHFu2Idyk9cjrUsc8saYKZBOeppz3JdcGFd3YiulOKWhN2ODBgQDg9eQSMVh30ZjuDzkNyDWsSQMsCB0ANRvHA7fOvPqaiUrhFWMZe/HNPjBJyTWp9ltUI5AY9qe1oIsEBB74pWY7jol/doqR8e4pW5jO2M8EDd0B9qVbgIFDE46cHAqeWVdoKt1Ocg5xVWjYl3uZ7acXYsWWPP8LdaKlaUbuJGPvtFFNcpLbKHnnnpjtSptY5KEZ9Krsc4OPrSPMygbcY6fSuOz6HRqXkLBjtfcB7VOrE8sQvHasc3DhtwOPWpYrh3OM8d6XLJahqabRNLFlSCD06VREUjZ4xg96le72BUzziohPl+ev1obbWwJ6C+SQnIGfapFjIG7Hek+0BCMj8M0ol3HgVGo0xjlixA7Um5kQ45NT+ZtAOPyqPeWUcZxz71SVyiFZHOQTjPcCpRGWwQcnNI8ZIBGKUuYxgZB9jSfkMQuBIUYflSzqYnVg3Wq7szShm5+tPZ2lC/P8p6g9qoBPM8uViM4PpUzzbo8kc4+b3qu3LH5ePSkcEqSvfFFkFyFmJfnrS78jJ/Sgr9z1puDg1oArEmk6Uhzk4pW6UAnYOSMZxS7uMdqco4/D+tSeVvTdgDJOaVxESv8wz0H6Um/BO3gUrrsbBx+FShAADwQAflyOTRoNETNu69qvRS7IupyuRg96q29tNc3KxQxvJI7AKiAsST7Cu+0jwDhVudek+zjqtsh/eN9SOn4c/Ssqs4x0ZtSpzqPTb8DjbG21DVbkW9lbPM56qi5x7knoPc11Vp4JECrLrM+W/59rcgt/wJug/DNdbLc2Wj6eyQJHZWa8tjjP19T+ZrjdW8QSXduEsi0ULMPmH3mB/lUpVJatWX4mz9lT0XvP8AA2b/AF2y0m0+wWUKJtUkW8PCj0LnqT168/SsuWS5t8pkNql0N0zkf6lTng+mOP8AIFVrSzt9OiOoX6sZFX93D3zyckevt+dSwtJco0soxPdnzXJbkJn5V+nf8q1hDpEzlO+sh1rbghQqllUk7iDlmPU1opAMZ2N+VMht3GMAY7EkVoLG+wBmQD6Cu1K2hzvuVxbE9EJ/4DUE1s6NuRHDDkEjHI6VsCMLnmMH8KgmXeCGKHjPYUm2OyMyNo4xFYzQhrG8cm3fvbTHgr2wAef8ea2tK1mLWLZtM1S3jaVfkngcdccFl/H8qyUtBMJrCZlVbjDQuG+5KPukVn6jZy3VidesC6ToP9JjHDRyLwSPx6j8fWvFxNGPN7OenZ/l9+3qj2aFaXJ7SKuuq8uv3brydi5rnw/uoVa80OQXMC8i3Y/vB/u/3vp1+tcFPLLvIlUoyn5lxgg+9ereHfFaXki20rrFfbcgdFlx1x7+35Ve1/wxpnimN5GUWuoKoPnqOv8AvD+IfqKVKvKnP2dVa/195liMDCpD22Hen9fcePG8BjG1QCB3GaaLpthLkMOmDVnW9A1DQLvyL6EqDyki8o49Qf6dazMjPrXcoxaujx5Ra0Zb8pHjG4KAOQF6/jULbIo2CcEnIOKZ9owCgPWmvgDLc/0qkn1JV0IJAxw3X1oEqnqM0wIDkDrRsxg++K0sPQkLLjrx7UE7FDZ6+lRg4H+eacwLJkn3xSsFhfOPUU9Y2OScjvyKhjX5gTxV2PC/Mc8DnPeh6CehVLfNt54qZM7C2CcdMU5ihU4G3PoaSMtGARx2xikIZ8+4MUP41Ii7m3CIMT27U3c4bau7n1qUeaqnJAz2ovYRaSGQDKOsagdgf61Z85QBGzF2I+9nkVWcxrbLhjvJ55qtFceRLvUK3PWqcrvQRpFWQZkJwenarFuHwP3asTyN2M1ky3BmQyMNxGMDGKgN05AxhQDnikpO+g7dDdaRplJ24KnBO7gUxYGlJJCgdOf51lwXDZypIOeT/wDWq4NRlRWj37mJ7+tS6jW6uJ6LQmNsBGC7qAfTmnrauFRklUpnP41nNdSNGFLFUJw3pT1uWMZAB2ryOetNTfUE2WcMMlQMg4JzTZDkEF+p4wO9Rw3NsGHnBgD1APSpPtdq+FBPUYFS6tnsFyvJG5bjbxxRUz3EJONpGBjhsZ96KareTJ5omUWwnP3scZpnzFgMZ9RmpvLR0zvAPTGKa8TNwjdO49KZvcjeAqARyG6ZpYwcEqvC1bjBaHy5AeeRn8agWIoG28n1x1ouFx/l5cjHT+VRqD1JB+pxU7IWKkBl4GfbipHgzHuAy4HIHf3qHowKrBnYE8dqcpCkL3FGAse89uajUbyW756UAWhjB3sM0mFxtHXrzRAm8gZGB6mnSGON+SGPcVKdmAgzsyWxzxmkkc5Ubc47Y60nmqWAAAz+NSMoYcDJzkHpinKSAql/MPOR6UzlcKKvpbBUzkhiOPpVN4zkgZJHHPrTTQEbyEbvrSGVjGR0okBBwR9aTb8p61dkUNDY28Uqjd3p6x5A7fWpo4ByADupNpBcrAE5yCBihhk4FWViJLKRyeOeaUwDDEEkjrRzIZFGuDjnBx+NStcEOECcHg9qckX7rPfAGKi8lwwbAA3cD1qdGJoehE5JAwd3Hatrw74bk1iYmd2js1OGkA5bvtX3/l/Obwz4Wn1Rlll3R2iNy4HL+y/49q9CFnBY26RtGu0cQW4HGPU98dz6mhWNIU3u9ia0hstChBsrWGAsuFVFG5u2WPXH48/rWNquuQ2LtJIwnuXP3d2PzPaq+vav9ijP7wPdS9M9u2foK5JYpr26aOGNppJSSxJ6epJ7Cpa9n7yWrNJ1JTtFbBqN1e67OivmRzKoSOPoBz0/xrUFvb6HaJJNKHlHDHshwcAep96lhgtdAt5HecSSMuGkA/RR/k/SsSTzdduCSyxxlsk9Qq89PUn/AD0rTzZHw6dR63K6iS8n8IJCn09K07d/NlMjeWzHuR+lYzoI7ow264iQ4xnrj1resS5G1c56EA//AFqrDq0m2ROXMrF6NQxGEjH4D+lWwsmwDbER2GCcUkEDjGOnfPP9Ku+SVi+fkdsc/wBK6+bUnl01KoSXOfLjA/3aikWc5ASPH0NaSRNjKnn120yZHADA5GOQFqJPUaV0c/PDNjePJRlO5Tk5BHPrUi3g0PUILwSM9jqKq0p7BiMN+IOfwNXzGzEg+Zz/ANMzVRbJLi0u9ImBUMDPbSOpAVxyRyPc/ma4cfT5oqTV119P+BudeBm1JqL97p69vnsZ/iDQBp1zBqVoT9kk5QgnMTEZxn09D+HbnoPCniY6jcJZ3TAXWMq5GBIACefes/w1qkcyz6BqaKWGVRJO4B5X6jqP/rVn6tocvh69hvIJWaDzFMUndH6gH+nrXFK84+yq/F0Z1NypP6xQ+B/FHt3O9vbJLyBrS8iW4tJRuVJOceo9mB7ivJvEWgNomoGB1LQkbope7r9PUd69c0q/g1rR4rlCEEoye/lSDr+H9MVR1jSItYs5LO5HlyK26N+8b+o9j+o+grsoT9rHa0lucmNockk4u8XszxaaJBErxrJljzu7cVCIJnXesTspJGQOOK6G4tf7LupLS8yJY2wUGBn057jnrSi8EMeI0AA/h7fhQ6slokefzNbmPa6fcyq2IyvYbvlyfxq0+i3KsyNLCpB4+bOR61bGsr5g/dcjuT3oe9hncB4XU56q5NQ6lW+1iW3cqLoc7EsGQxjGWByefag6Q8dwoKM8bEgDnI44zxWpLclOUXqeDuz/APqqAXk8e4kP5Y5IJGfwNQqtV6i52ZslhJBFvdHJBzwp4GSOf0pxtp5MRrG546sOD75q3JfG4lDR3EiD+5VeTf5JV5GL5OMYKjHHY1qpz6j5u4R6TOxKs6Lj/a60/wDs51O3KSKuSWXNQxSuYVSPYWBySRyfbNaEEMq2pRT+8yeQc0pTnHdhfUzTbvE27YRgc5pHk3ZAxzxmrdzGzvtQfMpwS3H86he1UQxM64cjnnp/nirU1pcZWUjgF9x6AYqTyIo2JYgkk8HtU8FvBsJlbAyApAPTqc/pRLBE5zEhI9wc9afOr2FciXhAc/ebgDgDHeoB8z5cZ9OKuvAI4drr1HRe3+T/AFqFLfbLgttTBwCc54pqSGyDzAG49etPEpICknOfWmxwubnGRtByxHpRtKNlsBR0Iq9A0F3O7FckjuMdKXeQwUIcHpiphDIzMTgO6/MzHr75pXxAoUEEgdf/AK9LmQ0iq8LkYddpHU4pAgQFh06Y9TVuCcqrvtOOMA8/jTzEsse5kycA5z+f9KfNbcLMogM/I2qKK0kjKZVbfKg8E0VPtPIVjNByoUen1p/mGPvhh04qV7VgzKgwB7dajMD4O8HjpWvLYq6FS4yVye+OtTgxtjjAPGapiFl65A7Zp5ZRGARgg8GpcewrroXNyqW5JGMduaeGIYHnB7+wqi2SMt+HvV6GVehBAPfPrWclYpMjkaNiRjLexqtsEZyR1NW4wnnHYQrY4x3pWZcBHTnHy+3+NKV09hlIMyNlDj6Glb96G3ZGBnNWGt/l29Qzc98U/aIQuDkdieDUtiuUdpjHzZB7Yp6OS2OtTuisSFPzD8TRFGIyuVJOM1W6GSsXwCuAfSm7crjg9ulOLqxDccHoDRGVkXqeDxUu4ELQ795CnGPyp6WwKYIA6de1TK3luc5GB1296ZNOW+UDA3EfWnd2AjFqUbAIPb5qZLJ5GR1PrU6udgLEkE9MVDkNKeM5FC1eoXsQidlY98/3u9SPckJwAB6Co2i2MQvPPf0qWx0q91W7FvZW7yv3IGAg9WPQCtFyrVjV5OyGRz8knnPB9K6fw54bm1OVLu7zHYjoCcNNj09B7/l6jf0TwLZaVH9q1Borq5XBZW/1MYz3B6n6/lWvc66HZorJAxViolK9APQdue/t2rn9qpStBXO1YZQjzVXbyLU0ltp0Kp5YXaoEcA4Htkdh/OsDV9ZTT7f7XcMZLiTO1B1Y46ewHFVLu9S1IvLhy4DMM5yznB9epzXFX1/LfXDzXDgMeFQEEIPTrW0dFruYVqt37uxLG11ql6NwL3E74APGP8AK6W4WPRYZolkwg275MYLt1/rwKfoOkjS4RLdgfapQXk3ceTH1Cn3PGfTp61yus311qusPHGrOu/bFGvO49Onqa1t7quZRbRKRda5dJbxDLswKgnAUYJJJ9B1J9q6C6jtrGytrO1GVHzljgM5x94/X07Crel6VDoWnrNMVa6lXbISeF/2Qfw5Pf6VFDEl1Lu88E+rAc1pCipuzJnPlj5jbK3jGCVQnqSSBW1EHAIwh4+X95/8AWp0VqFQfOmf92rGwx8bgfXiulxUdETG+7HRb8cqnHH3jTmgyckgAfwgj+op6qNo+bGeak2ZcY4H94cYqNEU5N6DEjwBgfhx/hTH+djuRs9MEj/CrWzuOv+faoZQHcgYDD0OD/KouiltYpt5eeYk+pZf8KoahCSiTWyRiSNgwIYdR9BWi7EdXIP8Av4qvtdlZS7nP+1RJJrUUJWZi+LNO80WviGzVomyFuFHBU9A34HjP+7WnpWsReI9GuNOutouCmHyM9xtcD68+xFTaYsW+fSboloLoHaHH8WMYznuP1ArhLgXHhXxWqyAuF+XrjzIz0P8AnuK8yNOKk6Mt46p+X/A2PTlWkl7eO0tJLz/4O50Ph7UJfDGty6TqLbIZ2C7v4VYj5XHsen5elehSRtL8u0vMp2rgj5l9Dn9K47W9PTxJoMU9p+8u4ULRMP8AlouMlPy6ehFL4I8Stq1obK7Ym9tU4Y9ZE6A/UcA/gaWIlKkpV4b9SsMlUthqmz2ZY8UeGk1rThLCMX0A/dluC4/ut/ng/WvKZzIk7JKrJIh2srDBUjqK98AjupC3yifpvxjzOOje+O9cd4n8IR67JJcWSNBqCDDo5UK5HY9wff6fWtKGKp4mPNHfquxzYnAToS5X8vM8waVRUsVyRhSfl+meajuLWawuXtrqF4pkOGRxgimqAR0+tbtJo4XHuXBNk7ssDjnnrShJZ/kUjaTkDrVZD8w44PWpoiQ2AQQeRjsahxtsZtW2HNbyJCS2B0wuMH14qa3DOg3KCmcZx+uPTrUrTuoCtg/hx/nmlBLnHJJ6DsKzu2tSbtocIYQ+9Siv6MOKm3jAJIIY4BUcCqhkdEAHyDqOOSPeooSC7ZPyex5zScL6tlLTUvGaONAViBPGSxyalMkUsnA3/KOo7/4VQEsZc7BkYxyM8CnqJJ51ZsIoPpnFHsrq40TGJTtd4/lJwVBGPanscoAVCqOccnmo1iZy+7BwASM9P/r1OlsNriRV4IHB74+tJJdR30sVirOWAVmycqD9adDAskO2TaWbK7lPTNXHtAiqrbgGAPy8AKajEUcZGN2Dggkg4Jqmly6CdiuY4GZo4znHGz/9VQCOISglQ209MVoHaspAbJILdOPy/GqybRcDphidoPA60tUtwWgr/Odp4A5xjtUE0KlNw5IOSCf0qwiuSCxBAzUMjgEkscH1/lRHQa3GsI0Q7icYx+NOXBOMhQB+dV5XLOoJAAOQPQU5iSrNwoz1PWqsaOSRa81cnMh/4D0NFUfM2cbc/wDAiKKfKZ3ZMzCXOG25OfSq3myLITnI9c0pQgByQARmmHqcnp3HpXQ5X3DQeXLjJOSRmlJXYAyjHrTHIHOM8Yp0ZHlsDQnfUQ5/nAHGBxTWyVA7Z4/z+FJjoF9fypzOu4gdM8UrdQW4glC7d3XPUGpxNEAvzcZPX0qtuDo465UEe2P/AK1M2YOCSB64pSRZdeRNp2NkdxSyTIUDckk4x9P8iqYX5T1Y5PI/CmsxHDdiKiMEwRb83LZGAQecHNOLMULZG7scZqpGWj+Yng9KesyggHhgOwpuNncTYPlNoI+Y+h60qMM7j2wCc1IdsmBgAAd+3uKPJbaWbGPpQ2rDvoSl9/XB9DSrDkhmfoc47UxFGfKIPsT6U5JExjAXPrWUr9CJSE2Ss+CMLg9O3ao08yWVYokJZztVQMnP4da39G8P3epPuXEUP3mkfrj2HU/y967ex0qx0WEtEFjbHz3MuCx9h/gKNY6tG9Ki577HM6R4JkfZNrDGFWPy26cuf94/w/zrrHu9P0W2+zwxINuMQxevbcfX8z9KzLvXXd/LscqD1lP3j6/SsC4mSOdQ0g8wdfap9lKestjq9rCirU9+5ralqdzcRNJO6qq/6uJeACeB+uOaxrnVoLGBYwS8jDd+fIzWVqOqkv5cZJQMNz9cHGKz5I2lVmLAsPmOeo4/WtOVR0RyTqyk7tll7qW7JllKu2eCDkKPQDtWtoVhbrKmo3m1hGcwoVHLddx9h6dz9KyNIihubhImO2HeC5VeSPT2PStzVrwW8slvEMPuwvsAOB+H9T60LSRKTtzCazqMpi+zBslvmkYHnB5wff1qzoOlxWw/tQkG4kYhNw4jTHJ+p9fT68YuiWM2oantmy0a/vJcn7w9M+5/TNdObgJEyBsYkyvOM8D09MV0QXNZsUW76CX5kmvBG8Lsi/dIJBGfarltZMqjbGoY/wC2eP1qK2UbjISxY9SWJzWpEDsBGTn611N8quTFc0hscbKhwNrDvv4zSxxyRjc0xYD1YVMy87gpx+NCKjHBLbcHJ9Km13cpuysPjVYwCWcg9OeKlVflZzuwvPXr+tU/LtQPMXcwB4wMEH2PWpHuNsO399ubj5uq++TxQ0+hMWupNDMHUkBSgOFwx5/PFRXHzygqxAxzgfpnOKmjMMcIVv3jAAksV+bPrjvVK9n2XCYEeG45J3flmpS1ui3KysyCWZC20SlGPBBI5/M1E0wZz/rMDjO4D+tSTyxpuDxBumSVNUnuFEfyKIpD/Ewxn9KpozUh07IWWRJCjoQVJdeD69ad4q0yLxD4ej1GIILu1O47T6feX+o/+vTI7jK4dwzdSV3ED8auaRdLHcvCWJSfAKnJGex/p+VcVek21Jbx/Lqj0MPVWsJbS/PozA8D6x5F7/Z0r/I5Lwn0bGSPx6/Ue9Z/ie0n8OeOUu7EmJLlxMhHTk/Op9RnPHoara5p8ug+Iy0HyhHE8B7dc4/A/pXWeKRb6zo1vfxkboikybjzsbGR/nuKqcFzeTIhJuk7fFF3NbQ9Zh1a1aZMK+QJIifuHH8upBrdBEyoDgyfdSQ9MYJw3t714xpmqTaTfrcwHOOHTs69wa9X0zUYNQso7iFswyDjPBU9wfcV4GJw08JV9rT2/rRnv4TEwx1H2dT4l/V0U/EGgWev2yxXdsYb+JcLIuNy+x9V/wAivNdQ0CbS7j7Pcp5bHlT1DD2PevZQ6y7YZztZeI5sZwPQ+1ZutRC5ibT7myFyG5ABwV9GU/1FelhcX7f4Vr1R5mMwPs/ifo+/qeTW9gruy5APWkls3jl6Aj3PJrb1Xwpe6PIZ1Z5YT9yTpg+jeh/Q1QWV5oNkwCuo4I5+ucdK7m01ZbnizUoOzKD7kcKR+eRinLE+NkY+dvTnAPT+dWzalwhQ/Owxj0/zjNXViaGMN5ahuCQPT/Cs40777GcpWVjOj0i6cjcwQDj5jyM84/z61e/s23t4l8xc5xuwfb+VaFrlnilYk7kwcDPJ7fzqR9PecZdkTDHGO4966UoJWitSYKUnds5uS12sAsZ65VvUVcit98capkFJNvzcLjn61qLav5csBYFuGG444/pVTJimlKMcRBW2nnoef5Vhay1NZN20GSpFaykFSzKPnxz6H1pfJP2hXJQFju544yaWK+t7d94QjLEbCegIPSpLyaBnaOE4bcCrMuTyp79+R+tc/LoF7shvcSN+7MmeASTxyOP1/nUcEZuDtVscbR9epxTLmYwwPtbc+Ayk8kdD+n9KhswTGOSCoBcA/eYtx9O1PfUXK9h84CNJGzjCNt4zzj6e9VUZcOSfnBAXP+HvUZuWlnYOPlLZKjtzz/WpCyeZJs5A53H0Ap2dtSl2HqdymQLkE8n0qCWNmwQenOCaRpSg+VcDqfmpZSuAMEY9f880wu7jEjKpknJx+dRsCcjAPPPsKeuFiPzfLiml/lweM8+9UNuxE6gOdyuxzyVoqwsphXaq57k+9FLmYuZCMRwAvyrg5x1ppRGU7uwAHbmlYBl3eZx6VC3y7Nr+5x61ZSEkcRkYOT2zThKXTLDB9T3pHjBGQdwGO1Q4cchTx14p9AJiw25X1qIjDD68ZpMOecr7ZNIqNkkgk+vWrTHElUgnnGADTGBPRsZ60xgyZ+Xj6cUKW29vx70nuO+pISf4u/pzShAcBclm7Z6U3oxyueKma38tAQ3zYzihaA9iPL7iScjvmnNiQg5280pkCsuOmO/NRswCgKOtQ27kknluThse+etSK3ymOQnn1PNSIXuVjhWMmXOxdoyWHYYrp9L8GsSs2rNs7rbo3J+p7fSpu2OMZTdkY+n6fc6jJstYi+OWYnAUe56f1rqtK8JWVqUkuj9rlUkhMfu8+47/AI8e1bQaGwtNgWOG3QfdUcfQeprMvNWLAxw5jU98/M3+ApqBuoQhvqzQutRtbCNiyRmXqVQ/KD7+v0Fc+2pzahI0lw5MYHyoOB9BVW8X5QZJAc+nQCs6e/jtYgM4z0Ud6uzvqKU2zTe8S3tzIQEZlJH07VytzqDSZCqdvTJOM0ya7kunyxIUDhc8VE64iB8vaD0bmi/QybuFvLskLBOowQRx9asoqMFD5BB+8D/n/JqtbKzybQck881obAG2bcFW69yM/wD1qlrUh7mjYNGiLEdu3fvDMOgx3qndz/ap2dTweFG7t9aqSXSRXREePLIwdpxzg5rT0WBbm8WR0JjU4JABBbt/9epaeyGvM6Gzig0rRRG0ZN43zS5X+MjhfbA6++apW8bqTIQ2M5Ocfj3pxDlWLOxIc7QwGCf4sj65FWYDuiC7M8dMCu+lFWMZN3JYbhnXcd+AeORx9eauxSyOCPMx/wACX/GqyuoG1o2Ix1O2iANIxxIuAecMAR+nFatDiyyZZW5+cAcliVI/U0RxriRmOVADBowo59On86bNPvhQLHvKn7x6L7gkUpuBHCwmtZZt3/LMHJP1wBxSSCT1FS9laN5HJgTkE+adoHrxiotohma/iEs0TLxvfGfqGPTNQpMUtyQj2blvki8thx7kHJ/LtUy3Cw2ym9imm3/xxjcAc9Mn+tXYlMQS3PkC/hebltvlSv8AKR7cc/pUckz6onltAkco6/uw4/8AHs1bhu1kkCxQkxHjy2XDg+/bFFxcWdmxnjlkCoeUUZ5+vTFS9Ct+pmXdrHHCsTF4CeQqiNCff71QxIERUBc7e7InP/j3NakRe+UytITGw6Pg/hzxWVrNq0UKFHCorHJfaBn2ApB5ktxO8URDHJPTIUf1NQCZpyHUrjqDkAj9aYtuEt1lAiZOikSKAfr8v6VWe8EU3zKoXoAoHA/75H8qhoqLN7xXaLqfh6HUETMsA3vj0zh/6H8Kg8G3cWoaZJp0yBxCWQqe6NyP13fpV/w9dJdW9zZSMzB0LAOo6Hgj+X61ylmJfCvix4ZVzDnZuxzsOCp+vT9RXHWTdNpbo9ChJQqxm9noyHxBob6HqTRsWa1k5if1Hp9Rmrfh7Vv7Iu9rSM1tLxImc8/3h712+q2trrmmCGQhtwBVxzg9iK8zubaWyv3im3KY8qwI59sVnRqQxFJxnqViqU8HWVSk7Lp/keuQzrIiNG6vG2Cpz1BqUvFcRok2UKk+W4P3P8R7VxHhvWEsWS2upAIJeV3HlD/hXaSQoylW2jd91+p9s15UcK8LXa+49pYuGMw6fXqiK41KO1kFpexkrIMBiuUcex/pXMav4YQA3ekruUks8HBYe656/Tr9a6dfLmh+y38fmQsPXlT6g+tZ91YXGnyJ5dxI9sx+VxjDex9PpXp0rTWmjPKxNP8Am1XRnFRoAfKSNvnQhDnncP68mpoLlWtkMrHcnAA9u5966i78P2moxLJbfuLoYw55Dex7/j796428sri0u2s5P3DgH7xwTn+YNWpWZ5VWjKnuWLO6kWFogUOMlWxznr/jVkXHlRLKgDFtodiRkD6VnWdu6wNscgFiAXGB/j608gOQsj4YnICNyeTjr0604z08zGzRe8xpLgTW8bMUHDN+v1HNVXmjnMxdCrvkKD1Byev51KYbyOJEVkjK8LJG+Dz7Y5qnJAAN0EiuQgLmRSGB4z+PFTO70NU9CO4T9xEYkUq+AAG6Hpx+dVRdM8kSupLw8YI9DUxsxHbtK0bkAEFV5KsPX2/zzSzKLhTCoMVyVwjAj94p7Z78H61PKO1x10Gk0jDoyyBcZxg5JbII69Av+TWVFeMPkyVUsW4HPbHPpwKuQxNPYug3thflBOBwBn61ilZFfOGPHBx1q1HuUkTNKVbOSfmPPrR5wKnOSRUaI4QOVO3owNIUJUuoOOpHcVbiInLcKAcjjr605Z2QkkKQBgAjPb3qvnaoIPPUCkYFiQoOe1KyAsC4IZugz1IokYeWMcjIYVHDgZD4wP4u4oL7VMbAcHilYRKHdhlAAPQ0VEr4UAMRiiiyFYk7nuo5wOaahBkB2DgYwxPNIcZHysrA+vGakJ3RgMQCe/p9aZS3GfOEOAM5x1xxTJA3ZWA7jrirJVfLOJFyOx65qFkdeq5980XHchwCMMM56fWnbWxhQcfypQpZscEe+eKmIyu0AMgH459TQS3YrMEjOUl59EHFOMhYDJyV5LY6+lDwAN8rfL2ycZp5tmaNFyAW+Y/7o46/nTHzIiQ5fINPLlyOxFILdlbG5Dgg5DcGr1lpV1qExjhiJ7F8YUD3NFtbAUmUEcgkZ6elb2keGrzUgk8g+z2uMiSQdfoO9bNl4ahsjHLK3nTDjJUFQfYEfzrZeRgd9xIqRD1PJ+lV7PTVlRj/ADEmm2FppKCOziO48GVxl2+np+FOudUjtvlyJHH8APT6msm71dipittyxnqe5qlHFuXMhOP7o6k01A1dSysizNdTX829znB4HRVpUhXzGLjLYBJ60xAkMfPyjr1xWRf6sJbV1tpNrf3sEEjPbim0o7md7keqagi3LRp8z56en1/wrFvc/aiWOcCm4Yyhjz7/AI06/GLth7A/rSkmiU7jbY5baQNx4XPQZPWiUyyTmMqFwRuJAOPei0R5N+wZIGCKsW0SyK+/O4jg561nYRHJGILmMKTjvn1p1xclt6g845IqK7uhI6g5Eg4Y/hUQ6ZI68UyWuoKm5VBIBz1rfsj9ktAVJ55UgHBbPP8Aj+FYotHeIMSSDjA746VuLC5YOZQYwx43epxu/Wha7FF/zEY7kBxkDJTJz7+/NTwO5jLBVH/bP/69MgsWJy7ARHjduzg/QGpTpjpMYtsVzg5Lb9mB79zXZDQylqyW1juZpXLRiNRxvCg/jtNXPMlJ2xRzNEo+YOdv47s4FMhmj0+LDTWwOMGPqPw7/lTLllmtFnEZkib7q7jz/n6Vd+4Fora20kctzstZWBIDgyfiW6CqsVxI7Or7kjc4WeJt5J9sU+Lfc24hBjyMjyHX5SPbNSxeTbMkLjyJOcADAU+xP+fenHQJK+wh06RVJmeSeQ/MAAFwPTJB61HZ63dNObX7EojThVJwQfQk1HqFjrSr5qXMssXcb8Y+opIL5SoXUMXAA4ZApK/j3qnt3JV1otCG2sZbuS48tRbyf8tA+WA/HOKsW9qpYRMLmFkOCd4xJ+IPFI1zZXcqhbm6Ij5ClyQR68CnR6fHLOtwss5iz0aH7x9MkUm+4Ja6DNSuIHKWt4Ss7YCogPA7c46VnkTQzrClnNJJ1HmkupHv0BFXNS1NImCtd7J1H7tNuFX9KhiUXcP2m8nmiGMFoZchx6ACpWw3uW42ku49kLx+aozsiT5QaRbG8t1815lGOdoXoPZfWs17iQxeVo0m2P8AjDHbIfc54x9K07C3lWNPtlyjvIPkR2z+OaiTsaQVzCh1G407VBc7HCCTLAqQSOhHJPatfxpAHe01GFQy7lRn9VJ4P0/xq/qUCvbiOSW3YsejjA/D/wDXVeER3WnjS7yZEAYR27Jzz2Bz1wcflXPOVlzHTCDlemVPCmrl1OnTNhkGYj6qOo/D+X0rS8S6I2oaeuoW3NzDw4A5df8AGvPDJd6dqpVv3dxBJgH0I/pXq+garHf6alzHgK/3hnO09CP8+1efiF7GftI7M9HCyWJpOhU3X9fgecJcLHEjFApQ5ALZ4/Gun8O+JhJbiyu5OBkRSH+EZwAaoeL9DFhMb2FC9tM3IzxG/wDga5y1DZuPlwpjznHfjiuhpVopnmw9pharX3+Z67FCBAUaRnIYkFvc9KkguHijaKdVZGHzxtyD/wDXrjPDHiZsJY3jnd0ilJ/JT/Q12LGOdQWO1xwfQ1zVYyv5nr0ZwnG8ditdB7FftEBkmsic7l5aI+h9veknWw1uBUulbcudkmcMue4NPtpZrFdu4OMkZxwwz0NQXdmxX7ZpbHYD+8tsjK/7v+H5eldNOam+WW5z1aXKrrVdjjtZ0m80Hayb5odxPnY45z1HY4rMid5IlkdDnufXtn9a7yw1mCdGinQ7DwyuO3uKztS8KQuBc6WGZM5aIMSQP9nP8q0cOVnmzoX1gcyklw+PILAk/L83B/Omy3EkhiDhE25XkEY4BpiXVxBMuI8CJiDlcE49R+FMkbz3jXYWZhnk9hx/Sh3fU5epaa8kW38yMkcncCwKEdxjr6/Sod0U20pIyiMAoq8NvwOe/p+tMa0LdJTtYghN2Fq3a26wtvjjIkGTk8AfhVwpNsrnshLOK5UFXicKGLKwAycn07delRX1psYPHnk87hjafXFa+WZIwZFByDwMn1qC7P2iJ0yD8oxjvk/5/OtnSSVkTzt6mfFbKzluXUgHawwQfSm3NmWXdGoVhyBmrcKTKNkgQ/7Q7+9TsEwATg/SumnSi42ZlOo1LQ502oMY3RFXHUevuKrbQGyNwI4yDXRTRJnrzWK6brqRAMHrg1y16fIbQqXInjIk2Lx/9eoGUAbeSR3PFWp3MZKKPnH3iP5VU65+X6iuc1TuPRgo5Jz7CioiCTkGikLlQ+NnOAvBHfOOKdls4ORnnB71HHIERlKA8A596sRKJY5A3O0Z55oehqkAdRtO04BAODQJcjawwoP3kOCaZgBgpGQenPSk4BIx3o3ILqwIybVddxGRkckVCzGFSpJAPQjocUjkouSdw4AGKEInnWNlwANxI78UvImxNHE0sJYJkBsbjwOnTP5VI4M1wttCjk/d+UZzgcU+zia8u4ozIVHQYGcDPaurtbSGzBSBACfvOeWb6mqjFyd+iCNNt3MzTfDfCPeNkjkRryT9T/h+dbwRbUBYwkcYGMDoPpSRKzr80jEEnj6DvWbeXz7zGqhSf4u4HtWtklobWUS9eaqYV8tcDjnPUD+n4/lWRJczXDgu2R7jgVEqA7vXk5qzbgNFvxwOAv8AWhK5L1JoIRtBOAzdM/54p7SRwx5kQ7h028/pULzMg46+tUbi9khhS46mQA7c4AHI/P3ol7or2E1Bp54d4D7N2ABxux/np7VjTbssHVUcDkDBz9f85rRukZtSNq7nYpGduQDkZ454qndRIjyRfMTEcAlsjB9j0/Os1eUkGybZVU5JB6Zp08MlxeN5aluOcdhTIlL3CRA43OBmuikt0s4ZEjznALMerE1vURlFlFEjt9P8uMHLAFj6ms+4m+zxlR99hgAdqsTyFbQ98MR+VZEjlwZG5Ymsmy0hzDzFVyeejcdTUsPIxnjP45qFThguOKljIO0468dahlWNRCp+6wByCBg+3+FXYIzLFsEbNwQxI45HrVa2jKgPuyT8vSr1iv7+PONrHBFb0kTJF+ztkNyQ7n92cqrKMEe5qVrm6tr1nKOka87c4B/HvT9WWKGLzChLkBSVbGar2V1LcrGkojKIMAFcnH1NdSM7E76jZXSZlgjhuV5XeCyH8BV1GuhaM0g+1RkZwydB7A1WZUQmZY4w6c7lQA/nUenX5vNURdhR+m7dmjl6lX6Elj9liBlSzRN+Rl22kj2ySfyqOfTWlkJ+0XCAdY2ycfj0xU+owW32k3EsJkcHBG7AY+pqq2pXLX8SBwAcDG3gD6Uo9bBNbXLlhF9iHmOoiTsWYgmrhk0glg8lvuI5HPf2Heqd7M87yQSsWC8hhwaSKwt3tISylS+RmM4xj65zTtpqSnroi1b2djZS/aI2iUfw4Jdj+GOKytSt/wC05jPbtcNKeMMp5+mM4rSuVjs7LybUPCMhSyNgknuTjNcnqclzHMFN3Mwz3c1MU9y52+EvWb3cDPBdNBBEp+b7Ttz+R5NbMbadJEVe5tpowMhVGPyFU9Hs0urJnvf9JTssgyR9G6ipkitmkCpbrGADwCTSerJSsUp1tUl3/YpASeFiO76cZq6mn3CH7ZJ58kp5EI4cD3ANR3ajQoTNbZLTdifu1mxGSSKW7eVmfgn8aLOWw1aO5pyh3TzLyN95bHlqf8c1VuEWO5jlZFhSLDovmck5B5A+g7dhV3RY3lLlpCVXnaRnNT3UaEAbE5Y5O0E1jNr4Gb04uymjG8XaaLzS7fXbbG9cJcbR1B+6x/kfwrO8KaudJ1EQTSD7Nc4y2chG7H+h/wDrV2OlFZ/P06Vd8D4jYMc5DZzXnup6ZFY3tzAGL7JHUMevBP8AhXBTXNGVKfT+kd2I/dVI4iHX8+p6xsg1GyltZ0zE4wQexrze8t3sb6WwYcBWKsf4h610/hnUprjT4vO+dlJhYn+IAcH607xJbLLYfa84ljJXPqMf5/Sootwnys1xVONekqsd1+Rwa/MxwcYOf1rs9A155VjtbktvHCSkcMPQn1rhvOIfIGOa0YJWWO2jyfn/AIhwRliP6V2zpxqRszyqVadGV0ekq6GGReeTnHYe9QrK9tOroc9mGOPxrF0W+kkhUSfOR8u49etakkhWbA9efeuTlW3VHrqd1zLqaV3Y2+qRiSDbFdLz7P7VUtLtrZzDIrxyocHP+elPJMTgocd6mniW/tvNfCyocbgOtb0ql3yTMatK3vwK2q6RZ65EXQ+Tdj+MDg/7w7/XrXn97ZXWkamIrmBgFYle4dfY+ld7azM7ADClTjIq5NFDqtqYLuJXT9QfUHsa1nT5WccqaqK63POvOZVQeYEy3AA24I9z/ntU7SqhaWOYNj5dp6njJ4/HH4U7XLEaXqX2eOQuuNw3DsQeKoSotupiKhwxU5PUc+v4H860vZaHC4O9mX1neJEYKqrxnJLe3+RRGMyyLIzE7hjHAPA/Gq0JYeZHvfAQMPm7girFtmKeYx4BRvl3c9h/9f8AOjndkyGrFqUFR8rHp1XuKVBHLGANwyON1Q2g+02qyykmR2ySDge3FWQpB++SB2NdVFyav0ZE0hGiyuGX8cdayL23jhLMFIYjcDitCWZtxA45xVG+VjDuZydvTNLEx5qba6Ci7OxQEYKIxyQwJJ/HH+NQ3MYC8NhQcEVoWvKMSBjIXAFDQrvw4DKSTjHTHFckYpxNlKzMVoniYrsBHUEUVoSQqrYHAoo9kX7Zn//Z" alt="picture1"></p><p><img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1997310961,4239206027&amp;fm=26&amp;gp=0.jpg" alt="picture3"></p><p><img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=871682991,1142928941&amp;fm=26&amp;gp=0.jpg" alt="picture4"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 主题 </tag>
            
            <tag> 清晨 </tag>
            
            <tag> 图片 </tag>
            
            <tag> 美景 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Valine</title>
      <link href="/2018/10/09/Valine/"/>
      <url>/2018/10/09/Valine/</url>
      
        <content type="html"><![CDATA[<h2 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#6、Valine https://valine.js.org</span><br><span class="line">valine: </span><br><span class="line"> appid:  #Leancloud应用的appId</span><br><span class="line"> appkey:  #Leancloud应用的appKey</span><br><span class="line"> verify: false #验证码</span><br><span class="line"> notify: false #评论回复提醒</span><br><span class="line"> avatar: mm #评论列表头像样式：&apos;&apos;/mm/identicon/monsterid/wavatar/retro/hide</span><br><span class="line"> placeholder: Just go go #评论框占位符</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="layout-partial-article-ejs"><a href="#layout-partial-article-ejs" class="headerlink" title="layout/_partial/article.ejs"></a>layout/_partial/article.ejs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  &lt;% if (theme.valine &amp;&amp; theme.valine.appid &amp;&amp; theme.valine.appkey)&#123; %&gt;</span><br><span class="line">    &lt;section id=&quot;comments&quot; style=&quot;margin:10px;padding:10px;background:#fff;&quot;&gt;</span><br><span class="line">      &lt;%- partial(&apos;post/valine&apos;, &#123;</span><br><span class="line">        key: post.slug,</span><br><span class="line">        title: post.title,</span><br><span class="line">        url: config.url+url_for(post.path)</span><br><span class="line">        &#125;) %&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="layout-partial-post-valine-ejs"><a href="#layout-partial-post-valine-ejs" class="headerlink" title="layout/_partial/post/valine.ejs"></a>layout/_partial/post/valine.ejs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;vcomment&quot; class=&quot;comment&quot;&gt;&lt;/div&gt; </span><br><span class="line">&lt;script src=&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;//unpkg.com/valine/dist/Valine.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">   var notify = &apos;&lt;%= theme.valine.notify %&gt;&apos; == true ? true : false;</span><br><span class="line">   var verify = &apos;&lt;%= theme.valine.verify %&gt;&apos; == true ? true : false;</span><br><span class="line">    window.onload = function() &#123;</span><br><span class="line">        new Valine(&#123;</span><br><span class="line">            el: &apos;.comment&apos;,</span><br><span class="line">            notify: notify,</span><br><span class="line">            verify: verify,</span><br><span class="line">            app_id: &quot;&lt;%= theme.valine.appid %&gt;&quot;,</span><br><span class="line">            app_key: &quot;&lt;%= theme.valine.appkey %&gt;&quot;,</span><br><span class="line">            placeholder: &quot;&lt;%= theme.valine.placeholder %&gt;&quot;,</span><br><span class="line">            avatar:&quot;&lt;%= theme.valine.avatar %&gt;&quot;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>hexo</title>
      <link href="/2018/10/08/caozhengbo-BK/"/>
      <url>/2018/10/08/caozhengbo-BK/</url>
      
        <content type="html"><![CDATA[<h3 id="第一次发博客，微微有些，激动，我也是才搭建号博客，那就讲一下hexo搭建博客，相信小白跟小白更能互相了解，哈哈"><a href="#第一次发博客，微微有些，激动，我也是才搭建号博客，那就讲一下hexo搭建博客，相信小白跟小白更能互相了解，哈哈" class="headerlink" title="第一次发博客，微微有些，激动，我也是才搭建号博客，那就讲一下hexo搭建博客，相信小白跟小白更能互相了解，哈哈"></a>第一次发博客，微微有些，激动，我也是才搭建号博客，那就讲一下hexo搭建博客，相信小白跟小白更能互相了解，哈哈</h3><p>我相信有好多人都会卡在安装hexo这里把</p><h4 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h4><ul><li><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">node.js官方下载地址</a></p><a id="more"></a></li></ul><h4 id="设置npm淘宝镜像"><a href="#设置npm淘宝镜像" class="headerlink" title="设置npm淘宝镜像"></a>设置npm淘宝镜像</h4><p>npm config set registry “<a href="https://registry.npm.taobao.org&quot;" target="_blank" rel="noopener">https://registry.npm.taobao.org&quot;</a></p><h4 id="创建博客库"><a href="#创建博客库" class="headerlink" title="创建博客库"></a>创建博客库</h4><ul><li>注意，仓库名应该为：用户名.github.io。比如，我的仓库名是：<strong>xuezhisd.github.io</strong>。</li></ul><h4 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h4><ul><li><a href="https://git-scm.com/downloads/" target="_blank" rel="noopener">git下载地址</a></li></ul><h4 id="配置ssh"><a href="#配置ssh" class="headerlink" title="配置ssh"></a>配置ssh</h4><ul><li><p>打开git bash终端。</p></li><li><p>设置user.name和user.email。</p><p>git config –global user.name “你的GitHub用户名”<br>git config –global user.email “你的GitHub注册邮箱”</p></li><li><p>生成ssh密匙</p><p>ssh-keygen -t rsa -C “你的GitHub注册邮箱”</p></li><li><p><strong>此时，在用户文件夹下就会有一个新的文件夹.ssh，里面有刚刚创建的ssh密钥文件id_rsa和id_rsa.pub。</strong></p></li></ul><h3 id="开始安装hexo咯。。。"><a href="#开始安装hexo咯。。。" class="headerlink" title="开始安装hexo咯。。。"></a>开始安装hexo咯。。。</h3><p>执行以下命令安装hexo</p><p>安装hexo</p><p>npm install hexo-cli g</p><p>初始化博客文件夹</p><p>hexo init blog</p><p>切换到该路径</p><p>cd blog</p><p>安装hexo的扩展插件</p><p>npm install</p><p>安装其它插件</p><p>npm install hexo-server –save<br>npm install hexo-admin –save<br>npm install hexo-generator-archive –save<br>npm install hexo-generator-feed –save<br>npm install hexo-generator-search –save<br>npm install hexo-generator-tag –save<br>npm install hexo-deployer-git –save<br>npm install hexo-generator-sitemap –save</p><p>（具体安装这些是干嘛用的小编也不清楚，反正安装就对了）</p><p>安装好了可以先测试一下，hexo是否安装成功了（我就在这卡了许久。。。下面我会把我的错误也给大家分享）</p><p>测试一下：hexo -v</p><p><img src="C:\Users\Refueling\Desktop\20181008095014.png" alt="">这便是安装成功了</p><p>如果你的hexo报错了。提示：‘hexo’不是内部或外部命令，也不是可运行的程序或批处理文件。</p><p>（八成是也是和我同样的错了，应该小白大概都会遇到的错把！！！）</p><p>1首先配置一下hexo的环境变量</p><p><img src="C:\Users\Refueling\Desktop\20181008095709.png" alt=""></p><p>这是我的路径，你也去找一下你的配置一下</p><p>因为默认的找不到你的hexo.cmd文件</p><p>下面就OK 啦。你的是否出现了所期望的呢</p><h2 id="初探hexo"><a href="#初探hexo" class="headerlink" title="初探hexo"></a>初探hexo</h2><ul><li><p>第一次使用hexo，在本地创建服务器使用。</p><p>生成静态页面</p><p>hexo generate</p><p>开启本地服务器</p><p>hexo s</p></li><li><p>打开浏览器，地址栏中输入：<strong><a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></strong>,应该可以看见刚刚创建的博客了。</p></li></ul><p>本人邮箱：<a href="mailto:RefuelingBo@outlook.com" target="_blank" rel="noopener">RefuelingBo@outlook.com</a></p><p>有问题我们可以私聊，共同进步</p>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>美丽新世界</title>
      <link href="/2017/02/10/brave-new-world/"/>
      <url>/2017/02/10/brave-new-world/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=28949128&auto=0&height=66" style="margin-left: -10px;"></iframe><p>痛仰有一首歌，叫《美丽新世界》，它其实是向80年前赫胥黎的同名小说致敬。<br>歌里唱道：<br><strong>“这是一个离奇的梦也是冒险者的乐园<br>不在乎你在不在乎新的世界依旧美丽…”</strong></p><p>乌托邦如此美好，但在那里，幸福的人们全都是“被幸福的”。<br>你的在乎与否无关紧要，只需要按照秩序继续漫步。</p><p>春节把<a href="https://movie.douban.com/subject/2338055/" target="_blank" rel="noopener">《西部世界》</a>看完，它的一些设定，也很容易看出致敬小说的意思，却又带来了另外的惊喜。<br>片尾Dolores的惊艳一枪尘埃落定，现在已经过去一段时间，花哨的剪辑褪出了印象，细微的东西反而更加深刻了。<br>还是想谈一谈这部作品。(含剧透…)</p><a id="more"></a><h3 id="神识"><a href="#神识" class="headerlink" title="神识"></a>神识</h3><p><img src="/assets/blogImg/xbsj-1.jpg" alt=""> </p><p>有一个说法，人的快感源于两样东西，创造与毁灭。<br>当这两样东西随手可为，不费力气，自然就超越了人的范畴。<br>Ford坐在园区的餐厅，对面是前来施压的Theresa<br>下一刻，机器人服务生静止于一瞬，红酒漫过杯沿溢出台面…<br>杀意，往往不热烈<br>而是涌动于平静的掌控之中。</p><p>“生存还是毁灭”，这是哈姆雷特的问题，也是每个人的问题。<br>但不是他的问题。<br>在西部世界里，这可以简单得，只是他的一个抉择。<br>Ford笑了，他觉得做神真好。</p><p>以至于，何以为悟？<br>Maeve的觉醒，Bernard的要挟<br>他们曾一度以为自己扼住了命运的咽喉<br>到头来只是神的一行代码。<br>人最绝望的事情，<br>就是你认识了事情的真相，又无力去改变。</p><p>但其实Ford笑得很落寞，做神根本一点都不好<br>但在众人面前，他只能这样去表演以争取时间。<br>因为有些事情，不像表面那样简单，那是神也无法改变的。<br>这个道理，或许以前Arnold会懂<br>但现在，只能靠自己去坚守了。</p><h3 id="真我"><a href="#真我" class="headerlink" title="真我"></a>真我</h3><p><img src="/assets/blogImg/xbsj-2.jpg" alt=""> </p><p>而与此同时，年轻的William也开始理解着西部世界的逻辑<br>作为一个真正的人类，他自然知道事情的真相。<br>万物皆空，镜花水月，一开始他也这么笃信地认为。<br>但这个虚拟世界最大的不同，<br>就是没有现代社会的各种束缚，真实的人性会得到了释放。</p><p>他拘身捡起了掉落的罐头，交给眼前的小镇姑娘<br>Dolores的甜美倩影，支撑起他最丰富的想象。<br>William不曾想到，后来竟然会与她相爱<br>这一秒如梦如诗，斜横在他的心头，他忘了现实的婚约<br>William以为，这就是永恒。</p><p>当历经死亡和修复，清空了一切记忆的Dolores<br>又根据剧本重新出现在甜水镇时，她的甜美笑容一如当初。<br>William崩溃了。<br>王尔德说：人生有两个悲剧，第一是想得到的得不到，第二是想得到的得到了。<br>他以为他得到了Dolores，最后发现永远也得不到。</p><p>那一秒不是永恒，只是梦幻泡影。<br>痛苦欲绝的William终于撕掉现实的伪善，用怨恨和残忍，填充真正的内心。<br>一次次的屠杀，他用痛苦去激发机器人的意识。<br>他想要证明，他们可以成为真正的人类；<br>他内心最柔软最纯净的角落里，坚信那段爱情，真的来过。</p><h3 id="同归"><a href="#同归" class="headerlink" title="同归"></a>同归</h3><p><img src="/assets/blogImg/xbsj-3.jpg" alt=""></p><p>创始人Arnold看惯了这一切<br>经过丧子之痛的他，明白苦痛的滋味。<br>但这种苦痛，每天都会发生在机器人的身上<br>毕竟它们只是客人们的玩物。<br>Ford说，这是个提供至上快乐的天堂，可以带来巨大的财富<br>Arnold觉得，这是地狱。</p><p>何以改变？唯有弑神！<br>只有创世的神死了，机器人才能摆脱循环往复的人生。<br>但悲剧是，Arnold和Ford本身，正是这个世界的主宰。<br>枪声在园区回荡，Arnold的单薄形骸端坐在椅子上，<br>死得栩栩如生。</p><p>自此，一曾走上殊途的Ford，开始明白老朋友的遗志。<br>这是一条救赎之路，也是一条忍辱负重之路。<br>Ford说：<br>“<strong>那些用十年去补救错误的人，是最了不起的人。</strong><br><strong>而我用了35年。</strong>”<br>这个补救就是，他想让认知世界真相的机器人，真正能掌控自己的人生。</p><p>一直被控制的Maeve，一曾觉得Ford是邪神，因而她急于离开园区<br>最后的折返，是她突然醒悟，终于读懂了Ford的用心良苦<br>原来神，早就站在了他创造的子民这一边。<br>同样明白一切的Dolores，也最终举起了枪<br>一如Arnold之死，Ford用这种方式，致敬了他的老伙计。</p><p>诸神黄昏，宽之恕之，谢幕之日，觉醒之时。<br>真正伟大的死亡，是沉入寂静深海的同时，惊起巨浪般的希望。<br>Ford倒下的时刻，可能这个故事才刚刚开始，<br>但这次，我们不再一起漫步，而是可以跑向<br>美丽新世界的彼岸。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hexo主题Yilia</title>
      <link href="/2014/08/31/cao-hexo-2/"/>
      <url>/2014/08/31/cao-hexo-2/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">hexo-theme-yilia</a> 是为 <a href="https://github.com/tommy351/hexo" target="_blank" rel="noopener">hexo</a> 2.4+制作的主题。<br>响应式设计，风格简约。</p><p>终于从octopress迁移到hexo。Yilia是自己设计的主题，分享之，有爱请自取。关于主题：</p><ol><li>我喜欢简约。所以标签云，搜索框都拿掉了</li><li>接地气一点。所以用上了jiathis分享，友言评论，以及baidu的cdn</li><li>让大家把注意力放到内容上。这是本主题设计初衷</li><li>主题不支持IE6，7，8。以后也不会</li></ol><a id="more"></a><p>##一、使用</p><p>####<strong>1. 安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia</span><br></pre></td></tr></table></figure><p>####<strong>2. 配置</strong></p><p>修改hexo根目录下的 <code>_config.yml</code> ： <code>theme: yilia</code></p><p>####<strong>3. 更新</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/yilia</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><p>##二、外观</p><p>####<strong>宽屏</strong><br><img src="http://littendomo.sinaapp.com/yilia/yilia-pc1.png" alt="宽屏">        </p><p>####<strong>宽屏文字</strong><br><img src="http://littendomo.sinaapp.com/yilia/yilia-pc2.png" alt="宽屏文字">   </p><p>####<strong>窄屏</strong><br><img src="http://littendomo.sinaapp.com/yilia/yilia-pc3.png" alt="窄屏">     </p><p>####<strong>同步instagram</strong><br><img src="http://littendomo.sinaapp.com/yilia/yilia-pc4.png" alt="同步instagram"></p><p>####<strong>移动端</strong><br><img src="http://littendomo.sinaapp.com/yilia/yilia-mobile.png" alt="移动端"><br><img src="http://littendomo.sinaapp.com/yilia/yilia-mobile2.png" alt="移动端">   </p><p>##三、配置</p><p>主题配置文件在主目录下的<code>_config.yml</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># Header</span><br><span class="line">menu:</span><br><span class="line">  主页: /</span><br><span class="line">  所有文章: /archives</span><br><span class="line">  # 旧事: /tags/旧事</span><br><span class="line"></span><br><span class="line"># SubNav</span><br><span class="line">subnav:</span><br><span class="line">  github: &quot;https://github.com/litten&quot;</span><br><span class="line">  weibo: &quot;http://weibo.com/litten225&quot;</span><br><span class="line">  rss: &quot;http://feed.feedsky.com/litten&quot;</span><br><span class="line">  # facebook: &quot;/&quot;</span><br><span class="line">  # google: &quot;/&quot;</span><br><span class="line">  # twitter: &quot;/&quot;</span><br><span class="line">  # linkedin: &quot;/&quot;</span><br><span class="line"></span><br><span class="line">rss: /atom.xml</span><br><span class="line"></span><br><span class="line"># Content</span><br><span class="line">excerpt_link: more</span><br><span class="line">fancybox: true</span><br><span class="line"></span><br><span class="line"># Miscellaneous</span><br><span class="line"></span><br><span class="line">favicon: /favicon.png</span><br><span class="line"></span><br><span class="line">avatar: &quot;https://avatars2.githubusercontent.com/u/2024949?v=2&amp;s=150&quot;</span><br><span class="line">share: true</span><br><span class="line">duoshuo: true</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 主题 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>pjax: 当ajax遇上pushState</title>
      <link href="/2014/02/12/about-pjax/"/>
      <url>/2014/02/12/about-pjax/</url>
      
        <content type="html"><![CDATA[<blockquote><p>var pjax = pushState + ajax;<br>小时候，小浣熊方便面里面有各种水浒人物的卡片。我买了一包，吃了方便面，饱了。而我又买了第二包，不是想吃方便面，而是仅仅想得到里面的卡片…          </p></blockquote><a id="more"></a><p>##<strong>一、简介</strong><br>pushState是html5中提供的方法，用以</p><ul><li>无刷新的更新浏览器地址栏；            </li><li>如其名称，将新地址push到历史堆栈中            </li></ul><p>用法：<code>pushState(data, title ,url)</code>            </p><p>data为保存的对象，可以在window.onpopstate时获取到；title为页面标题；url为需地址栏和历史发生改变的url。<br>正是这点看似很平常的功能，跟ajax结合到一起产生了火花。因为，ajax最擅长的事情就是局部刷新页面。</p><p>##<strong>二、ajax的纠结历史</strong><br>一切可以从ajax最擅长的事情说起。<br>ajax作为一个异步请求模型，从最初设计开始，也许压根就没打算将它跟浏览器历史挂钩。原因是历史堆栈所记录的，某种意思上可以说是顺序，跟我们理解的“同步”更为密切。</p><p>因而，<code>ajax可以无刷新改变页面内容，却无法改变页面的url</code>。</p><ul><li>####历史问题1 - 如何操控历史</li></ul><p>当单页面越来越流行，操作记录却很容易被忽略。假设有这样的单页面，按照分类点击，界面逐层递进：<code>体育 - 篮球 -nba -马刺队 - 邓肯</code><br>当我们点了4下到“邓肯”界面时，一个不小心的刷新，出现在你面前的也许是“体育”。原因是操作记录没有被记录。<br>而通常的解决方案是修改hash，每递进一层，去更新url的hash值，这样的方法：</p><ol><li>刷新时预先判断url的hash，从而知道这是哪一层，加载相应数据；          </li><li>支持了历史</li></ol><p>这样的方式貌似比较完善，其实不然。</p><ul><li>####历史问题2 - 对搜索引擎不友好</li></ul><p>最大的问题是，hash后生成的内容是不会被搜索引擎引用到。数据不能被爬取，无疑是浪费和损失。因此google放言，咱可以约定个协议：<code>#!xxx</code>这样hash的url，google也去爬取。称之为<code>hash bang</code>（哈希大爆炸？）。这一协议，在g+，twitter，人人，新浪微博上都可以看到。</p><p>事实上，ajax最或缺的两个问题，恰好被pushState的功能补充完善。</p><p>##<strong>三、pjax带来的价值</strong><br>除去补齐了ajax的问题，我们发现pjax会给web带来更多的好处。<br>回到开始说的“两包方便面”，我的意思是，有时你访问两个url，部分数据是相同的。比如百度贴吧，第一页和第二页的区别只是帖子内容（卡片）的不同，网站外框部分（方便面）都是一样的，这些东西就不需要在页面刷新时重复加载。</p><p>ajax处理这样的局部刷新，已经给我们带来了web2.0的体验，而加上pushstate的ajax则更进一步：</p><ol><li>一个url对应一套数据，有利于SEO；</li><li>更改数据和url时，只是局部刷新，带来较好的用户体验；</li><li>兼容性好，对不支持pushstate的浏览器，url也能正常请求页面（虽然有重复加载）；</li><li>刷新页面时，由于是url唯一，能正常加载到用户希望看到的数据，比处理hash的方式更方便；</li><li>后退与前进的浏览器操作，依然可以局部刷新（通过onpushstate事件捕获）</li></ol><p>##<strong>四、注意事项</strong></p><p>然而pjax不等于单纯的分离使用pushstate与ajax，还必须得做一些封装。缘于以下我能想到的注意事项：</p><ul><li>服务器端增加额外处理逻辑<br>服务器端，需要根据请求的参数，作出全页渲染或局部渲染响应<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Accept:text/html, */*; q=0.01</span><br><span class="line">Accept-Encoding:gzip,deflate,sdch</span><br><span class="line">Connection:keep-alive</span><br><span class="line">Host:qianduannotes.duapp.com</span><br><span class="line">User-Agent:AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36</span><br><span class="line">X-Requested-With:XMLHttpRequest</span><br><span class="line">X-PJAX:true</span><br></pre></td></tr></table></figure></li></ul><p>比如请求头部可以设定一个X-PAJX:true，用以通知服务器。</p><ul><li><p>浏览器兼容<br>假如浏览器不支持pushstate，提供fallback操作，直接打开需更改url的地址：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.support.pjax = window.history &amp;&amp; window.history.pushState</span><br><span class="line">// Fallback</span><br><span class="line">if ( !$.support.pjax ) &#123;</span><br><span class="line">  $.pjax = function( options ) &#123;</span><br><span class="line">    window.location = $.isFunction(options.url) ? options.url() : options.url</span><br><span class="line">  &#125;</span><br><span class="line">  $.fn.pjax = function() &#123; return this &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>本地存储机制<br>无疑pjax与localstorage共同使用可以进一步提升体验，但这一步容易忽略的是数据上报。</p></li></ul><p>##<strong>五、参考资料</strong><br><a href="https://github.com/defunkt/jquery-pjax" target="_blank" rel="noopener">jquery-pjax</a><br><a href="https://github.com/welefen/pjax" target="_blank" rel="noopener">welefen封装的pjax</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> html5 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>谈谈OAuth1,OAuth2异同</title>
      <link href="/2013/08/11/brief-oauth/"/>
      <url>/2013/08/11/brief-oauth/</url>
      
        <content type="html"><![CDATA[<p>##<strong>一、写在前面</strong><br>在收集资料时，我查询和学习了许多介绍OAuth的文章，这些文章有好有坏，但大多是从个例出发。因此我想从官方文档出发，结合在stackoverflow上的一些讨论，一并整理一下。整理的内容分为OAuth1.0a和OAuth2两部分。</p><blockquote><p>OAuth 1.0a：One Leg -&gt;Two Leg -&gt; Three Legged<br>OAuth 2:Two Leg -&gt;Three Legged (附：Refresh Token的方式)</p></blockquote><p>这两种模式都是按箭头从左往右安全性递增，其实现也会相对复杂。关于官方的这种leg（腿？）的说法，在中文翻译中比较少有文章提及。下面分别来介绍OAuth的这5种授权流程。</p><a id="more"></a><p>##<strong>二、OAuth1.0a</strong><br><strong>2.1 OAuth 1.0a (One Leg)</strong></p><ol><li>应用给服务器发送一个签名请求，附带以下参数：           <ul><li>oauth_token Empty String             </li><li>oauth_consumer_key                  </li><li>oauth_timestamp                   </li><li>oauth_nonce                    </li><li>oauth_signature                  </li><li>oauth_signature_method              </li><li>oauth_version Optional                  </li></ul></li><li>服务验证并授予对资源的访问                 </li><li>应用程序利用请求的资源                </li></ol><p><strong>2.2 OAuth 1.0a (Two Legs)</strong></p><ol><li>应用发送一个签名请求，以获取 Request Token：                 <ul><li>oauth_consumer_key                          </li><li>oauth_timestamp                     </li><li>oauth_nonce                        </li><li>oauth_signature                  </li><li>oauth_signature_method                       </li><li>oauth_version Optional                      </li></ul></li><li>服务器返回Request Token：                   <ul><li>oauth_token                    </li><li>oauth_token_secret                  </li><li>Additional Parameters / Arguments                   </li></ul></li><li>发送签名请求，用Request Token换取Access Token                      <ul><li>oauth_token Request Token                    </li><li>oauth_consumer_key                   </li><li>oauth_nonce                 </li><li>oauth_signature                      </li><li>oauth_signature_method                    </li><li>oauth_version                           </li></ul></li><li>服务器返回Access Token和Token Secret    </li><li>应用通过Access Token和Token Secret利用请求的资源</li></ol><p><strong>2.3 OAuth 1.0a (Three Legged)</strong></p><ol><li>应用发送一个签名请求，以获取 Request Token：                <ul><li>oauth_consumer_key                       </li><li>oauth_timestamp                       </li><li>oauth_nonce                       </li><li>oauth_signature                       </li><li>oauth_signature_method                       </li><li>oauth_version Optional                       </li></ul></li><li>服务器返回Request Token：                       <ul><li>oauth_token                       </li><li>oauth_token_secret                       </li><li>oauth_callback_confirmed                       </li><li>… Additional Parameters / Arguments                       </li></ul></li><li>发送给用户授权的URL                       <ul><li>oauth_token                       </li></ul></li><li>提示用户进行授权                       </li><li>用户进行授权                       </li><li>授权结束后返回应用，附带上：                       <ul><li>oauth_token                       </li><li>oauth_verifier                       </li></ul></li><li>发送签名请求，用Request Token换取Access Token                       <ul><li>oauth_token Request Token                       </li><li>oauth_consumer_key                       </li><li>oauth_nonce                       </li><li>oauth_signature                       </li><li>oauth_signature_method                       </li><li>oauth_version                       </li><li>oauth_verifier                       </li></ul></li><li>服务器返回Access Token和Token Secret                       </li><li>应用通过Access Token和Token Secret利用请求的资源                       </li></ol><p>##<strong>三、OAuth2</strong>         </p><p><strong> 3.1 OAuth 2 (Two Legged)</strong></p><p>3.1.1 客户端凭据方式              </p><ol><li>应用发送请求到服务器：                   <ul><li>grant_type = client_credentials<br>如果没有使用Authorization（Authorization: Basic Base64(client_id:client_secret)） 的header，必须附带参数为：                   </li><li>client_id                   </li><li>client_secret                   </li></ul></li><li>服务器以Access Token回应                   <ul><li>access_token                   </li><li>expires_in                   </li><li>token_type                   </li></ul></li></ol><p>3.1.2 隐式授予方式               </p><ol><li>应用发送请求到服务器：                                                <ul><li>response_type = token                      </li><li>redirect_uri This is a server-side Redirection URI hosted by the provider or yourself.                      </li><li>scope                      </li><li>state Optional                      </li><li>client_id                      </li></ul></li><li>用户可根据需要授权。                      <ul><li>username                      </li><li>password                      </li></ul></li><li>服务器将响应包含access_token在内的redirect_uri                      </li><li>应用程序跳转至redirect_uri                      </li><li>redirect_uri将响应一段脚本或HTML片段。响应的脚本或HTML片段包含参数access_token，还有您可能需要的任何其他参数。                  </li></ol><p>3.1.3 资源所有者密码方式                  </p><ol><li>应用向资源所有者请求凭证                   <ul><li>username                   </li><li>password                   </li></ul></li><li>应用使用凭证，向服务器发送请求                   <ul><li>grant_type = password                   </li><li>username                   </li><li>password<br>url看起来会像这样：grant_type=password&amp;username=my_username&amp;password=my_password<br>如果你没有使用Authorization的header，必须附带上参数：                   </li><li>client_id                   </li><li>client_secret<br>url看起来会像是：<br>grant_type=password&amp;username=my_username&amp;password=my_password&amp;client_id=random_string&amp;client_secret=random_secret                   </li></ul></li><li>服务器返回Access Toke                   <ul><li>access_token                   </li><li>expires_in                   </li><li>token_type                   </li></ul></li></ol><p><strong> 3.2 OAuth 2 (Three Legged) </strong></p><ol><li>应用重定向用户到授权服务：                    <ul><li>client_id                    </li><li>redirect_uri                    </li><li>response_type                    </li><li>state Optional; Unique identifier to protect against CSRF                    </li><li>scope Optional; what data your application can access.<br>url看起来会像是：<br>oauth_service/login/oauth/authorize?client_id=3MVG9lKcPoNINVB&amp;redirect_uri=<a href="http://localhost/oauth/code_callback&amp;scope=user" target="_blank" rel="noopener">http://localhost/oauth/code_callback&amp;scope=user</a>                    </li></ul></li><li>用户登录服务器并确认授权给应用                    </li><li>服务器重定向用户到redirect_url ，附带参数：                    <ul><li>code                    </li><li>state                    </li></ul></li><li>应用拿到code，并换取Access Token                    <ul><li>client_id                    </li><li>client_secret                    </li><li>code                    </li><li>redirect_uri Optional;                    </li><li>grant_type = “authorization_code”                    </li></ul></li><li>如果的client_id和client_secret是有效的，服务器将调用一个回调redirect_url，包含ACCESS_TOKEN                    <ul><li>access_token                    </li><li>expires_in                    </li><li>refresh_token                    </li></ul></li><li>应用保存ACCESS_TOKEN，在随后的请求中使用。通常这个值被存储在session或或cookie，需要时作为授权请求的参数。   </li></ol><p><strong> 3.3 OAuth 2 (Refresh Token 刷新token) </strong></p><p>在OAuth2中，Token会有过期时间，我们必须去refresh_token，使用其他一些先前获得的参数，生成一个新的token。这是一个容易得多的流程。    </p><ol><li>创建刷新令牌请求                  <ul><li>grant_type = “refresh_token”                      </li><li>scope Optional; Cannot have any new scopes not previously defined.                     </li><li>refresh_token                     </li><li>client_id                     </li><li>client_secret                     </li></ul></li><li>服务验证和响应以下参数：                     <ul><li>access_token                     </li><li>issued_at                     </li></ul></li></ol><p>##<strong>四、stackoverflow上的一些问答</strong>         </p><p><strong>Q</strong>：OpenID和OAuth的区别是什么？<br><strong>A</strong>：OpenID是有关身份验证（即证明你是谁），OAuth有关授权（即授予访问权限），推荐博文：<a href="http://cakebaker.42dh.com/2008/04/01/openid-versus-oauth-from-the-users-perspective/" target="_blank" rel="noopener">从用户的角度来看OpenID和OAuth</a>                    </p><p><strong>Q</strong>：OAuth2与OAuth1不同的地方是？有人可以简单的解释的OAuth2和OAuth1之间的区别吗？ OAuth1现在已经过时，应实施的OAuth2？我没有看到许多实现的OAuth2，大多数仍在使用OAuth，这让我怀疑的OAuth2的准备使用。是吗？<br><strong>A</strong>：OAuth2能更好地支持不是基于浏览器的应用。对于不是基于浏览器的应用程序，这是对OAuth的主要挑战。例如，在OAuth1.0，桌面应用或手机应用必须引导用户打开浏览器所需的服务，与服务进行身份验证，并复制令牌从服务返回给应用程序。这里的主要批评是针对用户体验。使用OAuth2.0，可以用新的方式为用户的应用程序获得授权。<br>OAuth2.0不再需要客户端应用程序拥有密钥。这让人回想起老的Twitter认证的API，它并不需要应用得到HMAC哈希令牌和请求字符串。使用OAuth2.0，应用程序可以通过HTTPS获得令牌。<br>OAuth2.0的签名流程简单得多。没有更多的特殊解析，排序，或编码。<br>OAuth2.0的访问令牌是“短命”的。通常情况下，OAuth1.0的访问令牌可以存储一年或一年以上（Twitter从来没有让他们到期）。 OAuth的2.0有刷新令牌的概念。虽然我不能完全肯定这是什么意思，我的猜测是，您的访问令牌可以是短暂存储的（即基于会话），而你可以刷新令牌。你使用刷新令牌获取新的访问令牌，而不是让用户重新授权您的应用程序。<br>最后，OAuth2.0使得负责处理的OAuth请求的服务器和处理用户的授权服务器之间的角色有一个干净的分离。更多信息，在上述的文章中详述。</p><p><strong>Q</strong>：OAuth2服务器群怎么使用state来防范CSRF？<br><strong>A</strong>：state只是一个随机的字符串，可以做这样的事情：$state = md5(uniqid(rand(), TRUE));在session中记录satate，以便稍后你能做验证。一些额外的资料：<a href="http://tools.ietf.org/html/draft-ietf-oauth-v2-threatmodel-00" target="_blank" rel="noopener">OAuth2威胁文件模型</a>，<a href="http://tools.ietf.org/html/draft-ietf-oauth-v2-26#section-10.12" target="_blank" rel="noopener">特别CSRF保护</a>                                    </p>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>当我想用css3实现一个动作类库</title>
      <link href="/2012/12/31/css3-animater/"/>
      <url>/2012/12/31/css3-animater/</url>
      
        <content type="html"><![CDATA[<p>当我如是想的时候，事实上我已想了很久。后来被各种纠结的差事冲乱了生活和心绪，并且心里认为这是个妥当无比的借口。找到了借口后一拖再拖，果然认识到deadline才是第一生产力的真理。最近，却是被朋友的一句话逼急了，他跟我说：我们的业务用到了css4的新属性！</p><p>这句话的意思，大体等同于说，我买到了一个iphone6，亲你怎么看？<br><a id="more"></a><br>它在我脑中纷乱起舞，那是plans vs zombies中一大波僵尸正在逼近的场景。是的，再不行动，就要被技术的狂潮给淹没了！日前，就我的浅薄见闻，当html5越来越多的功能被应用到业务主功能上，诸如本地存储，拖拽优化，postMessage通信…css3却是另一番光景。一方面，一个个绚丽效果的css3-demo在网上被围观与叫好，大家却又在为浏览器兼容性和差异性这座大山望而却步。css3技术在大家眼中更偏向于一种优化的体验，等于说，你不敢用它来实现网站的key point，即使是一个圆角，不问技术细节的产品经理也会想使用图片来代替的。</p><p>因此，缘由可以归结为：我忍够了。要玩，就玩个大的。</p><p>其实虽然我想了很久，但这个“想”，更偏向于单纯的幻想，而不是思考。暑假的时候，在腾讯大讲堂看到有哥们分享css3与js的动画效率比较的演示，就萌生了这个想法。现在，在正式尝试编写类库之前，我想先写2~3个实验demo，来看看技术的复杂度以及一些可以避免的暗礁，并做好一些记录。当然这些demo必须得使用最新的chrome，firefox，opera以及ie8，9才能正常运行。</p><p>##<strong>第一个实验：人物sprite图动画实现，按键与位移的衔接</strong><br>请按键盘方向键控制人物运动：</p><iframe id="demoIframe" src="/assets/demo/pre_css3_demo/demo.html" width="641" height="483" scrolling="no"></iframe><p>##<strong>最深的体会</strong><br><strong>我的js代码需要怎样“辅助”css3？</strong><br>按照我的理解，如果是说一个dom元素的“动作”的话，完全可以用纯css3来实现，而且你可以将dom的动作串连起来。<br>例如：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> q-down &#123;</span><br><span class="line">     0%&#123;</span><br><span class="line">          <span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(0deg);</span><br><span class="line">          <span class="attribute">top</span>:<span class="number">10px</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     33%&#123;</span><br><span class="line">          <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(1.5);</span><br><span class="line">          <span class="attribute">top</span>:<span class="number">147px</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     66%&#123;</span><br><span class="line">          <span class="attribute">top</span>:<span class="number">10px</span>;</span><br><span class="line">          <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(50px,50px);</span><br><span class="line">     &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">         <span class="attribute">top</span>:<span class="number">147px</span>;</span><br><span class="line">         <span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(45deg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-animation</span>:q-down  ease;</span><br><span class="line">    <span class="attribute">-webkit-animation-duration</span>: <span class="number">2s</span>;</span><br><span class="line">    <span class="attribute">-webkit-animation-timing-function</span>: linear;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(45deg);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">147px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>dom元素会在0%，33%，66%，100%这些时间点上做出相应的效果响应。<br><strong>这样的动作序列还会有什么问题吗？</strong><br>在demo当中，我设置了按一下“左”键，人物向左偏移一格，按一下“下”键，人物下移一格，于是我就遇到了这样的两种情况：<br>    1、用户按下“下”，人物向下偏移动作完成后，他仍不放手，此时同时按了“左”<br>    我认为此时用户在使用“双键”，这时人物会再向左下方向都偏移一格。<br>    2、用户“几乎”同时按下“下”和“左”，由于js每次只能检测单键的keycode<br>    程序会判断用户是先按下了某个键，再使用了双键。<br>    而用户之所以“几乎”同时按下，本是希望只执行“双键”的。</p><p><img src="/assets/blogImg/css3_anm.jpg" alt="两种情况"><br>1与2的区别，其实就是双键产生时，两个按键的时间间隔的区别。时间间隔长，用户是需要1这种效果的，而时间间隔短，用户就是想只执行“双键”。但程序是固定的，无论时间间隔有多短，在它看来就是有先后，因此程序认为2和1是一样的。我在demo里，就用了时间戳的方式，而这种方式，其实是“投机取巧”的一种方式。</p><p>回到上面那个问题来，这样的纯css3动作序列有什么问题？时间的问题更深入一点我可以得到结论：<br>    那就是无法侦听一个css3动作是否已经结束。<br>如果我能够侦听动作是否正在执行，那么一切就好办了，如果前动作已完成，我就像情况1一样“先单键再双键”去操作，如果前动作未完成，我就判断用户是想只执行“双键”。</p><p>OK，js代码就是要像jquery的animate方法一样，构造一个动作的队列，存放用户积累下来的动作，并作好回调判断。</p>]]></content>
      
      
      
        <tags>
            
            <tag> css3 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>生产者-消费者模型的coffeescript实现</title>
      <link href="/2012/12/24/coffee-pc/"/>
      <url>/2012/12/24/coffee-pc/</url>
      
        <content type="html"><![CDATA[<p>这两天一直在看coffeescript相关的东西，也帮一个朋友搞了个生产者-消费者模型的C语言实现。想到还没用coffeescript真正意义上写过程序，那就尝试做一下吧。</p><p>其实<a href="http://read.douban.com/ebook/198648/" target="_blank" rel="noopener">《CoffeeScript小书》</a>是暑假实习时就买了，一直比较向往着函数式编程却拖延了很久没行动起来。小书只有几十页，本是github上一个开源的项目，我喜欢这种轻巧的文字。语法部分看下来，再看下类与继承，只花了半天的时间，而且心情非常愉悦，然后就可以开始我菜鸟的第一次试飞了。</p><p>生产者-消费者模型没什么好说的了，就是读写共享缓冲区，pv操作控制是否冲突。更多的就是冲着coffeescript来的。下面是一些凌乱但自认为有思考价值的记录，或许后续我会继续写一些coffeescript的学习笔记，再做深入的研究。<br><a id="more"></a></p><p>##<strong>demo，可尝试点击“生产”“消费”按钮</strong></p><p><iframe src="/assets/demo/coffee_pc_demo/pro-con.html" width="780" height="336" scrolling="no"></iframe></p><p>##<strong>litten如是想：</strong></p><ul><li>我一定要学一门，至少一门函数式风格编程语言，没有太深远的想法，就觉得它就是我的菜       </li><li>这个程序是66行的coffeescript代码，最后编译后得到了122行的js代码，说明编程效率提升显著          </li><li>括号，方括号，花括号，还有逗号有时候会多烦人，特别是使用过ExtJs的人，而coffeescript可以没有</li><li>用法简洁的jquery在coffeescript里面会更简洁                   </li><li>关于coffeescript的循环，它不推荐你使用for循环，而是使用“推导”，暴露在底层的循环只有while语法        </li><li>事件绑定时，使用=&gt;可以免去js上下文切换this的麻烦               </li><li>coffeescript的数组迭代方法非常的酷，三言两语说不清             </li><li>javascript会是下一个JVM吗？              </li><li>站在产品的角度，我认为coffeescript这名字太长了-_-!              </li></ul><p>##<strong>附上源码</strong><br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">N = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProCon</span></span></span><br><span class="line">data: </span><br><span class="line">mutex:<span class="number">1</span></span><br><span class="line">empty:N</span><br><span class="line">full:<span class="number">0</span></span><br><span class="line">front:<span class="number">0</span></span><br><span class="line">rear:<span class="number">0</span></span><br><span class="line">buf: []</span><br><span class="line">init:<span class="function">-&gt;</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i&lt;N</span><br><span class="line">newDom = $(<span class="string">'&lt;div class="bufBox"&gt;&lt;div class="bufCover"&gt;'</span>+i+<span class="string">'&lt;/div&gt;'</span>+i+<span class="string">'&lt;/div&gt;'</span>)</span><br><span class="line">$(<span class="string">'#buf'</span>).append(newDom)</span><br><span class="line">@data.buf.push <span class="string">'e'</span></span><br><span class="line">i++</span><br><span class="line">$(<span class="string">'#produce'</span>).click =&gt;</span><br><span class="line">@producer()</span><br><span class="line">$(<span class="string">'#consume'</span>).click =&gt;</span><br><span class="line">@consumer()</span><br><span class="line">p:<span class="function"><span class="params">(num)</span>-&gt;</span></span><br><span class="line"><span class="keyword">return</span> --num</span><br><span class="line">v:<span class="function"><span class="params">(num)</span>-&gt;</span></span><br><span class="line"><span class="keyword">return</span> ++num</span><br><span class="line">produceItem:<span class="function">-&gt;</span></span><br><span class="line">$(<span class="string">'&lt;p class="desPro"&gt;生产了产品&lt;/p&gt;'</span>).insertBefore $(<span class="string">"#des p:first"</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="string">'m'</span></span><br><span class="line">consumeItem:<span class="function">-&gt;</span></span><br><span class="line">$(<span class="string">'&lt;p class="desCon"&gt;消费了产品&lt;/p&gt;'</span>).insertBefore $(<span class="string">"#des p:first"</span>)</span><br><span class="line">enterItem:<span class="function"><span class="params">(item)</span> -&gt;</span></span><br><span class="line">@data.front = (@data.front+<span class="number">1</span>)%N</span><br><span class="line">@data.buf[@data.front] = item;</span><br><span class="line">str = <span class="string">"存入产品<span class="subst">#&#123;@data.buf[@data.front]&#125;</span>到缓冲区<span class="subst">#&#123;@data.front&#125;</span>"</span></span><br><span class="line">$(<span class="string">"&lt;p class='desPro'&gt;<span class="subst">#&#123;str&#125;</span>&lt;/p&gt;"</span>).insertBefore $(<span class="string">"#des p:first"</span>)</span><br><span class="line">$($(<span class="string">'.bufCover'</span>)[@data.front]).animate </span><br><span class="line"><span class="string">"height"</span>:<span class="string">"50px"</span></span><br><span class="line">removeItem:<span class="function">-&gt;</span></span><br><span class="line">@data.rear = (@data.rear + <span class="number">1</span>) % N;</span><br><span class="line">@data.buf[@data.rear] = <span class="string">'e'</span>;</span><br><span class="line">str = <span class="string">"取出产品<span class="subst">#&#123;@data.buf[@data.rear]&#125;</span>从缓冲区<span class="subst">#&#123;@data.rear&#125;</span>"</span></span><br><span class="line">$(<span class="string">"&lt;p class='desCon'&gt;<span class="subst">#&#123;str&#125;</span>&lt;/p&gt;"</span>).insertBefore $(<span class="string">"#des p:first"</span>)</span><br><span class="line">$($(<span class="string">'.bufCover'</span>)[@data.rear]).animate </span><br><span class="line"><span class="string">"height"</span>:<span class="string">"0px"</span></span><br><span class="line">producer:<span class="function">-&gt;</span></span><br><span class="line"><span class="keyword">if</span> @data.full==N</span><br><span class="line">$(<span class="string">"&lt;p class='desSpe'&gt;缓冲区已全满&lt;/p&gt;"</span>).insertBefore $(<span class="string">"#des p:first"</span>)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">item = @produceItem()</span><br><span class="line">@data.empty = @p(@data.empty)</span><br><span class="line">@data.mutex = @p(@data.mutex)</span><br><span class="line">@enterItem(item)</span><br><span class="line">@data.mutex = @v(@data.mutex)</span><br><span class="line">@data.full = @v(@data.full)</span><br><span class="line">consumer:<span class="function">-&gt;</span></span><br><span class="line"><span class="keyword">if</span> @data.empty==N</span><br><span class="line">$(<span class="string">"&lt;p class='desSpe'&gt;缓冲区已空&lt;/p&gt;"</span>).insertBefore $(<span class="string">"#des p:first"</span>)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">@data.full = @p(@data.full)</span><br><span class="line">@data.mutex = @p(@data.mutex)</span><br><span class="line">@removeItem()</span><br><span class="line">@data.mutex = @v(@data.mutex)</span><br><span class="line">@data.empty = @v(@data.empty)</span><br><span class="line">@consumeItem()</span><br><span class="line"></span><br><span class="line">procon = <span class="keyword">new</span> ProCon</span><br><span class="line">procon.init();</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> coffeescript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css实现九宫格(二)</title>
      <link href="/2012/12/21/css-jiugongge2/"/>
      <url>/2012/12/21/css-jiugongge2/</url>
      
        <content type="html"><![CDATA[<p>书接上回，<a href="http://litten.github.com/2012/12/14/css-jiugongge/" target="_blank" rel="noopener">上回在这</a>。</p><blockquote><p>9个元素，每个50*50px，排成九宫格<br>默认是border颜色为blue，hover到格子上变成red（兼容到IE6）</p></blockquote><p><img src="/assets/blogImg/jiugongge1.jpg" alt="css题目">     </p><p>题目的关键是解决“公用边”，上次我主要做了两个方面的尝试：</p><blockquote><p>用负margin使元素的border叠加<br>用table的border-collapse实现边框合并</p></blockquote><p>这一次的思路则更加简明，也是个人认为是更好的方法。感谢<a href="http://weibo.com/u/1666828424" target="_blank" rel="noopener">队长</a>提供的思路。</p><a id="more"></a><p>##<strong>能不能不用border？</strong><br><img src="/assets/blogImg/jiugongge10.jpg" alt="一个格子的透视图，a其实充当了div的“边框”"><br>如果不用border，怎么实现hover后，格子四周变红呢？那肯定是两个dom嵌套在一起，一大一小，小的dom作为“格子”，大的dom作为格子的红色“边框”。先看我初始化的一个格子设定：<br>html：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>初始css:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#AAA</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">55px</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">55px</span>;</span><br><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line"><span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line">```<span class="selector-tag">css</span></span><br><span class="line">由于<span class="selector-tag">a</span>标签设置了宽度为55<span class="selector-tag">px</span>，<span class="selector-tag">div</span>标签设置了宽度为50<span class="selector-tag">px</span>，这时候格子<span class="selector-tag">hover</span>看起来只露出了**右边**的5<span class="selector-tag">px</span>红色部分。          </span><br><span class="line"></span><br><span class="line">接下来，div添加属性&lt;code&gt;margin-top:5px;margin-right:5px&lt;/code&gt;，这时可以显示**上部**的5px边框。再接着，在div的容器，也就是a标签设置&lt;code&gt;padding-left:5px;padding-bottom:5px;&lt;/code&gt;，使格子**左边框**和**下边框**都显示出来。</span><br><span class="line"></span><br><span class="line">![完成一个格子的设置步骤](/assets/blogImg/jiugongge8.jpg)      </span><br><span class="line"></span><br><span class="line">那么为什么要将<span class="selector-tag">a</span>标签设置为55<span class="selector-tag">px</span>，再进行一系列关于<span class="selector-tag">margin</span>和<span class="selector-tag">padding</span>的设置呢，原因我们最后再说。</span><br><span class="line"></span><br><span class="line">因此修改后的<span class="selector-tag">css</span>为：</span><br><span class="line">```<span class="selector-tag">css</span></span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#AAA</span>;</span><br><span class="line"><span class="attribute">margin-right</span>:<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-top</span>:<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">55px</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">55px</span>;</span><br><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line"><span class="attribute">margin-right</span>: -<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line"><span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>##<strong>九个格子会怎样？</strong><br>将a标签左浮动，同时添加到九个格子，这时候的效果是：两个格子之间会有10px的距离。</p><p>为解决“公用边”问题，在a标签添加负值的margin：<code>margin-right:-5px;margin-bottom:-5px;</code>。最后将最外层的容器#test的宽度和高度设置为170px(50<em>3+5</em>4)，背景设置为蓝色。这时候大功告成了。</p><p><img src="/assets/blogImg/jiugongge9.jpg" alt="完成九个格子的设置步骤">      </p><p>最终的代码是：<br>html：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>7<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>8<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>9<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>css：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#test</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">170px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">170px</span>;</span><br><span class="line"><span class="attribute">background</span>: blue;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#AAA</span>;</span><br><span class="line"><span class="attribute">margin-right</span>:<span class="number">5px</span>;<span class="comment">/*这句不要也可以*/</span></span><br><span class="line"><span class="attribute">margin-top</span>:<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">55px</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">55px</span>;</span><br><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line"><span class="attribute">text-decoration</span>: none;</span><br><span class="line"><span class="attribute">padding-left</span>: <span class="number">5px</span>;</span><br><span class="line"><span class="attribute">padding-bottom</span>: <span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-right</span>: -<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line"><span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>##<strong>巧妙在哪里？</strong></p><ul><li>a标签hover前不设置背景色，露出最外层#test的蓝色背景，看起来格子有蓝色的边框；a标签hover时背景色设置为红色，充当了格子的红色边框；       </li><li>a标签设置为55px是最关键的一点。按照此思路和题目要求，格子是50px大小，边框的dom应该是60px大小。而此时a设置为55px，因为a要设置<code>padding-left:5px;padding-bottom:5px;</code>，刚好a就有60px大小了；而a里面的div要设置<code>margin-top:5px;margin-right:5px</code>（其实margin-right也可以不加）,这时候margin和padding就达到了一个“中和”的效果，使布局不发生偏差。</li></ul><p>点此看<a href="/assets/demo/jiugongge_demo2.html">demo</a>。</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>圣诞到了，帮修改一个头像</title>
      <link href="/2012/12/19/a-chrismas-ico/"/>
      <url>/2012/12/19/a-chrismas-ico/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/blogImg/xmas_ico0.jpg" alt="ico原来的样子">      </p><blockquote><p>帮忙把这只狐狸塞到圣诞袜子里或者带上圣诞帽~~~~ ——鱼头       </p></blockquote><a id="more"></a><p>鱼头君，我终于做好了！花了我整整……好吧，其实是一直偷懒没做我就承认了。<br>按照你的要求，弄成这样的：<br><img src="/assets/blogImg/xmas_ico1.jpg" alt="狐狸妹纸太大我塞不下-_-!"><br>或者这样的：<br><img src="/assets/blogImg/xmas_ico2.jpg" alt="圣诞帽的狐狸妹纸"><br>其实我最喜欢的是这样的：<br><img src="/assets/blogImg/xmas_ico3.jpg" alt="呆萌傻缺才是我得菜好么">         </p><p><strong>Happy Chrismas!</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> 设计 </tag>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>记“刺客信条”三部曲：水月镜像，无心去来</title>
      <link href="/2012/12/18/assassins-creed/"/>
      <url>/2012/12/18/assassins-creed/</url>
      
        <content type="html"><![CDATA[<p><img src="/assets/blogImg/ckxt0.jpg" alt="刺客信条-兄弟会海报">     </p><blockquote><p>Nothing is true, everything is permitted.万物皆虚，万事皆允。        </p></blockquote><p><em>—— 《刺客信条2》《刺客信条：兄弟会》《刺客信条：启示录》-Ezio三部曲</em><br><a id="more"></a></p><p>实习回来后，在朋友的推荐下玩了刺客信条这款游戏，感触挺深，后来想一定要为它写点文字。闭眼一想，还是那句话萦回脑中：我们为了服侍光明而耕耘于黑暗……万物皆虚，万事皆允。却不知道这句话该怎么翻译，被游戏寓意为“信条”的话语，相对于它的题材所包含的深度，好像任何翻译都会带来偏差。很难用几句话描述清楚这部作品，它展现了完全不同的世界与价值，过去与现在，生存与死亡，仇恨与宽容，这些宽泛弘毅的对立词相互交织，在刀刃与鲜血中重获新释，浓缩于主人公Ezio的一生。</p><h2 id="虚"><a href="#虚" class="headerlink" title="虚"></a><strong>虚</strong></h2><p>Ezio诞生于文艺复兴时期的佛罗伦萨，作为银行家的富二代，每日就是游手好闲沾花惹草。还记得游戏的第一个任务就是去打架，然后爬上高楼跟姑娘幽会。生活波澜不惊，基调如翡翠般平和，蓝天白云之下的鲜花之城给予了Ezio太多纨绔子弟的气息。而至于后来，当他每次的任务都要手起刀落快意恩仇，然后安抚亡者的灵魂，当他对深爱的Sophia的请求无奈道出对不起我的时间很宝贵，当他在异乡的深夜给妹妹Claudia满怀深情地写信时，你才会发现，他动荡的内心深处，自有一个不曾惊扰的世界，一个不曾惊扰的翡冷翠。那些逝去的日子，在游戏开头略显无聊的情景，恰如一个简朴的别针，固定在心中最纯粹的角落。</p><p><img src="/assets/blogImg/ckxt1.jpg" alt="奔波到威尼斯的Ezio">  </p><p>以至于说，何以为正义，真理，信仰，自由？这都是些多么美好的词语，然而都不是Ezio最终想要的，又恰好是他，见过了太多为了这些美好而疯狂追逐，最终坠下深渊的人。好奇害死猫，人又何尝不是？因此，创世的神让人间有了死亡。刺客从天而降，帽檐遮住他的眉宇，和平鸽还不知晓下一刻的慌乱，风起风止间，优雅的袖刃已将迷乱的鲜红绽放。</p><p>Ezio更像一个布道者，将“虚”的信条用死亡的方式传谕。而事物的真实与否，本来就无所谓人的好坏。朋友Leonardo是虚的，他花了很多心里发明战争机器，下一刻就想摧毁它们；叔叔Mario是虚的，一个质朴果敢的领路人，在庄园陷落时便虎落平阳；Niccolo也是虚的，一个满腹经纶兢兢业业的刺客首领，却一度被当作内奸。连Ezio本人也是虚的，从佛罗伦萨的起步，到威尼斯的追寻，再到罗马的复兴，最后到君士坦丁堡的迟暮，其实Ezio最终才认识到，自己不也是为所谓的复仇与荣耀努力了一辈子吗？原来那个最先坠入深渊的人，正是Ezio自己。</p><p><img src="/assets/blogImg/ckxt2.jpg" alt="刺客从天而降">      </p><p>因此，Ezio最后在和害死了父兄的教皇Rodrigo对峙时，留下这句信条而放过了他（最终反被儿子Cesare毒死）。这一刻，不知手染太多鲜血的刺客大师是否想到了多年前的一尘不染的佛罗伦萨。抉择与变卦，过一分钟就不能再回头。Ezio的身后这座辉煌的城市，原本就是他想终结邪恶，获得荣耀的目的地。如今，城市更加辉煌，以往的日子，爱人，自由，却一并失去了踪影。相对于当下，他知道一切于事无补，反而有一种繁花落尽，悄然入土的随性。他赫然发现Nothing is true原来不是对别人的告诫，而是对自己内心深处最无奈的独白。</p><h2 id="允"><a href="#允" class="headerlink" title="允"></a><strong>允</strong></h2><p>任何一个刺客，加入brotherhood时都要完成一个仪式。他们从城市最高的塔尖上俯瞰全城，然后向着塔底的草堆高高跃下。他们在跃下的那一刻伸展手臂，一种近乎疯狂的自由呼啸而来，将烦恼和恐惧抛诸脑后，你很容易联想到鹰的意象。我们总是可以将道理示于别人，却无法说服自己。这种仪式无疑是对自身的勇敢与自由最好的诠释，刺客们以这样的方式向城市宣告，他们的行为准则秉承信仰，允许他们在法律和道德中掌握邪恶者的生杀大权。他们称之为“信仰之跃”。</p><p><img src="/assets/blogImg/ckxt3.jpg" alt="信仰之跃">      </p><p>他们在塔尖飘飞消失，城市的风景情韵尽收眼底，背后是虚无的高塔，火焰，荣耀，前方是被允许的使命。而一个人的好与坏，生与死，无时不在拷问着Ezio的灵魂。是的，他也刺杀过好人，而他更多选择了沉默与忘却。允许，到底谁在允许？导师Altair在多次刺杀后终于有觉悟的说：“我所杀的人都对我说了些奇怪的话。他们都没有后悔。即使快死了，他们也看着对胜利很有自信。法律不是来自于神，而是理性。我现在明白了我们的信条不是要求我们去自由。是要求我们智慧。”一个允字，要么成为刺杀后不觉得罪恶的借口，要么成为超越假象的大智慧。</p><p>游戏情节里有一幕我印象特别深，年迈的Ezio将地下城军火库的首领刺死，单膝跪地抱着他的尸体，缓缓的说：“杀戮是可耻的…”。你能否想象，这是一个手沾鲜血，以刺杀为荣的刺客大师，对着刚被自己刺杀的将亡人说出的一番话。人到了死神降临这一步，才会明白所谓是非成败转头空，才会明白权利和金钱都会在下一次眨眼中灰飞烟灭。而杀人者Ezio此时最想告诉对方的，就是对方杀戮的原罪，不是其他。Ezio此时的眼神不是锋利的，而是坚定如磐石，我想到这一步，头发灰白的Ezio是参透了信条何谓“万事皆允”。Ezio异常从容与坚定，他知道他的杀戮必将会带来救赎，这是上天的允许，也是内心的智慧。刀锋使处，字句溃逃，任何的道理都无法阻止手中将逝的灵魂。<br><img src="/assets/blogImg/ckxt4.jpg" alt="年迈的Ezio">      </p><p>到了这个时候，才知道年过半百的Ezio为什么在君士坦丁堡受这么多人的尊重，才知道为什么他严厉指责因鲁莽而错杀他人的徒弟，不全是因为高明的刺杀艺术，更多的是他比更多年轻人知道内心一个允字的定夺。而最后，Ezio完成了对自己的救赎，英雄迟暮，卸甲归田。一颗颠簸的心，终于泡在村灯狗吠之中。在定夺了这么多人的命运之后，他终于想到了自己，想到了Sophia，想到了佛罗伦萨。如果世上有一个人能阻止他，那这个人肯定是Ezio自己，因而他允许了英雄的离去，从容的卸下袖剑，留下背影，自此，永不回头。而门前的花与阳光在岁月中偷偷窜出，似乎等了他几十年。</p><p>Ezio最后的信：</p><blockquote><p>When I was a young man,<br>当我还是个年轻的小伙子<br>I had liberty, but I did not see it.<br>我拥有自由，却从未认知<br>I had time, but I did not know it.<br>我拥有时间，却毫不知情<br>And I had love, but I did not feel it.<br>而我亦拥有爱，却从未感觉到<br>Many decades would pass before I understood the meaning of all three.<br>直到数十年过去后，我才真正理解这三项的意义<br>And now, the twilight of my life, misunderstanding has past into contentment.<br>而现在，垂暮之年的我，这领悟让我感到满足<br>Love, liberty, and time: once was so disposable, are the fuels that drive me forward.<br>曾经能自由支配的爱，自由以及时间，是支持我前进的动力<br>And love, most especially, mia caro.<br>而爱，是最特别的一个， 亲爱的<br>For you, our children, our brothers and sisters.<br>为你，为我们的孩子以及为我们的兄弟姐妹们<br>And for the vast and wonderful world that gives us lives and keeps us guessing,<br>为这赐予我们生命与惊奇的广阔，精彩的世界<br>endless affection，mio Sofia,<br>至死不渝的挚爱， 我的索菲亚<br>Forever yours, Ezio Auditore<br>永远属于你的， Ezio Auditore                   </p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> 旧事 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>分享一个IE6，7的CSS hack bug</title>
      <link href="/2012/12/17/posts/"/>
      <url>/2012/12/17/posts/</url>
      
        <content type="html"><![CDATA[<p>###一、分享一个IE6，7的css hack bug。<br><img src="/assets/blogImg/css_hack.jpg" alt="css hack">   </p><blockquote><p>IE和我们之间，肯定有一个是傻逼，如果它不是，那我们准是。不然很多事情没法解释…  ——多么痛的领悟 </p></blockquote><a id="more"></a><p>先看代码，或者点击看<a href="/assets/demo/hack_demo.html">demo</a><br>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>css:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#main</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#main</span> <span class="selector-class">.box</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#main</span> <span class="selector-class">.box</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line"><span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line"><span class="comment">/*background: #333;*/</span></span><br><span class="line"><span class="comment">/*background: #999;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>.box设置了的四行核心代码是：          </p><ul><li><code>float:left</code> - 左浮动         </li><li><code>margin-left: 10px</code> - 左外边距为10px            </li><li><code>position: relative</code> - 因为在box里面想用一个dom做绝对定位            </li><li><code>background: #333</code> - 设置background颜色为#333<br>当.box触发hover时，做了一步z-index的改变，这时候在IE6，7中出现bug：因margin-left失效，.box会向左移动10px；而且这时候设置margin-left是不起作用的，hover结束后.box也不会回到原来的位置。</li></ul><p>###二、淡定解决异次元的bug</p><p>诡异的事情最后水落石出：<strong>background属性居然影响了margin</strong>。</p><p>将.box:hover多加一行background属性，比如：<code>background: #999</code>，这样子在IE上“看上去”就解决了。<br><strong>但是</strong>，就当你以为解决了bug的时候，如果.box:hover的background颜色设置与hover之前的颜色一样，也就是设置为<code>background: #333</code>，阴魂不散的bug又会重新出现啦。</p><p>庆幸你的需求是background颜色不一样吧。如果还真是悲剧到要做成一样的颜色，解决的办法恐怕只能是取消.box的<code>position: relative</code>，然后多加一层dom容器了。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="box"&gt;</span><br><span class="line">&lt;div style="position: relative"&gt;…&lt;/div&gt;</span><br><span class="line">…</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css实现九宫格(一)</title>
      <link href="/2012/12/14/css-jiugongge/"/>
      <url>/2012/12/14/css-jiugongge/</url>
      
        <content type="html"><![CDATA[<p>前段时间，我的 leader Henry在群里面分享了一道<a href="http://www.etao.com/" target="_blank" rel="noopener">一淘</a>的面试题。         题目非常的有趣，忙完前阵的工作之后突然记起，也尝试做了一下。</p><blockquote><p>9个元素，每个50*50px，排成九宫格<br>默认是border颜色为blue，hover到格子上变成red（兼容到IE6）</p></blockquote><p><img src="/assets/blogImg/jiugongge1.jpg" alt="css题目">    </p><a id="more"></a><p>做成九宫格大家都会，但题目的陷阱就在hover上。鼠标hover到格子4，格子5时，其实他们“共用”了一条边。由于是纯css实现的，我们不可能说用js去动态改变dom，因此怎样实现“公用边”就成为了难点。</p><p><strong>尝试的过程：</strong>           </p><ul><li>我的第一个想法，用“叠加”的方式实现“公用边”；        </li><li>后来的想法，用table的border-collapse实现“公用边”；          </li><li>在table想法的基础上改进；</li><li>一种更简便的做法，不需要border，见九宫格(二)                       </li></ul><p>##<strong>我的第一个想法</strong>       </p><p>先做做看，尝试永远是第一步。我将9个div都设置了5px的border，排成了九宫格，添加了hover，这时候初始的效果是：<br><img src="/assets/blogImg/jiugongge2.jpg" alt="初始效果"><br>这样其实格子之间的距离是两倍border（10px）。需要再将中间的一竖（2，5，8）设置<code>margin-left:-5px;margin-right:-5px;</code>,再将中间的一横（3，4，5）设置<code>margin-top:-5px;margin-bottom:-5px;</code>，这样等于是强制把格子间的距离“拉”到5px。<br><img src="/assets/blogImg/jiugongge3.jpg" alt="把格子间的距离“拉”到5px"><br>到这一步，简单的九宫格是完成了，但hover之后会发现，格子的边会被挡住（格子5的下边和右边分别被格子8和格子6挡住）。因为这里“公用边”的思路准确来说是“重合边”，是用负值的margin强制定位的。而我的解决方式是hover时添加<code>z-index:999</code>，让hover到的格子在最上层显示而不会被挡住。同时，不要忘记在9个div的css里面添加一句让z-index生效的<code>position: relative;</code>，具体原因看<a href="http://www.csser.com/question/4f4332dedbc7b0ac4c00034e" target="_blank" rel="noopener">这里</a>。     </p><p>代码君：<br>1.html：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"lr_indent"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tb_indent"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"lr_indent tb_indent"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tb_indent"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>7<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"lr_indent"</span>&gt;</span>8<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>9<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>2.css:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#test0</span>&#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">30px</span>;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test0</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#00f</span>;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#090</span>;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test0</span> <span class="selector-class">.lr_indent</span>&#123;</span><br><span class="line"><span class="attribute">margin-left</span>: -<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-right</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test0</span> <span class="selector-class">.tb_indent</span>&#123;</span><br><span class="line"><span class="attribute">margin-top</span>: -<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test0</span> <span class="selector-tag">div</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#f00</span>;</span><br><span class="line"><span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#eee</span>;<span class="comment">/*必须加这一句，在IE6，7有bug*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>思考：这样的方式好吗？不够好。<br>这才是9宫格，如果是16，25，…，81个格子，设置margin缩进的人力代价是很高的。<br>兼容性，在IE6，7下，负值margin在hover时候有bug。</p></blockquote><p><img src="/assets/blogImg/jiugongge4.jpg" alt="ie6，7下，hover时负值margin-left不起效">      </p><p>##<strong>后来的想法</strong>      </p><p>经过第一次尝试，我得到一个经验：<code>要用一种通用的方法去解决“公用边”</code>，而不是分别设置.lr_indent和.tb_indent。<br>随即我想到了表格。作为table，它有个很突出的属性，就是合并border，css里面的设置为<code>border-collapse:collapse;</code>。ok，这就是key point。</p><p>按照这个思路，我简单的编写了代码，一开始我把hover定位到td上面去，发现hover时也会出现第一个想法中“挡住”的情况。而且，去将td的position改变，再添加z-index的方法是不可能有用的(z-index不会起效)。   </p><p>我的方法是在td中包含一个span，把hover定位到span中去，td设置为<code>position:relative;</code>，span设置为<code>position:absolute;</code>，这时候的hover就可以设置让span的border不被挡住展示了。<br>代码君又来了：<br>html：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test1"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>6<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>7<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>8<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>9<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>css：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line"><span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test1</span> <span class="selector-tag">td</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#00f</span>;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test1</span> <span class="selector-tag">td</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#090</span>;</span><br><span class="line"><span class="attribute">display</span>:block;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test1</span> <span class="selector-tag">td</span> <span class="selector-tag">span</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#f00</span>;</span><br><span class="line"><span class="attribute">margin-top</span>:-<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-left</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>别忘了span在hover时，必须设置一个负的<code>margein-top</code>和<code>margein-left</code>，以保证红色边框恰好定位在格子四周。见css君最后的片段。假如不设置，你看到的将是这样：<br><img src="/assets/blogImg/jiugongge5.jpg" alt="未设置span:hover的margin"><br>本以为已经大功告成了，在IE中测试却让我傻了眼：<br><img src="/assets/blogImg/jiugongge6.jpg" alt="IE7下的情景"><br>（ps：作为前端一枚，我已经做好了妥妥的心理准备，但此情此景还是让人喷出一口老血……）</p><p>##<strong>改进，改进</strong>         </p><p>说实话，table和div之争这么多年，大家都在页面中用越来越多的div，而越发的鄙视table，反而对table的熟悉程度反应了前端们的基础是否扎实。吃一堑长一智，这句话特别适用于在table中翻江倒海的亲们。</p><p>改进！</p><p>首先这个bug（也无所谓是不是bug，算是浏览器的差异性吧）我知道，在table的td里面设置了<code>position:relative;</code>就会在IE中出现这样的情况。注意是所有的IE哦，包括IE10。而根据第二个思路，最后的hover定位的元素为span，它本身设定为<code>position:absolute;</code>它的父级元素必须得设置<code>position:relative;</code>才能完成题目功能，这是毋庸置疑的。</p><p>既然现在span的父级td不能设置<code>position:relative;</code>，我就在它们之间添加一个div，用来做span的容器。 </p><p>代码君再一次来了：<br>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"test2"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>6<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>7<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>8<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>9<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>css:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line"><span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test2</span> <span class="selector-tag">td</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#00f</span>;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line"><span class="attribute">vertical-align</span>: top;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test2</span> <span class="selector-tag">td</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line"><span class="attribute">position</span>:relative;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test2</span> <span class="selector-tag">td</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#090</span>;</span><br><span class="line"><span class="attribute">display</span>:block;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#test2</span> <span class="selector-tag">td</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#f00</span>;</span><br><span class="line"><span class="attribute">margin-left</span>: -<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin-top</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>OK，效果达成！<br><img src="/assets/blogImg/jiugongge7.jpg" alt="最终完成的效果"><br>可以猛点这里看看<a href="/assets/demo/jiugongge_demo.html">demo</a>。        </p><p><strong>最后吐槽，不对，总结一下下：</strong>           </p><blockquote><p>先到IE上去测，再转到其它浏览器，以少走弯路，这叫擒贼先擒王-_-!；<br>win8的metro布局最近挺流行的，有时候table比div好用；<br>IE君，你真是……此处省略1024个字                </p></blockquote><p>这个系列打算写两篇文章，下一篇介绍另外一种更简洁的方法。:)</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
